<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ford Circles</title>

  <meta name="description" content="View Ford circles.">
 
    <style>
      html,body{width:100%;height:100%}/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}details{display:block}summary{display:list-item}html{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*,*::before,*::after{-webkit-box-sizing:inherit;-moz-box-sizing:inherit;box-sizing:inherit}

    </style>
    <link rel="stylesheet" href="/home/katex/katex_0.15.2.css" />
  </head>
  <body>
    <style>
      main {
        position: relative;
        padding: 0 1em;
        padding-top: var(--sidebar-top-height);
        grid-column: 1/3;
        grid-row: 2;
        overflow: auto;
      }

      .nav-sidebar {
        position: relative;
        grid-column: 1;
        background-color: var(--sidebar-bg);
        color: var(--sidebar-fg);
        font-size: 1.25rem;

        transform: translateX(-100%);
        transition: transform 150ms ease-in-out;
        z-index: 999;
      }

      .nav-home-top {
        grid-row: 1;
        grid-column: 1;
        padding-left: var(--sidebar-top-height);
        display: flex;
        align-items: center;
      }

      .nav-home-top a {
        font-size: 1.5rem;
        text-decoration: underline dotted;
        color: currentColor;
      }

      .nav-home-top a:hover {
        font-size: 1.5rem;
        text-decoration: underline;
      }

      #nav-sidebar {
        overflow: auto;
      }

      .nav-sidebar a {
        color: currentColor;
        text-decoration: underline dotted;
        text-underline-offset: 4px;
      }
      .nav-sidebar a:hover {
        text-decoration: underline;
      }

      .nav-list-1,
      .nav-list-2 {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 0.25em;
        align-items: center;
        padding: 0;
      }

      .nav-list-1 {
        gap: 1.5em;
        margin: 1em;
      }
      .nav-item-1,
      .nav-item-2 {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .nav-item-1 span::before,
      .nav-item-1 span::after {
        content: " - ";
      }
      .nav-item-1 span {
        margin-bottom: 0.5em;
      }
      #nav-sidebar-checkbox {
        position: absolute;
        transform: translateX(-100%);
      }
      #nav-sidebar-checkbox:checked ~ .nav-sidebar {
        transform: translateX(0);
      }
      #nav-sidebar-checkbox-label {
        position: absolute;
        display: block;
        cursor: pointer;
        padding: 10px;
        right: 0;
        height: var(--sidebar-top-height);
        width: var(--sidebar-top-height);
        color: black; /* TODO */
        transform: translateX(100%);
      }
      #nav-sidebar-checkbox-label:hover {
        background-color: #55555577;
      }
      #nav-sidebar-checkbox:checked ~ .nav-sidebar #nav-sidebar-checkbox-label {
        color: var(--sidebar-fg);
        transform: translateX(0);
      }

      @media (min-width: 1200px) {
        .nav-home-top {
          display: none;
        }
        /* Always visible sidebar */
        .nav-sidebar {
          transform: translateX(0);
        }
        #nav-sidebar-checkbox-label {
          display: none;
        }

        main {
          grid-column: 2;
        }
      }
    </style>
    <input
      id="nav-sidebar-checkbox"
      type="checkbox"
      aria-label="Toggle sidebar"
    />
    <aside
      class="nav-sidebar"
      style="
        grid-row: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-bottom: 1px solid white;
      "
    >
      <a href="/home/">Leo's Website</a>
      <label for="nav-sidebar-checkbox" id="nav-sidebar-checkbox-label">
        <svg style="height: 100%; width: 100%" viewBox="0 0 10 10">
          <path
            d="M0,2 10,2M0,5 10,5M0,8 10,8"
            stroke="currentColor"
            stroke-width="1"
          />
        </svg>
      </label>
    </aside>
    <aside id="nav-sidebar" class="nav-sidebar" style="grid-row: 2">
      <style>
        :root {
          --sidebar-bg: black;
          --sidebar-fg: white;
          --sidebar-top-height: 50px;
        }
        body {
          display: grid;
          grid-template-columns: max-content 1fr;
          grid-template-rows: var(--sidebar-top-height) 1fr;
          box-sizing: border-box;
        }

        nav a {
          color: currentColor;
          text-decoration: underline dotted;
          text-underline-offset: 4px;
        }
        .nav-top-bar {
          grid-column: 1/3;
          grid-row: 1;
          background-color: #ff000055;
        }
        nav a:hover {
          text-decoration: underline;
        }
        .n-ul1 {
          display: block;
          font-size: 1.5rem;
          list-style: none;
          padding: 0 0.5em;
        }
        .n-ul2 {
          display: block;
          font-size: 1.5rem;
          list-style: none;
          padding: 0 0.75em;
        }
        .n-li1 {
          margin: 1em 0;
        }
      </style>
      <nav class="nav-list-container">
        <ul class="nav-list-1"><li class="nav-item-1"><span tabindex="0">Web Apps</span><ul class="nav-list-2"><li class="nav-item-2"><a href="/home/projects/FareyFractions/">Farey Fractions</a></li><li class="nav-item-2"><a href="/home/projects/FordCircles/">Ford Circles</a></li><li class="nav-item-2"><a href="/home/projects/Hyperbola/">Hyperbolamethod</a></li><li class="nav-item-2"><a href="/home/projects/Subgroups/">Subgroups</a></li><li class="nav-item-2"><a href="/home/projects/SubgroupsTest/">Congruence Subgroups</a></li></ul></li><li class="nav-item-1"><a href="/home/projects/">All Projects</a></li><li class="nav-item-1"><span tabindex="0">Tiny Projects</span><ul class="nav-list-2"><li class="nav-item-2"><a href="/home/projects/textTest/">SVG Test</a></li></ul></li></ul>
      </nav>
    </aside>
    <div class="nav-home-top">
      <a href="/home/">Leo Sch√§fer</a>
    </div>

    <main id="content-root">

<style>
.content-fullscreen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.content-text {
  max-width: min(750px, 90%);
  margin-left: auto;
  margin-right: auto;
}
</style>
<div class="content content-fullscreen">
  <script >(()=>{var xe=Object.defineProperty;var Q=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var $=Math.pow,j=(i,e,t)=>e in i?xe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,_=(i,e)=>{for(var t in e||(e={}))we.call(e,t)&&j(i,t,e[t]);if(Q)for(var t of Q(e))Te.call(e,t)&&j(i,t,e[t]);return i};var O=(i,e,t)=>new Promise((n,r)=>{var a=m=>{try{o(t.next(m))}catch(d){r(d)}},s=m=>{try{o(t.throw(m))}catch(d){r(d)}},o=m=>m.done?n(m.value):Promise.resolve(m.value).then(a,s);o((t=t.apply(i,e)).next())});var D=class{constructor(){this.map=new Map}getNew(e,t){return{create:()=>{let n=this.map,r;n.has(e)?r=n.get(e):(r=[],n.set(e,r));let a=new ee(t);return r.push(a),a}}}abortAll(e){if(!this.map.has(e))return;let t=this.map.get(e);for(let n of t)n.aborted=!0;this.map.delete(e)}},ee=class{constructor(e=16){this.I=-1;this.i=0;this.t=performance.now();this.aborted=!1;this.d=e}begin(){this.t0=this.t=performance.now()}done(){if(this.aborted)throw console.debug("A task was aborted!"),"aborted";this.aborted=!0;let e=performance.now()-(this.t0||performance.now());e>1500&&console.debug("Long Task Took: "+Math.round(e)+"ms")}shouldYield(){return this.i++<this.I?!1:(this.I=-1)?performance.now()-this.t>=this.d:!0}yield(){return O(this,null,function*(){if(this.t){let e=performance.now()-this.t;this.I=Math.max(1,this.i*Math.min(this.d/(e+1),4))}if(yield ke(0),this.aborted)throw console.debug("A task was aborted!"),"aborted";this.i=0,this.t=performance.now()})}};function te(i,e,t,n){return O(this,null,function*(){var o,m;n!=null||(n=_e);let r=n.create();(o=r.begin)==null||o.call(r);let a=e.apply(i,t),s=a.next();for(;!s.done;)r.shouldYield()&&(yield r.yield()),s=a.next();return(m=r.done)==null||m.call(r),s.value})}function ne(i,e,t){let n=e.apply(i,t),r=n.next();for(;!r.done;)r=n.next();return r.value}var _e={create:()=>({shouldYield(){return!1},yield(){return O(this,null,function*(){})}})};function ke(i){return new Promise(e=>setTimeout(e,i))}function re(i){let e=i[i.length-1],t;return"create"in e&&(i=Array.prototype.slice.call(i,0,i.length-1),t=e),[t,i]}var I;(function(t){function i(n){return function(...a){let[s,o]=re(a);return te(this,n,o,s)}}t.async=i;function e(n){return function(...a){return ne(this,n,a)}}t.sync=e})(I||(I={}));var R;(function(t){function i(n){return function(...a){let[s,o]=re(a);return te(this,this[n],o,s)}}t.async=i;function e(n){return function(...a){return ne(this,this[n],a)}}t.sync=e})(R||(R={}));var E;(function(n){n.Infinity="infinity",n.Complex="complex",n.Moebius="moebius"})(E||(E={}));var H={mathtype:E.Infinity},Me=class{constructor(e,t,n=1){this.start=e;this.end=t;this.step=n}*[Symbol.iterator](){let{start:e,step:t,end:n}=this;for(;e<n;)yield e,e+=t}};function Ce(i,e){return typeof i=="number"?new v(i,e):Array.isArray(i)?new v(i[0],i[1]):i}var v=class{constructor(e,t=0){this.mathtype=E.Complex;this.real=e,this.imag=t}abs2(){return this.real*this.real+this.imag*this.imag}abs(){return Math.sqrt(this.abs2())}add(e){return typeof e=="number"?new v(this.real+e,this.imag):new v(this.real+e.real,this.imag+e.imag)}sub(e){return typeof e=="number"?new v(this.real-e,this.imag):new v(this.real-e.real,this.imag-e.imag)}mul(e){return typeof e=="number"?new v(e*this.real,e*this.imag):new v(this.real*e.real-this.imag*e.imag,this.imag*e.real+this.real*e.imag)}div(e){return typeof e=="number"?new v(this.real/e,this.imag/e):this.mul(e.inv())}inv(){var e=this.abs2();return new v(this.real/e,-this.imag/e)}arg(){var e=this.real,t=this.imag;if(e==0)return t>0?.5*Math.PI:t<0?1.5*Math.PI:0;if(e>=0){let n=Math.atan(1*t/e);return n<0?2*Math.PI+n:n}return Math.atan(1*t/e)+Math.PI}toTeX(){return this.imag==0?`${this.real}`:this.real==0?`${this.imag}i`:`${this.real} + ${this.imag}i`}},T=class{constructor(e,t,n,r){this.mathtype=E.Moebius;this.m=[e,t,n,r]}mul(e){let t=this.m,n=e.m;return new T(t[0]*n[0]+t[1]*n[2],t[0]*n[1]+t[1]*n[3],t[2]*n[0]+t[3]*n[2],t[2]*n[1]+t[3]*n[3])}inv(){let e=this.m;return new T(e[3],-e[1],-e[2],e[0])}transform(e,t){if(typeof e=="number")e=Ce(e,t);else if(e.mathtype===E.Infinity)return this.m[2]==0?H:new v(this.m[0]/this.m[2]);let n=this.m,r=e.mul(n[2]).add(n[3]);return r.real==0&&r.imag==0?H:e.mul(n[0]).add(n[1]).div(r)}toTeX(){return`\\begin{pmatrix}${this.m[0]}&${this.m[1]}\\\\ ${this.m[2]}&${this.m[3]}\\end{pmatrix}`}},ie;(function(p){class i{constructor(l,h){this.cosetRepresentatives=R.sync("_cosetRepresentatives");this.cosetRepresentativesAsync=R.async("_cosetRepresentatives");this.indicator=l,this.tex=h}findCosetIndex(l,h,c){let f=c.inv(),b=this.indicator;for(var g=0;g<h.length;g++)if(b(l,h[g].mul(f)))return g;return-1}findCoset(l,h,c){let f=c.inv(),b=this.indicator;return h.find(g=>b(l,g.mul(f)))}*_cosetRepresentatives(l){if(!Number.isInteger(l)||l<=0)throw"Invalid Level";let h=[new T(0,-1,1,0),new T(1,1,0,1),new T(1,-1,0,1)],c=this,f=[new T(1,0,0,1)];for(var b=[],g=[],w=[new T(1,0,0,1)];w.length>0;){b=g,g=w,w=[];for(let M of g)for(let B of h){yield;let C=M.mul(B);c.findCosetIndex(l,b,C)==-1&&c.findCosetIndex(l,w,C)==-1&&c.findCosetIndex(l,g,C)==-1&&(f.push(C),w.push(C))}}return f}toTeX(){return this.tex}}p.CongruenceSubgroup=i;function e(u,l,h){return(u-l)%h==0}function t(u,l){return e(l.m[2],0,u)}p.Gamma_0=new i(t,"\\Gamma_0");function r(u,l){return e(l.m[2],0,u)&&(e(l.m[0],1,u)||e(l.m[0],-1,u))}p.Gamma_1=new i(r,"\\Gamma_1");function s(u,l){return e(l.m[2],0,u)&&e(l.m[1],0,u)&&(e(l.m[0],1,u)||e(l.m[0],-1,u))}p.Gamma=new i(s,"\\Gamma"),p.Gamma.cosetRepresentatives=function(u){let l=p.Gamma_1.cosetRepresentatives(u),h=[];for(let c=0;c<u;c++){let f=new T(1,c,0,1);h.push(...l.map(b=>f.mul(b)))}return h},p.Gamma._cosetRepresentatives=function*(u){let l=yield*p.Gamma_1._cosetRepresentatives(u),h=[];for(let c=0;c<u;c++){yield;let f=new T(1,c,0,1);h.push(...l.map(b=>f.mul(b)))}return h};let m=new v(Math.cos(Math.PI/3),Math.sin(Math.PI/3));p.Domain1={corners:[H,m,new v(0,1),new v(-m.real,m.imag)],findCosetOf(u,l=100){if(u.imag<=0)return;let h=new T(1,0,0,1),c=u;for(var f=0;f<l;f++){if(c==H)return h.inv();var b=Math.floor(c.real+.5);if(h=new T(1,-b,0,1).mul(h),c=h.transform(u),c.abs2()>=1)return h.inv();h=new T(0,1,-1,0).mul(h),c=h.transform(u)}console.log("Max iterations in 'findMoebiousToFund' reached")}}})(ie||(ie={}));var ae=2*Math.PI,se=.5/Math.PI,S=class{constructor(e,t,n){this._lineWidth=1;this._fontSize=13;this._fillColor="#000000";this._strokeColor="#000000";this.fontAscent=-1;this.fontDescent=-1;this._ctx=e,this.width=t===void 0?e.canvas.width:t,this.height=n===void 0?e.canvas.height:n,this.fontSize=13}get lineWidth(){return this._lineWidth}set lineWidth(e){this._ctx.lineWidth=e,this._lineWidth=e}get fontSize(){return this._fontSize}set fontSize(e){this._ctx.textBaseline="alphabetic",this._ctx.font=e+"px Times New Roman",this._fontSize=e;let t=this._ctx.measureText("1ATOgjp");this.fontAscent=t.fontBoundingBoxAscent||t.actualBoundingBoxAscent,this.fontDescent=t.fontBoundingBoxDescent||t.actualBoundingBoxDescent}get fillStyle(){return this._fillColor}set fillStyle(e){this._ctx.fillStyle=e,this._fillColor=e}get strokeStyle(){return this._strokeColor}set strokeStyle(e){this._ctx.strokeStyle=e,this._strokeColor=e}measureText(e){this._ctx.textAlign="center";let t=this._ctx.measureText(e),n=(this.fontAscent+this.fontDescent)/2;return{top:n*1.3,bot:n*1,left:t.actualBoundingBoxLeft,right:t.actualBoundingBoxRight}}textNode(e,t,n,r){let a="middle",s="center";switch(r&12){case x.T:a="top";break;case x.B:a="bottom";break}switch(r&3){case x.L:s="left";break;case x.R:s="right";break}return this._ctx.textBaseline=a,this._ctx.textAlign=s,this._ctx.fillText(e,t,n),this}beginPath(){return this._ctx.beginPath(),this}moveTo(e,t){return this._ctx.moveTo(e,t),this}lineTo(e,t){return this._ctx.lineTo(e,t),this}quadraticTo(e,t,n,r){return this._ctx.quadraticCurveTo(e,t,n,r),this}cubicTo(e,t,n,r,a,s){return this._ctx.bezierCurveTo(e,t,n,r,a,s),this}closePath(){return this._ctx.closePath(),this}rect(e,t,n,r){return this._ctx.rect(e,t,n,r),this}arc(e,t,n,r,a,s){return this._ctx.arc(e,t,n,r-ae*Math.floor(se*r),a-ae*Math.floor(se*a),!s),this}stroke(){return this._ctx.stroke(),this}fill(){return this._ctx.fill(),this}fillAndStroke(){return this.fill(),this.stroke(),this}};var oe=class{constructor(e,t,...n){this.name=e;this.children=n,this.attributes=t||{}}attrString(){return Object.entries(this.attributes).map(([e,t])=>`${e}="${t}"`).join(" ")}chString(){return this.children.map(e=>e.toString()).join("")}append(e){this.children.push(e)}toString(){let e=this.name;return e===""?this.chString():`<${e} ${this.attrString()}>${this.chString()}</${e}>`}};function L(i,e,...t){return typeof i=="function"?i(e,...t):new oe(i,e,...t)}L.Fragment="";var Je=180/Math.PI,Qe=2*Math.PI,Se=.5/Math.PI,F=class{constructor(e,t){this.style={stroke:{stroke:"#000000","stroke-width":1},fill:{fill:"#000000"},fontSize:13};this.svg=L("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",viewBox:`0 0 ${e} ${t}`})}round(e){return Math.round(e*1e3)/1e3}get fillStyle(){return this.style.fill.fill}set fillStyle(e){let{fill:t}=this.style;if(e.length==9){let n=parseInt("0x"+e.slice(7,9))/255;e=e.slice(0,7),n===1?delete t["fill-opacity"]:t["fill-opacity"]=Math.round(1e3*n)/1e3}else delete t["fill-opacity"];t.fill=e}get strokeStyle(){return this.style.stroke.stroke}set strokeStyle(e){let{stroke:t}=this.style;if(e.length==9){let n=parseInt("0x"+e.slice(7,9))/255;e=e.slice(0,7),n===1?delete t["stroke-opacity"]:t["stroke-opacity"]=Math.round(1e3*n)/1e3}else delete t["stroke-opacity"];t.stroke=e}get lineWidth(){return this.style.stroke["stroke-width"]}set lineWidth(e){this.style.stroke["stroke-width"]=e}get fontSize(){return this.style.fontSize}set fontSize(e){this.style.fontSize=e}textNode(e,t,n,r=0){let a="middle",s="middle";switch(r&12){case x.T:a="hanging";break;case x.B:a="text-after-edge";break}switch(r&3){case x.L:s="start";break;case x.R:s="end";break}let o=this.round;return this.svg.append(L("text",{x:o(t),y:o(n),"font-size":this.style.fontSize,"font-family":"Times New Roman","dominant-baseline":a,"text-anchor":s},e)),this}beginPath(){return this._path=void 0,this}moveTo(e,t){let n=this.round;return this._path=(this._path||"")+`M${n(e)} ${n(t)}`,this}lineTo(e,t){if(!this._path)return this.moveTo(e,t);let n=this.round;return this._path+=`L${n(e)} ${n(t)}`,this}quadraticTo(e,t,n,r){if(!this._path)return this.moveTo(n,r);let a=this.round;return this._path+=`Q${a(e)} ${a(t)} ${a(n)} ${a(r)}`,this}cubicTo(e,t,n,r,a,s){if(!this._path)return this.moveTo(a,s);let o=this.round;return this._path+=`C${o(e)} ${o(t)} ${o(n)} ${o(r)} ${o(a)} ${o(s)}`,this}closePath(){return this._path=(this._path||"")+"Z",this}rect(e,t,n,r){return this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this}arc(e,t,n,r,a,s){let o=(a-r)*Se;if(o=o-Math.floor(o),o>=.499&&o<=.511){let c=r+(s?.5*o:-.5*o);return this.arc(e,t,n,r,c,s),this.arc(e,t,n,c,a,s),this}let m=e+n*Math.cos(r),d=t+n*Math.sin(r),p=e+n*Math.cos(a),u=t+n*Math.sin(a),l=o<=.5==s,h=this.round;return this.lineTo(m,d),this._path+=`A ${h(n)} ${h(n)} 0 ${l?0:1} ${s?1:0} ${h(p)} ${h(u)}`,this}stroke(){return this._path&&this.svg.append(L("path",_({d:this._path,fill:"none"},this.style.stroke))),this}fill(){return this._path&&this.svg.append(L("path",_({d:this._path},this.style.fill))),this}fillAndStroke(){return this._path&&this.svg.append(L("path",_(_({d:this._path},this.style.fill),this.style.stroke))),this}toXML(){return`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
${this.svg.toString()}`}toFileString(){return this.toXML()}};var N=class{constructor(e,t){this.style={stroke:{color:"black",opacity:1,width:1},fill:{opacity:1,color:"black"},fontSize:13};this.width=e,this.height=t,this.TeX=`\\begin{tikzpicture}[x=1pt,y=-1pt,every node/.style={inner sep=0,outer sep=0}]%
\\fontfamily{ptm}\\selectfont%
\\useasboundingbox (0,0) rectangle (${e},${t});%
\\clip (0,0) rectangle (${e},${t});%
`}round(e){return Math.round(e*1e3)/1e3}_pathAttr(e,t){let{fill:n,stroke:r}=this.style,a;return e&&(a=`fill=${n.color}${n.opacity==1?"":",fill opacity="+n.opacity}`),t&&(a=(a?a+",":"")+`draw=${r.color},line width=${r.width}${r.opacity==1?"":",draw opacity="+r.opacity}`),a}get fillStyle(){throw new Error("not implemented")}set fillStyle(e){let{fill:t}=this.style,n=parseInt("0x"+e.substring(1));e.length===9?(t.opacity=(n&255)/255,n>>=8):t.opacity=1;let r=255&n,a=255&n>>8,s=255&n>>16;s==0&&a==0&&r==0?t.color="black":t.color=`{rgb,255:red,${s}; green,${a}; blue,${r}}`}get strokeStyle(){throw new Error("Not Implemented")}set strokeStyle(e){let{stroke:t}=this.style,n=parseInt("0x"+e.substring(1));e.length===9?(t.opacity=(n&255)/255,n>>=8):t.opacity=1;let r=255&n,a=255&n>>8,s=255&n>>16;s==0&&a==0&&r==0?t.color="black":t.color=`{rgb,255:red,${s}; green,${a}; blue,${r}}`}get lineWidth(){throw new Error("Not Implemented")}set lineWidth(e){this.style.stroke.width=e}get fontSize(){return this.style.fontSize}set fontSize(e){this.style.fontSize=e}textNode(e,t,n,r=0){let a;switch(r&12){case x.T:a="north";break;case x.B:a="south";break}switch(r&3){case x.L:a=(a?a+" ":"")+"west";break;case x.R:a=(a?a+" ":"")+"east";break}a=a||"center";let s=this.round;return this.TeX+=`\\node at(${s(t)},${s(n)}) [anchor=${a}]{\\fontsize{${this.style.fontSize}pt}{${this.style.fontSize}pt}\\selectfont\\vphantom{Og}${e.replace("\\","\\textbackslash{}")}};`,this}beginPath(){return this.path=void 0,this.pos=void 0,this}moveTo(e,t){let n=this.round;return this.path=(this.path||"")+` (${n(e)},${n(t)})`,this.pos=[e,t],this}lineTo(e,t){if(!this.path)return this.moveTo(e,t);let n=this.round;return this.path+=` -- (${n(e)},${n(t)})`,this.pos=[e,t],this}quadraticTo(e,t,n,r){if(!this.path)return this.moveTo(n,r);let[a,s]=this.pos;return this.cubicTo(a+2/3*(e-a),s+2/3*(t-s),n+2/3*(e-n),r+2/3*(t-r),n,r)}cubicTo(e,t,n,r,a,s){if(!this.path)return this.moveTo(a,s);let o=this.round;return this.path+=` .. controls (${o(e)},${o(t)}) and (${o(n)},${o(r)}) .. (${o(a)},${o(s)})`,this.pos=[a,s],this}closePath(){return this.path+=" -- cycle",this}rect(e,t,n,r){return this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this}arc(e,t,n,r,a,s){let o=e+n*Math.cos(r),m=t+n*Math.sin(r),d=e+n*Math.cos(a),p=t+n*Math.sin(a);r/=2*Math.PI,a/=2*Math.PI,r-=Math.floor(r),a-=Math.floor(a),s&&a<r&&(a+=1),!s&&r<a&&(a-=1),this.lineTo(o,m);let u=this.round;return this.path+=` arc(${u(r*360)}:${u(a*360)}:${u(n)})`,this.pos=[d,p],this}stroke(){let e=`\\path [${this._pathAttr(!1,!0)}]${this.path};%
`;return this.TeX+=e,this}fill(){let e=`\\path [${this._pathAttr(!0,!1)}]${this.path};%
`;return this.TeX+=e,this}fillAndStroke(){let e=`\\path [${this._pathAttr(!0,!0)}]${this.path};%
`;return this.TeX+=e,this}toTeX(){return this.TeX+"\\end{tikzpicture}"}toFileString(){return this.toTeX()}};var x;(function(d){d[d.C=0]="C",d[d.T=8]="T",d[d.L=2]="L",d[d.R=1]="R",d[d.B=4]="B",d[d.TL=10]="TL",d[d.TR=9]="TR",d[d.BL=6]="BL",d[d.BR=5]="BR"})(x||(x={}));var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",le=[..."\u{1D538}\u{1D539}\u2102\u{1D53B}\u{1D53C}\u{1D53D}\u{1D53E}\u210D\u{1D540}\u{1D541}\u{1D542}\u{1D543}\u{1D544}\u2115\u{1D546}\u2119\u211A\u211D\u{1D54A}\u{1D54B}\u{1D54C}\u{1D54D}\u{1D54E}\u{1D54F}\u{1D550}\u2124\u{1D552}\u{1D553}\u{1D554}\u{1D555}\u{1D556}\u{1D557}\u{1D558}\u{1D559}\u{1D55A}\u{1D55B}\u{1D55C}\u{1D55D}\u{1D55E}\u{1D55F}\u{1D560}\u{1D561}\u{1D562}\u{1D563}\u{1D564}\u{1D565}\u{1D566}\u{1D567}\u{1D568}\u{1D569}\u{1D56A}\u{1D56B}\u{1D7D8}\u{1D7D9}\u{1D7DA}\u{1D7DB}\u{1D7DC}\u{1D7DD}\u{1D7DE}\u{1D7DF}\u{1D7E0}\u{1D7E1}"],ue=[..."\u{1D56C}\u{1D56D}\u{1D56E}\u{1D56F}\u{1D570}\u{1D571}\u{1D572}\u{1D573}\u{1D574}\u{1D575}\u{1D576}\u{1D577}\u{1D578}\u{1D579}\u{1D57A}\u{1D57B}\u{1D57C}\u{1D57D}\u{1D57E}\u{1D57F}\u{1D580}\u{1D581}\u{1D582}\u{1D583}\u{1D584}\u{1D585}\u{1D586}\u{1D587}\u{1D588}\u{1D589}\u{1D58A}\u{1D58B}\u{1D58C}\u{1D58D}\u{1D58E}\u{1D58F}\u{1D590}\u{1D591}\u{1D592}\u{1D593}\u{1D594}\u{1D595}\u{1D596}\u{1D597}\u{1D598}\u{1D599}\u{1D59A}\u{1D59B}\u{1D59C}\u{1D59D}\u{1D59E}\u{1D59F}"],X={Alpha:"\u0391",alpha:"\u03B1",Beta:"\u0392",beta:"\u03B2",Gamma:"\u0393",gamma:"\u03B3",Delta:"\u0394",delta:"\u03B4",Epsilon:"\u0395",epsilon:"\u03B5",Zeta:"\u0396",zeta:"\u03B6",Eta:"\u0397",eta:"\u03B7",Theta:"\u0398",theta:"\u03B8",Iota:"\u0399",iota:"\u03B9",Kappa:"\u039A",kappa:"\u03BA",Lambda:"\u039B",lambda:"\u03BB",Mu:"\u039C",mu:"\u03BC",Nu:"\u039D",nu:"\u03BD",Xi:"\u039E",xi:"\u03BE",Omicron:"\u039F",omicron:"\u03BF",Pi:"\u03A0",pi:"\u03C0",Rho:"\u03A1",rho:"\u03C1",Sigma:"\u03A3",sigma:"\u03C3",Tau:"\u03A4",tau:"\u03C4",Upsilon:"\u03A5",upsilon:"\u03C5",Phi:"\u03A6",phi:"\u03C6",Chi:"\u03A7",chi:"\u03C7",Psi:"\u03A8",psi:"\u03C8",Omega:"\u03A9",omega:"\u03C9",mathBB:function(i){if(i.length==1){let e=A.indexOf(i);return le[e]}else{let e="";for(let t=0;t<i.length;t++)e=e+le[A.indexOf(i.charAt(t))];return e}},mathFrak:function(i){if(i.length==1){let e=A.indexOf(i);return ue[e]}else{let e="";for(let t=0;t<i.length;t++)e=e+ue[A.indexOf(i.charAt(t))];return e}}};var G=class{constructor(e,t){this.origin=e;this.scale=t}project(e){return Array.isArray(e)&&(e=new v(e[0],e[1])),[e.real*this.scale+this.origin[0],-e.imag*this.scale+this.origin[1]]}invert(e){return new v((e[0]-this.origin[0])/this.scale,-(e[1]-this.origin[1])/this.scale)}addTranslation(e){this.origin=[this.origin[0]+e[0],this.origin[1]+e[1]]}addZoom(e,t){let[n,r]=this.origin;this.origin=[n*e+t[0]*(1-e),r*e+t[1]*(1-e)],this.scale*=e}};function me(i,e,t,n,r,{arrowSize:a=9}={}){let s=Math.sqrt(r[0]*r[0]+r[1]*r[1]);r=[r[0]/s,r[1]/s];let o=[r[0]===0?-1/0:(0-n[0])/r[0],r[0]===0?1/0:(e-n[0])/r[0],r[1]===0?-1/0:(0-n[1])/r[1],r[1]===0?1/0:(t-n[1])/r[1]].sort((u,l)=>u-l),m=[n[0]+o[1]*r[0],n[1]+o[1]*r[1]],d=[n[0]+(o[2]-1)*r[0],n[1]+(o[2]-1)*r[1]];i.beginPath(),i.moveTo(m[0],m[1]),i.lineTo(d[0]-2*r[0],d[1]-2*r[1]),i.stroke();let p=a;return i.beginPath(),i.moveTo(d[0],d[1]),i.lineTo(d[0]-p*r[0]+.5*p*r[1],d[1]-p*r[1]-.5*p*r[0]),i.lineTo(d[0]-p*r[0]-.5*p*r[1],d[1]-p*r[1]+.5*p*r[0]),i.lineTo(d[0],d[1]),i.fill(),[m[0],m[1],d[0],d[1]]}function de(i,e,{noX:t=!1,noY:n=!1,arrowSize:r=7,fontSize:a=13,labelX:s=X.mathBB("R"),labelY:o="i"+X.mathBB("R")}={}){let{origin:m,scale:d}=e,{width:p,height:u}=i;i.fontSize=a;let l=function(g,w=0){let{ps:M,ox:B,oy:C}=this;return[g*M+B,-w*M+C]}.bind({ox:m[0],oy:m[1],ps:d}),h=l(1),c=l(0,1),f=[h[0]-m[0],h[1]-m[1]],b=[c[0]-m[0],c[1]-m[1]];if(!t){let[,,g,w]=me(i,p,u,m,f,{arrowSize:r});s&&i.textNode(s,g-.2*a,w+.2*a+r/2,x.TR)}if(!n){let[,,g,w]=me(i,p,u,m,b,{arrowSize:r});!n&&o&&i.textNode(o,g-.2*a-r/2,w+.2*a,x.TR)}}function he(i,e,{origin:t,scale:n},r,{gap:a=5}={}){var s=i.width||0,o=i.height||0;if(e=="x"){let m=t[0],d=t[1];for(let p=0;p<r.length;p++){let{at:u,sprite:l}=r[p],h=u*n+m;if(h+l.right>=0&&h-l.left<=s){let c=d,f=h-.5,b=h+.5,g=d+3;i.beginPath().moveTo(f,c).lineTo(b,c).lineTo(b,g).lineTo(f,g).closePath(),i.fill(),l.draw(i,h,d+l.top+a)}}}}function k(i,e,t){let{center:n=!1}=t||{},{top:r,bot:a,left:s,right:o}=i.measureText(e),m=0;return n&&(m=(o-s)/2,s+=m,o-=m),{text:e,dx:m,top:r,bot:a,left:s,right:o,draw:function(p,u,l){p.textNode(this.text,u-this.dx,l,0)}}}function Y(i,e){let t=.05*(i.top+i.bot+e.top+e.bot),n=.5*(i.left-i.right),r=.5*(e.left-e.right),a=-i.bot-t,s=e.top+t,o=Math.max(.5*(i.left+i.right),.5*(e.left+e.right));return{data:[n,a,r,s,o],top:-a+i.top,bot:s+e.bot,left:o,right:o,draw:function(d,p,u){let[l,h,c,f,b]=this.data;i.draw(d,p+l,u+h),e.draw(d,p+c,u+f),d.beginPath(),d.moveTo(p-b,u),d.lineTo(p+b,u),d.stroke()}}}var K=class{constructor(e,t,n){this.onDrag=e;this.onZoom=t;this.onHover=n;this.state=new Array;this.down=e=>{if(e.pointerType=="mouse"&&e.button!=0)return;let{pointerId:t,offsetX:n,offsetY:r}=e,a=this.state.find(({id:s})=>s===t);a===void 0&&(a={id:t,x:n,y:r},this.state.push(a)),this.state.length<=1?this.onHover([n,r]):this.onHover(null),e.currentTarget.setPointerCapture(t)};this.move=e=>{let{pointerId:t,offsetX:n,offsetY:r}=e;if(this.state.length===0){this.onHover([n,r]);return}let a=this.state.findIndex(({id:o})=>o===t);if(a===-1)return;let s=this.state[a];if(this.state.length===1)this.onHover([n,r]),this.onDrag([n-s.x,r-s.y]);else if(this.state.length===2){let o=s,m=this.state[1-a],d=$(o.x-m.x,2)+$(o.y-m.y,2),p=$(n-m.x,2)+$(r-m.y,2),u=[.5*(n-o.x),.5*(r-o.y)];this.onHover(null),this.onDrag(u),this.onZoom(p/d,[.5*(n+m.x),.5*(r+m.y)])}s.x=n,s.y=r};this.up=e=>{if(e.pointerType=="mouse"&&e.button!=0)return;let{pointerId:t,offsetX:n,offsetY:r}=e,a=this.state.findIndex(({id:s})=>s===t);this.state.splice(a,1),e.currentTarget.releasePointerCapture(t)};this.cancel=e=>{if(e.pointerType=="mouse"&&e.button!=0)return;let{pointerId:t,offsetX:n,offsetY:r}=e,a=this.state.findIndex(({id:s})=>s===t);this.state.splice(a,1),e.currentTarget.releasePointerCapture(t)};this.leave=e=>{if(e.pointerType=="mouse"&&this.state.length===0&&this.onHover(null),e.pointerType=="mouse"&&e.button!=0||e.currentTarget.hasPointerCapture(e.pointerId))return;let{pointerId:t,offsetX:n,offsetY:r}=e,a=this.state.findIndex(({id:s})=>s===t);this.state.splice(a,1),e.currentTarget.releasePointerCapture(t)};this.wheel=e=>{e.preventDefault(),this.onZoom(Math.exp(-e.deltaY*(e.deltaMode==1?.03333:.001)),[e.offsetX,e.offsetY])}}registerListeners(e){e.addEventListener("pointerup",this.up),e.addEventListener("pointerdown",this.down),e.addEventListener("pointermove",this.move),e.addEventListener("pointercancel",this.cancel),e.addEventListener("pointerleave",this.leave),e.addEventListener("wheel",this.wheel)}removeListeres(e){e.removeEventListener("pointerup",this.up),e.removeEventListener("pointerdown",this.down),e.removeEventListener("pointermove",this.move),e.removeEventListener("pointercancel",this.cancel),e.removeEventListener("wheel",this.wheel)}};function z(i,e=[],t={},n={}){let r=document.createElement(i);for(let[s,o]of Object.entries(t))r.setAttribute(s,typeof o=="string"?o:o+"");for(let[s,o]of Object.entries(n))r[s]=o;if(Array.isArray(e))for(var a of e)typeof a=="string"&&(a=document.createTextNode(a)),r.append(a);else r.innerHTML=e.__html;return r}function W(i,e){for(var t of e)Array.isArray(t)?W(i,t):i.append(t instanceof Node?t:""+t)}function y(i,e,...t){if(i===y.Fragment){let s=document.createDocumentFragment();return W(s,t),s}let n=document.createElement(i);e=e||{},"__html"in e&&(n.innerHTML=""+e.__html,delete e.__html);for(var[r,a]of Object.entries(e))typeof a=="function"?n[r]=a:n.setAttribute(r,""+a);return W(n,t),n}y.Fragment="";var Le=`:host{position:relative;top:0;left:0;display:block;width:100%;height:100%;overflow:hidden;padding:0;margin:0}._container_1kdby_13{display:block;position:absolute;width:100%;height:100%;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._container_1kdby_13>div,._container_1kdby_13>canvas{position:absolute;top:0;left:0;width:100%;height:100%}
`,Pe={container:"_container_1kdby_13"},q={css:Le,class:Pe};function U(i){return{update(e,t){let n=t.getContext("2d"),r=window.devicePixelRatio;(Math.floor(e.width*r)!==t.width||Math.floor(e.height*r)!==t.height)&&(t.width=Math.floor(e.width*r),t.height=Math.floor(e.height*r)),n.setTransform(r,0,0,r,0,0),i.update(e,n)},resized(e){e.update(this)},connected(e){return{nodes:z("canvas",[],{class:"canvas-layer"})}}}}var Oe=`._button_1aydv_1{position:absolute;bottom:1em;right:1em;width:50px;height:50px;padding:10px;border-radius:50%;border:2px solid #012;background-color:#012;color:#def;z-index:99}._button_1aydv_1:hover{background-color:#bbddee;color:#001122}._button_1aydv_1:active{transform:translateY(1px);background-color:#bbddee;color:#001122}._icon_1aydv_25{display:block;width:100%;height:100%}.active ._icon_1aydv_25{display:none}._icon_x_1aydv_35{display:none;width:100%;height:100%}.active ._icon_x_1aydv_35{display:block}._container_1aydv_45{display:none;position:absolute;overflow:scroll;top:0;right:0;width:100%;height:100%;background-color:#eeeeeeaa;margin:0;padding:20px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;z-index:99}._list_1aydv_63{display:grid;display:block;grid-template-columns:repeat(auto-fill,250px);margin:auto}dialog::backdrop{background:rgba(0,0,0,0.9)}
`,Ee={button:"_button_1aydv_1",icon:"_icon_1aydv_25",icon_x:"_icon_x_1aydv_35",container:"_container_1aydv_45",list:"_list_1aydv_63"},P={css:Oe,class:Ee};var $e={section:function(i,e){var t;return{input:y((t=e==null?void 0:e.level)!=null?t:"h2",{},i)}},number:function(i){let e=i.onChange;return{label:y("label",null,i.label),input:y("input",_({type:"number",oninput:t=>{e==null||e(parseInt(t.target.value))}},i.default?{value:i.default}:{}))}},color:function(i){let e=i.onChange;return{label:y("label",null,i.label),input:y("input",_({type:"color",oninput:t=>{e==null||e(t.target.value)}},i.default?{value:i.default}:{}))}},radio:function(i){let e=i.onChange;return{label:y("label",null,i.label),input:y(y.Fragment,null,i.values.map(t=>y(y.Fragment,null,y("label",null,t.label,y("input",_({type:"radio",name:i.label,value:t.name,oninput:n=>{e==null||e(n.target.value)}},t.name===i.default?{checked:""}:{}))),y("span",{style:"display:inline-block;width:1em;"}))))}},multiButton:function(i){let e=i.onClick;return{label:y("label",null,i.label),input:y(y.Fragment,null,i.values.map(t=>y("button",{value:t.name,onclick:n=>{e==null||e(n.target.value)}},t.label)))}},custom:function(i){return{label:typeof i.label=="string"?y("span",null,i.label):i.label,input:i.input}}};function J(){return i=>{let e=y("div",{class:P.class.container},y("h1",null,"Options")),t=y("button",{"arial-label":"Options Toggle",class:P.class.button,title:"Show all options",__html:`<svg xmlns="http://www.w3.org/2000/svg" class="${P.class.icon}" viewBox="0 0 24 24" style="fill:currentColor;"><path d="M19.9,13.3C20,12.8,20,12.4,20,12s0-0.8-0.1-1.3L21.8,9l-2.3-4l-2.4,0.8c-0.7-0.5-1.4-1-2.2-1.3L14.3,2H9.7L9.2,4.5	C8.3,4.8,7.6,5.3,6.9,5.8L4.5,5L2.2,9l1.9,1.7C4,11.2,4,11.6,4,12c0,0.4,0,0.8,0.1,1.3L2.2,15l2.3,4l2.4-0.8l0,0	c0.7,0.5,1.4,1,2.2,1.3L9.7,22h4.7l0.5-2.5c0.8-0.3,1.6-0.7,2.2-1.3l0,0l2.4,0.8l2.3-4L19.9,13.3L19.9,13.3z M12,16	c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4c2.2,0,4,1.8,4,4C16,14.2,14.2,16,12,16z"></path></svg><svg class="${P.class.icon_x}" version="1.1" viewBox="0 0 460.78 460.78" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m285.08 230.4 171.14-171.13c6.076-6.077 6.076-15.911 0-21.986l-32.707-32.719c-2.913-2.911-6.866-4.55-10.992-4.55-4.127 0-8.08 1.639-10.993 4.55l-171.14 171.14-171.14-171.14c-2.913-2.911-6.866-4.55-10.993-4.55-4.126 0-8.08 1.639-10.992 4.55l-32.707 32.719c-6.077 6.075-6.077 15.909 0 21.986l171.14 171.13-171.12 171.11c-6.074 6.077-6.074 15.911 0 21.986l32.709 32.719c2.911 2.911 6.865 4.55 10.992 4.55s8.08-1.639 10.994-4.55l171.12-171.12 171.12 171.12c2.913 2.911 6.866 4.55 10.993 4.55 4.128 0 8.081-1.639 10.992-4.55l32.709-32.719c6.074-6.075 6.074-15.909 0-21.986l-171.12-171.11z"/></svg>`,onclick:()=>{let r=e.style.display=="block";e.style.display=r?"":"block",r?t.classList.remove("active"):t.classList.add("active")}}),n=new ce;return n.container.className=P.class.list,e.append(n.container),i.attachToShaddow(y("style",{__html:P.css}),e,t),{nodes:void 0,handle:n}}}function pe(i){let e=y("input",{type:"number",style:"width:6em;"}),t=y("input",{type:"number",style:"width:6em;"}),n=y("span",null,"auto sizing"),r=new ResizeObserver(()=>{if(i.containerElement.style.width==="")return;let p=i.hostElement;if(!p)return;let{clientWidth:u,clientHeight:l}=i.containerElement,{clientWidth:h,clientHeight:c}=p,f=Math.min(h/u,c/l);i.containerElement.style.transformOrigin="top left",i.containerElement.style.transform=`translate(${(h-u*f)/2}px, ${(c-l*f)/2}px) scale(${f}, ${f})`}),a=!1,s=(p,u)=>{let l=p<0||u<0||isNaN(p)||isNaN(u);l&&a&&(r.unobserve(i.containerElement),r.unobserve(i.hostElement),a=!1),!a&&!l&&(r.observe(i.containerElement),r.observe(i.hostElement),a=!0),l?(i.containerElement.style.width="",i.containerElement.style.height="",i.containerElement.style.outline="",i.containerElement.style.transform="",i.containerElement.style.transformOrigin="",n.textContent="auto sizing"):(i.containerElement.style.width=p+"px",i.containerElement.style.height=u+"px",i.containerElement.style.outline="1px dashed black",n.textContent=p+" x "+u),o.close()},o=y("dialog",null,y("form",{onsubmit:()=>(s(parseInt(e.value),parseInt(t.value)),!1)},y("p",null,"Choose new size:"),e," x ",t,y("br",null),y("input",{type:"submit",value:"Apply"}),y("input",{type:"button",value:"Reset",onclick:()=>{s(-1,-1)}}))),m,d;return m=y("span",null,y("input",{type:"button",value:"Change",onclick:()=>{o.showModal()}}),o),{label:y("span",null,"Canvas size (",n,")"),input:m}}var ce=class{constructor(){this.container=y("div",null)}add(e,...t){Array.isArray(e)&&(t=e.slice(1),e=e[0]);var r=(typeof e=="function"?e:$e[e])(...t);if(console.log(r),this.addOption(r),"handle"in r)return r.handle}addOption(e){this.container.appendChild(y("div",{style:"margin-top: 10px;"},e.label?y("div",null,y("b",null,e.label,":")):[],y("div",null,e.input)))}};var fe=class extends HTMLElement{constructor(){super(...arguments);this.shadow=this.attachShadow({mode:"open"});this.cleanup=[]}connectedCallback(){var d,p;let e=this.shadow;e.innerHTML="";let t=z("style",[q.css]),n=z("div",[],{class:q.class.container}),r=new ResizeObserver(()=>{var l,h,c,f;(h=(l=this.layerHandler).resized)==null||h.call(l,m);for(var u of a.values())(f=(c=u.layer)==null?void 0:c.resized)==null||f.call(c,m,u.nodes)});r.observe(n),e.append(t,n);let a=new Map,s=0,o=()=>{var h,c;let u=s===2;s=0;for(var l of a.values())(u||l.update)&&((c=(h=l.layer)==null?void 0:h.update)==null||c.call(h,m,l.nodes)),l.update=!1},m={get width(){return n.clientWidth},get height(){return n.clientHeight},containerElement:n,hostElement:this,update:function(u){if(s!==2){if(s===0&&requestAnimationFrame(o),u===void 0){s=2;return}if(typeof u=="string"){s=1;let h=a.get(u);h&&(h.update=!0);return}for(var l of a.values())u===l.layer&&(l.update=!0)}},addStyles:function(u){t.append(u)},addLayer:function(u,l){if(l instanceof Node){n.appendChild(l);return}let h,c;typeof l=="function"?(c=l(m),h=void 0):(c=l.connected(m),h=l);let f=c.nodes;f&&(Array.isArray(f)?n.append(...f):n.append(f)),a.set(u,{nodes:f,layer:h,update:!1}),m.update(u);let b=c.handle;return b||(b={}),b.update=()=>{this.update(u)},b},attachToShaddow(...u){e.append(...u)}};(p=(d=this.layerHandler).connected)==null||p.call(d,m),this.cleanup.push(()=>{var l,h,c,f;r.unobserve(n);for(var u of a.values())(h=(l=u.layer)==null?void 0:l.disconnected)==null||h.call(l,m);(f=(c=this.layerHandler).disconnected)==null||f.call(c,m)})}disconnectedCallback(){for(var e of this.cleanup)e();this.cleanup=[],this.shadow.innerHTML=""}};function be(i){return class extends fe{constructor(){super(...arguments);this.layerHandler=i}}}function Ie(i,e,t="text/plain"){let n=`data:${t};base64,${window.btoa(i)}`,r=document.createElement("a");r.setAttribute("download",e),r.href=n,r.click()}var ye=I.async(function*(i,e,t){let n=new S(document.createElement("canvas").getContext("2d")),{projection:r}=t,{origin:a,scale:s}=r;i.fillStyle="#AAAAAA",i.beginPath(),i.arc(...a,s,0,2*Math.PI-.01,!0),i.fillAndStroke();let o=ve(e),m=12;i.fontSize=m;let d=e,p=Array(d).fill(null).map(()=>[]);i.fillStyle="#FFFFFF";for(let[u,l]of o){yield;let h=10;if(u==0)continue;l===1&&(h=40);let c=u/l,f=.5/l/l,b=Re(i,[c,f],f,r,h);i.fillAndStroke(),l<=d&&p[l-1].push([u,b[0],b[1]])}i.fillStyle="#555555";for(let u=0;u<p.length;u++){let l=u+1;i.fontSize=l==1?s/2:s/l/l,n.fontSize=l==1?s/2:s/l/l;let h;for(let[c,f,b]of p[u]){if(l==1){k(n,""+c).draw(i,f,b);continue}h!=null||(h=k(n,""+l)),Y(k(n,""+c),h).draw(i,f,b)}}}),ge=I.async(function*(i,e,t){let n=new S(document.createElement("canvas").getContext("2d"));i.fillStyle="#AAAAAA";let{width:r,height:a}=i;i.moveTo(0,0).lineTo(0,a).lineTo(r,a).lineTo(r,0).closePath().fill(),i.fillStyle="#000000";let{projection:s}=t,{origin:o,scale:m}=s,d=12;i.fontSize=d;let p=e,u=Array(p).fill(null).map(()=>[]);i.lineWidth=1.25,i.fontSize=10,de(i,s,{noY:!0,labelX:""}),he(i,"x",s,[{sprite:k(n,"0"),at:0},{sprite:k(n,"1"),at:1}]);let l=ve(e);function h(f,b){return[f*m+o[0],-b*m+o[1]]}i.fillStyle="#FFFFFF";for(let[f,b]of l){yield;let g=f/b,w=.5/b/b;i.beginPath(),i.arc(...h(g,w),w*m,0,2*Math.PI-.01,!0),i.closePath(),i.stroke(),i.fill(),b<p&&u[b-1].push(f)}let c=0;i.fillStyle="#000000";for(let f=0;f<u.length;f++){let b=f+1;i.fontSize=m*.3/b/b,n.fontSize=m*.3/b/b;let g;for(let w of u[f]){yield;let M=h(w/b,0)[0];M<-2*d||M>r+2*d||(c++,g!=null||(g=k(n,""+b)),Y(k(n,""+w),g).draw(i,...h(w/b,.5/b/b)))}}});function Re(i,e,t,n,r=20){let{origin:a=[0,0],scale:s=1}=n||{};function o(l,h){let c=Math.exp(-2*Math.PI*h);return[Math.cos(2*Math.PI*l)*c*s+a[0],-Math.sin(2*Math.PI*l)*c*s+a[1]]}let m=2*Math.PI/r,d=0,p=[0,0];i.beginPath();let u=o(e[0]+t,e[1]);i.moveTo(...u);for(let l=1;l<r+1;l++){let h=o(e[0]+Math.cos(m*l)*t,e[1]+Math.sin(m*l)*t),c=o(e[0]+Math.cos(m*(l-.5))*t,e[1]+Math.sin(m*(l-.5))*t),f=Math.sqrt((h[0]-u[0])*(h[0]-u[0])+(h[1]-u[1])*(h[1]-u[1]));d+=f,p[0]+=f*c[0],p[1]+=f*c[1],i.quadraticTo(2*c[0]-.5*(u[0]+h[0]),2*c[1]-.5*(u[1]+h[1]),...h),u=h}return i.closePath(),[p[0]/d,p[1]/d]}window.customElements.define("ford-circles",be({connected(i){let e=new D,t=new G([i.width/2,i.height/2],100);new K(o=>{t.addTranslation(o),i.update()},(o,m)=>{let d=t.project(new v(0)),p=t.project(new v(1)),u=Math.abs(d[0]-p[0]);o<=.1*i.width/u&&(o=.1*i.width/u),t.addZoom(o,m),i.update()},()=>{}).registerListeners(i.containerElement);let r=i.addLayer("Options",J()),a=30,s="Halfplane";r.add("number",{label:"Circles up to denominator",onChange(o){a=o>1?o:1,i.update()},default:a}),r.add("radio",{label:"Show in:",values:[{name:"Halfplane",label:"Upper halfplane"},{name:"Cirlce",label:"Unit circle"}],default:s,onChange(o){s=o,i.update()}}),r.add(pe,i),r.add("multiButton",{label:"Export as",values:[{name:"SVG",label:"SVG"},{name:"TikZ",label:"TikZ"}],onClick(o){return O(this,null,function*(){let m,d="Hyperbola",p;if(o=="SVG")m=new F(i.width,i.height),d+=".svg",p="image/svg+xml";else if(o=="TikZ")m=new N(i.width,i.height),d+=".tikz",p="text/plain";else throw new Error("Unknown format");let u;s=="Halfplane"?u=ge(m,a,{projection:t}):u=ye(m,a,{projection:t}),u.catch(l=>console.log(l)),yield u,Ie(m.toFileString(),d,p)})}}),i.addLayer("draw",U({update(o,m){let d=new S(m);m.clearRect(0,0,o.width,o.height),e.abortAll("draw"),s==="Halfplane"?ge(d,a,{projection:t},e.getNew("draw",100)).catch(p=>{p!=="aborted"&&console.log(p)}):ye(d,a,{projection:t},e.getNew("draw",100)).catch(p=>{p!=="aborted"&&console.log(p)})}}))}}));function ve(i){return{[Symbol.iterator]:function*(e){let[t,n,r,a]=e!=null?e:[0,1,1,i];for(yield[t,n],yield[r,a];a!==1;){let s=Math.floor((i+n)/a);[t,n,r,a]=[r,a,s*r-t,s*a-n],yield[r,a]}},approximate(e){let t=Math.floor(e);e=e-t;let n=0,r=1,a=1,s=1;for(;;){let o=a-e*s,m;o!=0&&(m=Math.floor((e*r-n)/o)),(m===void 0||r+m*s>i)&&(m=Math.floor((i-r)/s)),n=n+m*a,r=r+m*s,o=r*e-n;let d;if(o!=0&&(d=Math.floor((a-e*s)/o)),(d===void 0||r*d+s>i)&&(d=Math.floor((i-s)/r)),a=n*d+a,s=r*d+s,m==0&&d==0)break}return[n,r,a,s]},startAt(e){return this.continue(...this.approximate(e))},continue(e,t,n,r){if(t*n-e*r!=1||t+r<=i)throw`${e}/${t} and ${n}/${r} are not consecutive`;return this[Symbol.iterator]([e,t,n,r])}}}})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibGlicmFyeS9zcmMvbW9kdWxlcy9Bc3luYy50cyIsICJsaWJyYXJ5L3NyYy9tb2R1bGVzL21hdGgvaW5kZXgudHMiLCAibGlicmFyeS9zcmMvcmVuZGVyZXIvQ2FudmFzLnRzIiwgImxpYnJhcnkvc3JjL1Vuc2FmZVhNTC50cyIsICJsaWJyYXJ5L3NyYy9yZW5kZXJlci9TVkcudHN4IiwgImxpYnJhcnkvc3JjL3JlbmRlcmVyL1Rpa1oudHMiLCAibGlicmFyeS9zcmMvcmVuZGVyZXIvaW5kZXgudHMiLCAibGlicmFyeS9zcmMvY2FudmFzL1RlWC50cyIsICJsaWJyYXJ5L3NyYy9jYW52YXMvYXhpcy50cyIsICJsaWJyYXJ5L3NyYy9jYW52YXMvc3ByaXRlcy50cyIsICJsaWJyYXJ5L3NyYy9tb2R1bGVzL0ludGVyYWN0LnRzIiwgImxpYnJhcnkvc3JjL0RvbUVsZW1lbnQudHMiLCAibGlicmFyeS9zcmMvY29tcG9uZW50L2xheWVycy9DYW52YXMudHMiLCAibGlicmFyeS9zcmMvY29tcG9uZW50L2xheWVycy9PcHRpb25zLnRzeCIsICJsaWJyYXJ5L3NyYy9jb21wb25lbnQvbGF5ZXJzL2luZGV4LnRzIiwgImxpYnJhcnkvc3JjL2NvbXBvbmVudC9Gb3JkQ2lyY2xlcy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyoqXG4gKiBUb29scyB0byB0dXJuIEdlbmVyYXRvciBmdW5jdGlvbnMgaW50byBzeW5jIG9yIGFzeW5jIGZ1bmN0aW9ucy5cbiAqL1xuXG5leHBvcnQgY2xhc3MgQXN5bmNNYW5hZ2VyPEs+IHtcbiAgcHJpdmF0ZSBtYXAgPSBuZXcgTWFwPEssIEFzeW5jT3B0aW9uc1tdPigpO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBnZXROZXcoY29udGV4dDogSywgdGltZUJ1ZGdldD86IG51bWJlcik6IE9wdGlvbnNGYWN0b3J5IHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlOiAoKSA9PiB7XG4gICAgICAgIGxldCBtID0gdGhpcy5tYXA7XG4gICAgICAgIGxldCBhY3RpdmU6IEFzeW5jT3B0aW9uc1tdO1xuXG4gICAgICAgIGlmIChtLmhhcyhjb250ZXh0KSkge1xuICAgICAgICAgIGFjdGl2ZSA9IG0uZ2V0KGNvbnRleHQpIGFzIEFzeW5jT3B0aW9uc1tdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZSA9IFtdO1xuICAgICAgICAgIG0uc2V0KGNvbnRleHQsIGFjdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG8gPSBuZXcgQXN5bmNPcHRpb25zKHRpbWVCdWRnZXQpO1xuICAgICAgICBhY3RpdmUucHVzaChvKTtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBhYm9ydEFsbChjb250ZXh0OiBLKSB7XG4gICAgaWYgKCF0aGlzLm1hcC5oYXMoY29udGV4dCkpIHJldHVybjtcbiAgICBsZXQgdiA9IHRoaXMubWFwLmdldChjb250ZXh0KSBhcyBBc3luY09wdGlvbnNbXTtcbiAgICBmb3IgKGxldCBvIG9mIHYpIG8uYWJvcnRlZCA9IHRydWU7XG4gICAgdGhpcy5tYXAuZGVsZXRlKGNvbnRleHQpO1xuICB9XG59XG5cbnR5cGUgT3B0aW9uc0ZhY3RvcnkgPSB7IGNyZWF0ZTogKCkgPT4gT3B0aW9ucyB9O1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gIGJlZ2luPygpOiBhbnk7XG4gIGRvbmU/KCk6IGFueTtcbiAgc2hvdWxkWWllbGQoKTogYm9vbGVhbjtcbiAgeWllbGQoKTogUHJvbWlzZTx2b2lkIHwgbnVtYmVyPjtcbn07XG5cbmV4cG9ydCBjbGFzcyBBc3luY09wdGlvbnMgaW1wbGVtZW50cyBPcHRpb25zIHtcbiAgcHJpdmF0ZSBJOiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBpOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHQ6IG51bWJlciA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICBwcml2YXRlIHQwOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgZDogbnVtYmVyO1xuICBhYm9ydGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IodGltZUJ1ZGdldCA9IDE2KSB7XG4gICAgdGhpcy5kID0gdGltZUJ1ZGdldDtcbiAgfVxuXG4gIGJlZ2luKCkge1xuICAgIHRoaXMudDAgPSB0aGlzLnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuXG4gIGRvbmUoKSB7XG4gICAgaWYgKHRoaXMuYWJvcnRlZCkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIkEgdGFzayB3YXMgYWJvcnRlZCFcIik7XG4gICAgICB0aHJvdyBcImFib3J0ZWRcIjtcbiAgICB9XG4gICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgICBsZXQgVCA9IHBlcmZvcm1hbmNlLm5vdygpIC0gKHRoaXMudDAgfHwgcGVyZm9ybWFuY2Uubm93KCkpO1xuICAgIGlmIChUID4gMTUwMCkgY29uc29sZS5kZWJ1ZyhcIkxvbmcgVGFzayBUb29rOiBcIiArIE1hdGgucm91bmQoVCkgKyBcIm1zXCIpO1xuICB9XG5cbiAgc2hvdWxkWWllbGQoKTogYm9vbGVhbiB7XG4gICAgbGV0IGkgPSB0aGlzLmkrKztcbiAgICBpZiAoaSA8IHRoaXMuSSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICgodGhpcy5JID0gLTEpKSByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLnQgPj0gdGhpcy5kO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgeWllbGQoKTogUHJvbWlzZTx2b2lkPjtcbiAgYXN5bmMgeWllbGQoKTogUHJvbWlzZTx2b2lkIHwgbnVtYmVyPiB7XG4gICAgaWYgKHRoaXMudCkge1xuICAgICAgbGV0IGRlbHRhID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLnQ7XG5cbiAgICAgIC8vIEdlb20uIHJ1bm5pbmcgYXZlcmFnZSBmb3IgaXRlcmF0aW9uc1xuICAgICAgdGhpcy5JID0gTWF0aC5tYXgoMSwgdGhpcy5pICogTWF0aC5taW4odGhpcy5kIC8gKGRlbHRhICsgMSksIDQpKTtcbiAgICB9XG4gICAgYXdhaXQgd2FpdCgwKTtcbiAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKFwiQSB0YXNrIHdhcyBhYm9ydGVkIVwiKTtcbiAgICAgIHRocm93IFwiYWJvcnRlZFwiO1xuICAgIH1cblxuICAgIHRoaXMuaSA9IDA7XG4gICAgdGhpcy50ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYWxsQXN5bmM8XG4gIFQsXG4gIFIsXG4gIEYgZXh0ZW5kcyAodGhpczogVCwgLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIFIsIGFueT5cbj4odGg6IFQsIGY6IEYsIGFyZ3M6IFBhcmFtZXRlcnM8Rj4sIGFzeW5jT3B0aW9ucz86IE9wdGlvbnNGYWN0b3J5KTogUHJvbWlzZTxSPiB7XG4gIGFzeW5jT3B0aW9ucyA/Pz0gRGVmYXVsdEFzeW5jT3B0aW9ucztcbiAgbGV0IGFzeW5jSW5zdGFuY2U6IE9wdGlvbnMgPSBhc3luY09wdGlvbnMuY3JlYXRlKCk7XG5cbiAgYXN5bmNJbnN0YW5jZS5iZWdpbj8uKCk7XG5cbiAgLy8gVGhlIHR5cGVzIHNob3VsZCBiZSBzYWZlXG4gIGxldCBnZW4gPSBmLmFwcGx5KHRoLCBhcmdzKTtcbiAgbGV0IG4gPSBnZW4ubmV4dCgpO1xuICB3aGlsZSAoIW4uZG9uZSkge1xuICAgIGlmIChhc3luY0luc3RhbmNlLnNob3VsZFlpZWxkKCkpIGF3YWl0IGFzeW5jSW5zdGFuY2UueWllbGQoKTtcbiAgICBuID0gZ2VuLm5leHQoKTtcbiAgfVxuXG4gIGFzeW5jSW5zdGFuY2UuZG9uZT8uKCk7XG4gIHJldHVybiBuLnZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsbFN5bmM8XG4gIFQsXG4gIFIsXG4gIEYgZXh0ZW5kcyAodGhpczogVCwgLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIFIsIGFueT5cbj4odGg6IFQsIGY6IEYsIGFyZ3M6IFBhcmFtZXRlcnM8Rj4pOiBSIHtcbiAgLy8gVGhlIHR5cGVzIHNob3VsZCBiZSBzYWZlXG4gIGxldCBnZW4gPSBmLmFwcGx5KHRoLCBhcmdzKTtcbiAgbGV0IG4gPSBnZW4ubmV4dCgpO1xuICB3aGlsZSAoIW4uZG9uZSkgbiA9IGdlbi5uZXh0KCk7XG4gIHJldHVybiBuLnZhbHVlO1xufVxuXG5leHBvcnQgY29uc3QgRGVmYXVsdEFzeW5jT3B0aW9uczogT3B0aW9uc0ZhY3RvcnkgPSB7XG4gIGNyZWF0ZTogKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzaG91bGRZaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHlpZWxkKCkge30sXG4gICAgfTtcbiAgfSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB3YWl0KG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59XG5cbnR5cGUgQXN5bmNXcmFwPFxuICBGIGV4dGVuZHMgKHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIGFueSwgYW55PlxuPiA9IEYgZXh0ZW5kcyAodGhpczogaW5mZXIgVCwgLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIGluZmVyIFIsIGFueT4gLy8gSW5mZXIgYm90aCB0aGlzIGFuZCByZXR1cm5cbiAgPyAodGhpczogVCwgLi4uYXJnczogWy4uLlBhcmFtZXRlcnM8Rj4sIE9wdGlvbnNGYWN0b3J5P10pID0+IFByb21pc2U8Uj5cbiAgOiBGIGV4dGVuZHMgKHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIGluZmVyIFIsIGFueT4gLy8gSW5mZXIgb25seSByZXR1cm5cbiAgPyAoLi4uYXJnczogWy4uLlBhcmFtZXRlcnM8Rj4sIE9wdGlvbnNGYWN0b3J5P10pID0+IFByb21pc2U8Uj5cbiAgOiBGIGV4dGVuZHMgKHRoaXM6IGluZmVyIFQsIC4uLmFyZ3M6IGFueVtdKSA9PiBHZW5lcmF0b3I8YW55LCBhbnksIGFueT4gLy8gSW5mZXIgb25seSB0aGlzXG4gID8gKHRoaXM6IFQsIC4uLmFyZ3M6IFsuLi5QYXJhbWV0ZXJzPEY+LCBPcHRpb25zRmFjdG9yeT9dKSA9PiBQcm9taXNlPHVua25vd24+XG4gIDogKC4uLmFyZ3M6IFsuLi5QYXJhbWV0ZXJzPEY+LCBPcHRpb25zRmFjdG9yeT9dKSA9PiBQcm9taXNlPHVua25vd24+O1xudHlwZSBTeW5jV3JhcDxcbiAgRiBleHRlbmRzICh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiBHZW5lcmF0b3I8YW55LCBhbnksIGFueT5cbj4gPSBGIGV4dGVuZHMgKHRoaXM6IGluZmVyIFQsIC4uLmFyZ3M6IGFueVtdKSA9PiBHZW5lcmF0b3I8YW55LCBpbmZlciBSLCBhbnk+IC8vIEluZmVyIGJvdGggdGhpcyBhbmQgcmV0dXJuXG4gID8gKHRoaXM6IFQsIC4uLmFyZ3M6IFBhcmFtZXRlcnM8Rj4pID0+IFJcbiAgOiBGIGV4dGVuZHMgKHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIGluZmVyIFIsIGFueT4gLy8gSW5mZXIgb25seSByZXR1cm5cbiAgPyAoLi4uYXJnczogUGFyYW1ldGVyczxGPikgPT4gUlxuICA6IEYgZXh0ZW5kcyAodGhpczogaW5mZXIgVCwgLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIGFueSwgYW55PiAvLyBJbmZlciBvbmx5IHRoaXNcbiAgPyAodGhpczogVCwgLi4uYXJnczogUGFyYW1ldGVyczxGPikgPT4gdW5rbm93blxuICA6ICguLi5hcmdzOiBQYXJhbWV0ZXJzPEY+KSA9PiB1bmtub3duO1xuXG5mdW5jdGlvbiBleHRyYWN0T3B0aW9ucyhhcmdzOiBhbnlbXSk6IFtPcHRpb25zRmFjdG9yeSB8IHVuZGVmaW5lZCwgYW55W11dIHtcbiAgbGV0IGxhc3QgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gIGxldCBhbzogT3B0aW9uc0ZhY3RvcnkgfCB1bmRlZmluZWQ7XG5cbiAgLy8gU2ltcGxlIChub3QgcGVyZmVjdCkgY2hlY2sgaWYgbGFzdCBhcmd1ZW50IGlzIG9wdGlvbnNcbiAgaWYgKFwiY3JlYXRlXCIgaW4gbGFzdCkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLCAwLCBhcmdzLmxlbmd0aCAtIDEpO1xuICAgIGFvID0gbGFzdDtcbiAgfVxuICByZXR1cm4gW2FvLCBhcmdzXTtcbn1cblxuLyoqXG4gKiBUb29saW5nIHRvIHdyYXAgYSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IG5hbWVzcGFjZSB3cmFwIHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGFzeW5jPEYgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIGFueSwgYW55Pj4oXG4gICAgZjogRlxuICApOiBBc3luY1dyYXA8Rj4ge1xuICAgIGxldCByZXMgPSBmdW5jdGlvbiAodGhpczogYW55LCAuLi5hcmdzOiBhbnlbXSkge1xuICAgICAgbGV0IFtvcHRpb25zLCBmbkFyZ3NdID0gZXh0cmFjdE9wdGlvbnMoYXJncyk7XG4gICAgICByZXR1cm4gY2FsbEFzeW5jKHRoaXMsIGYsIGZuQXJncyBhcyBhbnksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIHJlcyBhcyBhbnk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gc3luYzxGIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBHZW5lcmF0b3I8YW55LCBhbnksIGFueT4+KFxuICAgIGY6IEZcbiAgKTogU3luY1dyYXA8Rj4ge1xuICAgIGxldCByZXMgPSBmdW5jdGlvbiAodGhpczogYW55LCAuLi5hcmdzOiBhbnlbXSkge1xuICAgICAgcmV0dXJuIGNhbGxTeW5jKHRoaXMsIGYsIGFyZ3MgYXMgYW55KTtcbiAgICB9O1xuICAgIHJldHVybiByZXMgYXMgYW55O1xuICB9XG59XG5cbi8qKlxuICogVG9vbGluZyB0byBmb3J3YXJkIGEgZnVuY3Rpb24gdG8gYW5vdGhlciBmdW5jdGlvbiBkZWZpbmVkIG9uIHRoZSB0aGlzIG9iamVjdC5cbiAqL1xuZXhwb3J0IG5hbWVzcGFjZSBmb3J3YXJkIHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGFzeW5jPFxuICAgIEYgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIGFueSwgYW55PiA9IG5ldmVyXG4gID4oa2V5OiBzdHJpbmcpOiBBc3luY1dyYXA8Rj4ge1xuICAgIGxldCByZXMgPSBmdW5jdGlvbiAodGhpczogYW55LCAuLi5hcmdzOiBhbnlbXSkge1xuICAgICAgbGV0IFtvcHRpb25zLCBmbkFyZ3NdID0gZXh0cmFjdE9wdGlvbnMoYXJncyk7XG4gICAgICByZXR1cm4gY2FsbEFzeW5jKHRoaXMsIHRoaXNba2V5XSwgZm5BcmdzIGFzIGFueSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gcmVzIGFzIGFueTtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBzeW5jPEYgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IEdlbmVyYXRvcjxhbnksIGFueSwgYW55Pj4oXG4gICAga2V5OiBzdHJpbmdcbiAgKTogU3luY1dyYXA8Rj4ge1xuICAgIGxldCByZXMgPSBmdW5jdGlvbiAodGhpczogYW55LCAuLi5hcmdzOiBhbnlbXSkge1xuICAgICAgcmV0dXJuIGNhbGxTeW5jKHRoaXMsIHRoaXNba2V5XSwgYXJncyBhcyBhbnkpO1xuICAgIH07XG4gICAgcmV0dXJuIHJlcyBhcyBhbnk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBc3luY09wdGlvbnMsIERlZmF1bHRBc3luY09wdGlvbnMsIGZvcndhcmQsIHdyYXAgfSBmcm9tIFwiLi4vQXN5bmNcIjtcblxuZXhwb3J0IGVudW0gTWF0aFR5cGUge1xuICBJbmZpbml0eSA9IFwiaW5maW5pdHlcIixcbiAgQ29tcGxleCA9IFwiY29tcGxleFwiLFxuICBNb2ViaXVzID0gXCJtb2ViaXVzXCIsXG59XG5cbmludGVyZmFjZSBUZVhhYmxlIHtcbiAgdG9UZVgoKTogU3RyaW5nO1xufVxuXG4vKipcbiAqIEluZmluaXR5XG4gKi9cbmV4cG9ydCBjb25zdCBvbyA9IHtcbiAgbWF0aHR5cGU6IE1hdGhUeXBlLkluZmluaXR5LFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIG9vID0gdHlwZW9mIG9vO1xuXG5leHBvcnQgY2xhc3MgUmFuZ2Uge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgc3RhcnQ6IG51bWJlcixcbiAgICBwdWJsaWMgZW5kOiBudW1iZXIsXG4gICAgcHVibGljIHN0ZXA6IG51bWJlciA9IDFcbiAgKSB7fVxuXG4gICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICBsZXQgeyBzdGFydDogdiwgc3RlcCwgZW5kIH0gPSB0aGlzO1xuICAgIHdoaWxlICh2IDwgZW5kKSB7XG4gICAgICB5aWVsZCB2O1xuICAgICAgdiArPSBzdGVwO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGNvbnZlcnQgZGlmZmVyZW50IGFyZ3VtZW50cyB0byBpbnN0YW5jZXMgb2YgdGhlIENvbXBsZXggY2xhc3MuXG4gKiBAcGFyYW0gcmVhbFxuICogQHBhcmFtIGltYWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNwbHgocmVhbDogbnVtYmVyLCBpbWFnPzogbnVtYmVyKTogQ29tcGxleDtcbi8qKlxuICogRnVuY3Rpb24gdG8gY29udmVydCBkaWZmZXJlbnQgYXJndW1lbnRzIHRvIGluc3RhbmNlcyBvZiB0aGUgQ29tcGxleCBjbGFzcy5cbiAqIEBwYXJhbSBjb21wbGV4IEFycmF5IG9mIGZvcm0gW3JlYWwsIGltYWddXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcGx4KGNvbXBsZXg6IFtudW1iZXIsIG51bWJlcl0pOiBDb21wbGV4O1xuLyoqXG4gKiBGdW5jdGlvbiB0byBjb252ZXJ0IGRpZmZlcmVudCBhcmd1bWVudHMgdG8gaW5zdGFuY2VzIG9mIHRoZSBDb21wbGV4IGNsYXNzLlxuICogQHBhcmFtIGNvbXBsZXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNwbHgoY29tcGxleDogQ29tcGxleCk6IENvbXBsZXg7XG5leHBvcnQgZnVuY3Rpb24gY3BseChcbiAgYTogbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXSB8IENvbXBsZXgsXG4gIGI/OiBudW1iZXJcbik6IENvbXBsZXgge1xuICByZXR1cm4gdHlwZW9mIGEgPT09IFwibnVtYmVyXCJcbiAgICA/IG5ldyBDb21wbGV4KGEsIGIpXG4gICAgOiBBcnJheS5pc0FycmF5KGEpXG4gICAgPyBuZXcgQ29tcGxleChhWzBdLCBhWzFdKVxuICAgIDogYTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbXBsZXggaW1wbGVtZW50cyBUZVhhYmxlIHtcbiAgbWF0aHR5cGUgPSBNYXRoVHlwZS5Db21wbGV4O1xuICByZWFsOiBudW1iZXI7XG4gIGltYWc6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihyZWFsOiBudW1iZXIsIGltYWc6IG51bWJlciA9IDApIHtcbiAgICB0aGlzLnJlYWwgPSByZWFsO1xuICAgIHRoaXMuaW1hZyA9IGltYWc7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhYnNvbHV0ZSB2YWx1ZSBzcXVhcmVkLiBUaGlzIGlzIGZhc3RlciB0aGFuIGBhYnMoKWBcbiAgICogQHJldHVybnMgJHx6fF4yJFxuICAgKi9cbiAgYWJzMigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnJlYWwgKiB0aGlzLnJlYWwgKyB0aGlzLmltYWcgKiB0aGlzLmltYWc7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhYnNvbHV0ZSB2YWx1ZS5cbiAgICogQHJldHVybnMgJHx6fCRcbiAgICovXG4gIGFicygpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5hYnMyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHZhbHVlIHRvIHRoaXMuXG4gICAqIEBwYXJhbSBvdGhlclxuICAgKi9cbiAgYWRkKG90aGVyOiBudW1iZXIgfCBDb21wbGV4KTogQ29tcGxleCB7XG4gICAgaWYgKHR5cGVvZiBvdGhlciA9PT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0aGlzLnJlYWwgKyBvdGhlciwgdGhpcy5pbWFnKTtcbiAgICBlbHNlIHJldHVybiBuZXcgQ29tcGxleCh0aGlzLnJlYWwgKyBvdGhlci5yZWFsLCB0aGlzLmltYWcgKyBvdGhlci5pbWFnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdCBhIHZhbHVlIGZyb20gdGhpcy5cbiAgICogQHBhcmFtIG90aGVyXG4gICAqL1xuICBzdWIob3RoZXI6IG51bWJlciB8IENvbXBsZXgpOiBDb21wbGV4IHtcbiAgICBpZiAodHlwZW9mIG90aGVyID09PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXMucmVhbCAtIG90aGVyLCB0aGlzLmltYWcpO1xuICAgIGVsc2UgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXMucmVhbCAtIG90aGVyLnJlYWwsIHRoaXMuaW1hZyAtIG90aGVyLmltYWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IGEgdmFsdWUgd2l0aCB0aGlzLlxuICAgKiBAcGFyYW0gb3RoZXJcbiAgICovXG4gIG11bChvdGhlcjogbnVtYmVyIHwgQ29tcGxleCk6IENvbXBsZXgge1xuICAgIGlmICh0eXBlb2Ygb3RoZXIgPT09IFwibnVtYmVyXCIpXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgob3RoZXIgKiB0aGlzLnJlYWwsIG90aGVyICogdGhpcy5pbWFnKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgIHRoaXMucmVhbCAqIG90aGVyLnJlYWwgLSB0aGlzLmltYWcgKiBvdGhlci5pbWFnLFxuICAgICAgICB0aGlzLmltYWcgKiBvdGhlci5yZWFsICsgdGhpcy5yZWFsICogb3RoZXIuaW1hZ1xuICAgICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXZpZGUgdGhpcyBieSBhbm90aGVyIHZhbHVlXG4gICAqIEBwYXJhbSBvdGhlclxuICAgKi9cbiAgZGl2KG90aGVyOiBudW1iZXIgfCBDb21wbGV4KTogQ29tcGxleCB7XG4gICAgaWYgKHR5cGVvZiBvdGhlciA9PT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0aGlzLnJlYWwgLyBvdGhlciwgdGhpcy5pbWFnIC8gb3RoZXIpO1xuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMubXVsKG90aGVyLmludigpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52ZXJ0IHRoaXMgdmFsdWVcbiAgICogQHJldHVybnMgJHpeey0xfSRcbiAgICovXG4gIGludigpOiBDb21wbGV4IHtcbiAgICB2YXIgYTIgPSB0aGlzLmFiczIoKTtcbiAgICByZXR1cm4gbmV3IENvbXBsZXgodGhpcy5yZWFsIC8gYTIsIC10aGlzLmltYWcgLyBhMik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhcmd1bWVudCBpZiB0aGlzLlxuICAgKiBAcmV0dXJucyAkXFx0aGV0YSBcXGluIFswLCAyXFxwaSkkIHdoZXJlICR6ID0gfHp8IGVee2kgXFx0aGV0YX0kLlxuICAgKi9cbiAgYXJnKCkge1xuICAgIHZhciByZSA9IHRoaXMucmVhbDtcbiAgICB2YXIgaW0gPSB0aGlzLmltYWc7XG4gICAgaWYgKHJlID09IDApIHtcbiAgICAgIGlmIChpbSA+IDApIHJldHVybiAwLjUgKiBNYXRoLlBJO1xuICAgICAgZWxzZSBpZiAoaW0gPCAwKSByZXR1cm4gMS41ICogTWF0aC5QSTtcbiAgICAgIGVsc2UgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmIChyZSA+PSAwKSB7XG4gICAgICBjb25zdCBwaGkgPSBNYXRoLmF0YW4oKDEuMCAqIGltKSAvIHJlKTtcbiAgICAgIGlmIChwaGkgPCAwKSByZXR1cm4gMiAqIE1hdGguUEkgKyBwaGk7XG4gICAgICByZXR1cm4gcGhpO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5hdGFuKCgxLjAgKiBpbSkgLyByZSkgKyBNYXRoLlBJO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgdGhpcyB0byBUZVhcbiAgICovXG4gIHRvVGVYKCkge1xuICAgIGlmICh0aGlzLmltYWcgPT0gMCkgcmV0dXJuIGAke3RoaXMucmVhbH1gO1xuICAgIGVsc2UgaWYgKHRoaXMucmVhbCA9PSAwKSByZXR1cm4gYCR7dGhpcy5pbWFnfWlgO1xuICAgIGVsc2UgcmV0dXJuIGAke3RoaXMucmVhbH0gKyAke3RoaXMuaW1hZ31pYDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9lYml1cyBpbXBsZW1lbnRzIFRlWGFibGUge1xuICBtYXRodHlwZTogTWF0aFR5cGUuTW9lYml1cyA9IE1hdGhUeXBlLk1vZWJpdXM7XG4gIG06IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtb2ViaW91cyB2YWx1ZSB3aXRoIG1hdHJpeCBbW21fezAsMH0sIG1fezAsMX1dLCBbbV97MSwwfSwgbV97MSwxfV1dLlxuICAgKiBUaGUgdHJhbnNmb3JtIGlzIGdpdmVuIGJ5ICR6IFxcdG8gXFxmcmFje21fezAsMH0geiArIG1fezAsMX19e21fezEsMH0geiArIG1fezEsMX19JC5cbiAgICogISEhIFRoZSBkZXRlcm1pbmFudCBzaG91bGQgYmUgMS4gVGhpcyBpcyBub3QgY2hlY2tlZCBhbmQgY291bGQgbGVhZCB0byBlcnJvcnMuICEhIVxuICAgKiBAcGFyYW0gbTAwXG4gICAqIEBwYXJhbSBtMDFcbiAgICogQHBhcmFtIG0xMFxuICAgKiBAcGFyYW0gbTExXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtMDA6IG51bWJlciwgbTAxOiBudW1iZXIsIG0xMDogbnVtYmVyLCBtMTE6IG51bWJlcikge1xuICAgIHRoaXMubSA9IFttMDAsIG0wMSwgbTEwLCBtMTFdO1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IHR3byBNb2ViaW91cyBtYXRyaWNpZXMgdG9nZXRoZXIuXG4gICAqIFJlc3VsdCBpcyB0aGUgdHJhbnNmb3JtIHogLT4gdGhpcyggb3RoZXIoeikgKS5cbiAgICogQHBhcmFtIG90aGVyXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBtdWwob3RoZXI6IE1vZWJpdXMpOiBNb2ViaXVzIHtcbiAgICBjb25zdCBtMSA9IHRoaXMubTtcbiAgICBjb25zdCBtMiA9IG90aGVyLm07XG4gICAgcmV0dXJuIG5ldyBNb2ViaXVzKFxuICAgICAgbTFbMF0gKiBtMlswXSArIG0xWzFdICogbTJbMl0sXG4gICAgICBtMVswXSAqIG0yWzFdICsgbTFbMV0gKiBtMlszXSxcbiAgICAgIG0xWzJdICogbTJbMF0gKyBtMVszXSAqIG0yWzJdLFxuICAgICAgbTFbMl0gKiBtMlsxXSArIG0xWzNdICogbTJbM11cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEludmVydCB0aGlzIHRyYW5zZm9ybVxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgaW52KCk6IE1vZWJpdXMge1xuICAgIGNvbnN0IG0gPSB0aGlzLm07XG4gICAgcmV0dXJuIG5ldyBNb2ViaXVzKG1bM10sIC1tWzFdLCAtbVsyXSwgbVswXSk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtIGEgY29tcGxleCB2YWx1ZSB1c2luZyB0aGUgbW9lYmlvdXMgdHJhbnNmb3JtLlxuICAgKiBAcGFyYW0gdmFsdWVcbiAgICogQHJldHVybnNcbiAgICovXG4gIHRyYW5zZm9ybShhOiBudW1iZXIsIGI/OiBudW1iZXIpOiBDb21wbGV4IHwgb287XG4gIHRyYW5zZm9ybShhOiBDb21wbGV4IHwgb28pOiBDb21wbGV4IHwgb287XG4gIHRyYW5zZm9ybShhOiBudW1iZXIgfCBDb21wbGV4IHwgb28sIGI/OiBudW1iZXIpOiBDb21wbGV4IHwgb28ge1xuICAgIGlmICh0eXBlb2YgYSA9PT0gXCJudW1iZXJcIikgYSA9IGNwbHgoYSwgYik7XG4gICAgZWxzZSBpZiAoYS5tYXRodHlwZSA9PT0gTWF0aFR5cGUuSW5maW5pdHkpIHtcbiAgICAgIGlmICh0aGlzLm1bMl0gPT0gMCkgcmV0dXJuIG9vO1xuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXMubVswXSAvIHRoaXMubVsyXSk7XG4gICAgfVxuICAgIGNvbnN0IG0gPSB0aGlzLm07XG4gICAgY29uc3QgcSA9IGEubXVsKG1bMl0pLmFkZChtWzNdKTtcbiAgICBpZiAocS5yZWFsID09IDAgJiYgcS5pbWFnID09IDApIHJldHVybiBvbztcbiAgICByZXR1cm4gYS5tdWwobVswXSkuYWRkKG1bMV0pLmRpdihxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IHRvIGEgVGVYIG1hdHJpeC5cbiAgICogQHJldHVybnNcbiAgICovXG4gIHRvVGVYKCkge1xuICAgIHJldHVybiBgXFxcXGJlZ2lue3BtYXRyaXh9JHt0aGlzLm1bMF19JiR7dGhpcy5tWzFdfVxcXFxcXFxcICR7dGhpcy5tWzJdfSYke3RoaXMubVszXX1cXFxcZW5ke3BtYXRyaXh9YDtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIGNvbmdydWVuY2VTdWJncm91cHMge1xuICBleHBvcnQgY2xhc3MgQ29uZ3J1ZW5jZVN1Ymdyb3VwIGltcGxlbWVudHMgVGVYYWJsZSB7XG4gICAgaW5kaWNhdG9yOiAobGV2ZWw6IG51bWJlciwgdmFsdWU6IE1vZWJpdXMpID0+IGJvb2xlYW47XG4gICAgdGV4OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgIGluZGljYXRvcjogKGxldmVsOiBudW1iZXIsIHZhbHVlOiBNb2ViaXVzKSA9PiBib29sZWFuLFxuICAgICAgdGV4OiBzdHJpbmdcbiAgICApIHtcbiAgICAgIHRoaXMuaW5kaWNhdG9yID0gaW5kaWNhdG9yO1xuICAgICAgdGhpcy50ZXggPSB0ZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgY29zZXQgcmVwcmVzZW50YXRpdmUgZm9yIGEgdmFsdWUgaW4gYSBzZXQgb2YgcmVwcmVzZW50YXRpdmVzLlxuICAgICAqIEBwYXJhbSBsZXZlbCBUaGUgbGV2ZWwgb2YgdGhpcyB0aGUgZ3JvdXAuXG4gICAgICogQHBhcmFtIHJlcHJzIFRoZSBzZXQgb2YgcmVwcmVzZW50YXRpdmVzXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIFRoZSBpbmRleCBpbiB0aGUgc2V0IG9yIC0xXG4gICAgICovXG4gICAgZmluZENvc2V0SW5kZXgobGV2ZWw6IG51bWJlciwgcmVwcnM6IE1vZWJpdXNbXSwgdmFsdWU6IE1vZWJpdXMpOiBudW1iZXIge1xuICAgICAgY29uc3QgeGludiA9IHZhbHVlLmludigpO1xuICAgICAgY29uc3QgaW5kID0gdGhpcy5pbmRpY2F0b3I7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcHJzLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoaW5kKGxldmVsLCByZXByc1tpXS5tdWwoeGludikpKSByZXR1cm4gaTtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBjb3NldCByZXByZXNlbnRhdGl2ZSBmb3IgYSB2YWx1ZSBpbiBhIHNldCBvZiByZXByZXNlbnRhdGl2ZXMuXG4gICAgICogQHBhcmFtIGxldmVsIFRoZSBsZXZlbCBvZiB0aGlzIHRoZSBncm91cC5cbiAgICAgKiBAcGFyYW0gcmVwcnMgVGhlIHNldCBvZiByZXByZXNlbnRhdGl2ZXNcbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlXG4gICAgICogQHJldHVybnMgVGhlIGNvc2V0IHJlcHJlc2VudGF0aXZlXG4gICAgICovXG4gICAgZmluZENvc2V0KFxuICAgICAgbGV2ZWw6IG51bWJlcixcbiAgICAgIGxpc3Q6IE1vZWJpdXNbXSxcbiAgICAgIHZhbHVlOiBNb2ViaXVzXG4gICAgKTogTW9lYml1cyB8IHVuZGVmaW5lZCB7XG4gICAgICBjb25zdCB4aW52ID0gdmFsdWUuaW52KCk7XG4gICAgICBjb25zdCBpbmQgPSB0aGlzLmluZGljYXRvcjtcbiAgICAgIHJldHVybiBsaXN0LmZpbmQoKHZhbHVlOiBNb2ViaXVzKSA9PiB7XG4gICAgICAgIHJldHVybiBpbmQobGV2ZWwsIHZhbHVlLm11bCh4aW52KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBGaW5kIGNvc2V0IHJlcHJlc2VudGF0aXZlcy5cbiAgICAgKiBUaGUgZnVuY3Rpb24geWllbGRzIG11bHRpcGxlIHRpbWVzLiBUaGUgeWllbGRzIGFyZSBlaXRoZXIgaWdub3JlZCBvciB1c2VkIHRvXG4gICAgICogY3JlYXRlIGEgbm9uLWJsb2NraW5nIGFzeW5jIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSBsZXZlbCBMZXZlbCBvZiB0aGUgY29uZ3J1ZW5jZSBzdWJncm91cC5cbiAgICAgKiBAcmV0dXJucyBBIGxpc3Qgb2YgY29zZXQgcmVwcmVzZW50YXRpdmVzLlxuICAgICAqL1xuICAgICpfY29zZXRSZXByZXNlbnRhdGl2ZXMobGV2ZWw6IG51bWJlcik6IEdlbmVyYXRvcjx2b2lkLCBNb2ViaXVzW10sIHZvaWQ+IHtcbiAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihsZXZlbCkgfHwgbGV2ZWwgPD0gMCkgdGhyb3cgXCJJbnZhbGlkIExldmVsXCI7XG5cbiAgICAgIGNvbnN0IGdlbmVyYXRvcnMgPSBbXG4gICAgICAgIG5ldyBNb2ViaXVzKDAsIC0xLCAxLCAwKSxcbiAgICAgICAgbmV3IE1vZWJpdXMoMSwgMSwgMCwgMSksXG4gICAgICAgIG5ldyBNb2ViaXVzKDEsIC0xLCAwLCAxKSxcbiAgICAgIF07XG4gICAgICBjb25zdCBncm91cCA9IHRoaXM7XG4gICAgICBjb25zdCByZXBycyA9IFtuZXcgTW9lYml1cygxLCAwLCAwLCAxKV07XG5cbiAgICAgIHZhciBjaGVja3M6IE1vZWJpdXNbXSA9IFtdO1xuICAgICAgdmFyIHNlZWRzOiBNb2ViaXVzW10gPSBbXTtcbiAgICAgIHZhciBhZGRlZCA9IFtuZXcgTW9lYml1cygxLCAwLCAwLCAxKV07XG5cbiAgICAgIHdoaWxlIChhZGRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNoZWNrcyA9IHNlZWRzO1xuICAgICAgICBzZWVkcyA9IGFkZGVkO1xuICAgICAgICBhZGRlZCA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHMgb2Ygc2VlZHMpIHtcbiAgICAgICAgICBmb3IgKGxldCBnIG9mIGdlbmVyYXRvcnMpIHtcbiAgICAgICAgICAgIC8vIE1heSB5aWVsZCBjb250cm9sbCB0byBtYWluIHRocmVhZCBpbiBhc3luYyBleGVjdXRpb25cbiAgICAgICAgICAgIHlpZWxkO1xuXG4gICAgICAgICAgICBsZXQgbiA9IHMubXVsKGcpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBncm91cC5maW5kQ29zZXRJbmRleChsZXZlbCwgY2hlY2tzLCBuKSA9PSAtMSAmJlxuICAgICAgICAgICAgICBncm91cC5maW5kQ29zZXRJbmRleChsZXZlbCwgYWRkZWQsIG4pID09IC0xICYmXG4gICAgICAgICAgICAgIGdyb3VwLmZpbmRDb3NldEluZGV4KGxldmVsLCBzZWVkcywgbikgPT0gLTFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICByZXBycy5wdXNoKG4pO1xuICAgICAgICAgICAgICBhZGRlZC5wdXNoKG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcHJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGxpc3Qgb2YgY29zZXRSZXByZXNlbnRhdGl2ZXMuXG4gICAgICogQHBhcmFtIGxldmVsIFRoZSBsZXZlbCBvZiB0aGUgZ3JvdXAuXG4gICAgICogQHJldHVybnMgVGhlIGxpc3Qgb2YgY29zZXRSZXByZXNlbnRhdGl2ZXMuXG4gICAgICovXG4gICAgY29zZXRSZXByZXNlbnRhdGl2ZXMgPSBmb3J3YXJkLnN5bmM8XG4gICAgICBDb25ncnVlbmNlU3ViZ3JvdXBbXCJfY29zZXRSZXByZXNlbnRhdGl2ZXNcIl1cbiAgICA+KFwiX2Nvc2V0UmVwcmVzZW50YXRpdmVzXCIpO1xuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbGlzdCBvZiBjb3NldFJlcHJlc2VudGF0aXZlcy5cbiAgICAgKiBGdW5jdGlvbiBtYXkgeWllbGQgY29udHJvbCBhbmQgcmVzdW1lIG5leHQgZnJhbWVcbiAgICAgKiBpZiB0aGUgY29tcHV0YXRpb24gdGFrZXMgdG9vIGxvbmcuXG4gICAgICogQHBhcmFtIGxldmVsIFRoZSBsZXZlbC5cbiAgICAgKiBAcGFyYW0gYW8gVGhlIEFzeW5jT3B0aW9ucyB0byB1c2UuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIGZvciB0aGUgbGlzdCBvZiBjb3NldCByZXByZXNlbnRhdGl2ZXMuXG4gICAgICovXG4gICAgY29zZXRSZXByZXNlbnRhdGl2ZXNBc3luYyA9IGZvcndhcmQuYXN5bmM8XG4gICAgICBDb25ncnVlbmNlU3ViZ3JvdXBbXCJfY29zZXRSZXByZXNlbnRhdGl2ZXNcIl1cbiAgICA+KFwiX2Nvc2V0UmVwcmVzZW50YXRpdmVzXCIpO1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgVGVYIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgR3JvdXAuXG4gICAgICovXG4gICAgdG9UZVgoKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXg7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCBjaGVjayBbdjFdID0gW3YyXSAobW9kIFttb2R1bHVzXSkgKi9cbiAgZnVuY3Rpb24gX21vZF9lcSh2MTogbnVtYmVyLCB2MjogbnVtYmVyLCBtb2R1bHVzOiBudW1iZXIpIHtcbiAgICByZXR1cm4gKHYxIC0gdjIpICUgbW9kdWx1cyA9PT0gMDtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZnVuY3Rpb24gX2dhbW1hXzBfaW5kaWNhdG9yKGxldmVsOiBudW1iZXIsIHZhbHVlOiBNb2ViaXVzKSB7XG4gICAgcmV0dXJuIF9tb2RfZXEodmFsdWUubVsyXSwgMCwgbGV2ZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjb25ncnVlbmNlIHN1Ymdyb3VwICRcXEdhbW1hXzAkIHRoYXQgc2F0aXNmaWVzIGZvbGxvd2luZyBjb25ncnVlbmNlcy5cbiAgICpcbiAgICogJE0gXFxlcXVpdiBcXGJlZ2lue3BtYXRyaXh9ID8gJiA/IFxcXFwgMCAmID8gXFxlbmR7cG1hdHJpeH0kLlxuICAgKi9cbiAgZXhwb3J0IGNvbnN0IEdhbW1hXzAgPSBuZXcgQ29uZ3J1ZW5jZVN1Ymdyb3VwKFxuICAgIF9nYW1tYV8wX2luZGljYXRvcixcbiAgICBcIlxcXFxHYW1tYV8wXCJcbiAgKTtcblxuICAvKiogQGludGVybmFsICovXG4gIGZ1bmN0aW9uIF9nYW1tYV8xX2luZGljYXRvcihsZXZlbDogbnVtYmVyLCB2YWx1ZTogTW9lYml1cykge1xuICAgIHJldHVybiAoXG4gICAgICBfbW9kX2VxKHZhbHVlLm1bMl0sIDAsIGxldmVsKSAmJlxuICAgICAgKF9tb2RfZXEodmFsdWUubVswXSwgMSwgbGV2ZWwpIHx8IF9tb2RfZXEodmFsdWUubVswXSwgLTEsIGxldmVsKSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjb25ncnVlbmNlIHN1Ymdyb3VwICRcXEdhbW1hXzAkIHRoYXQgc2F0aXNmaWVzIGZvbGxvd2luZyBjb25ncnVlbmNlcy5cbiAgICpcbiAgICogJE0gXFxlcXVpdiBcXGJlZ2lue3BtYXRyaXh9IDEgJiA/IFxcXFwgMCAmIDEgXFxlbmR7cG1hdHJpeH0kLlxuICAgKi9cbiAgZXhwb3J0IGNvbnN0IEdhbW1hXzEgPSBuZXcgQ29uZ3J1ZW5jZVN1Ymdyb3VwKFxuICAgIF9nYW1tYV8xX2luZGljYXRvcixcbiAgICBcIlxcXFxHYW1tYV8xXCJcbiAgKTtcblxuICAvKiogQGludGVybmFsICovXG4gIGZ1bmN0aW9uIF9nYW1tYV9pbmRpY2F0b3IobGV2ZWw6IG51bWJlciwgdmFsdWU6IE1vZWJpdXMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX21vZF9lcSh2YWx1ZS5tWzJdLCAwLCBsZXZlbCkgJiZcbiAgICAgIF9tb2RfZXEodmFsdWUubVsxXSwgMCwgbGV2ZWwpICYmXG4gICAgICAoX21vZF9lcSh2YWx1ZS5tWzBdLCAxLCBsZXZlbCkgfHwgX21vZF9lcSh2YWx1ZS5tWzBdLCAtMSwgbGV2ZWwpKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNvbmdydWVuY2Ugc3ViZ3JvdXAgJFxcR2FtbWFfMCQgdGhhdCBzYXRpc2ZpZXMgZm9sbG93aW5nIGNvbmdydWVuY2VzLlxuICAgKlxuICAgKiAkTSBcXGVxdWl2IFxcYmVnaW57cG1hdHJpeH0gMSAmIDAgXFxcXCAwICYgMSBcXGVuZHtwbWF0cml4fSQuXG4gICAqL1xuICBleHBvcnQgY29uc3QgR2FtbWEgPSBuZXcgQ29uZ3J1ZW5jZVN1Ymdyb3VwKF9nYW1tYV9pbmRpY2F0b3IsIFwiXFxcXEdhbW1hXCIpO1xuICBHYW1tYS5jb3NldFJlcHJlc2VudGF0aXZlcyA9IGZ1bmN0aW9uIChsZXZlbDogbnVtYmVyKTogTW9lYml1c1tdIHtcbiAgICBsZXQgZ2FtbWFfMV9jb3NldCA9IEdhbW1hXzEuY29zZXRSZXByZXNlbnRhdGl2ZXMobGV2ZWwpO1xuICAgIGxldCBjb3NldDogTW9lYml1c1tdID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxldmVsOyBpKyspIHtcbiAgICAgIGxldCBzaGlmdCA9IG5ldyBNb2ViaXVzKDEsIGksIDAsIDEpO1xuICAgICAgY29zZXQucHVzaCguLi5nYW1tYV8xX2Nvc2V0Lm1hcCgobSkgPT4gc2hpZnQubXVsKG0pKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvc2V0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgTW9yZSBwZXJmb3JtYW50IHJlcHJlc2VudGF0aXZlcyBmb3IgJFxcR2FtbWEoTikkLlxuICAgKlxuICAgKiBUaGUgY29zZXQgcmVwcmVzZW50YXRpdmVzIG9mICRcXEdhbW1hKE4pJCBjYW4gYmUgY29tcHV0ZWQgbW9yZSBlZmZpY2llbnRseVxuICAgKiBieSBjb21wdXRpbmcgdGhlIHJlcHJlc2VudGF0aXZlcyBwZiAkXFxHYW1tYV8xKE4pJCBmaXJzdC5cbiAgICogVGhlIGZ1bGwgc2V0IG9mIHJlcHJlc2VudGF0aXZlcyBpcyBjb21wb3NlZCBvZiBtdWx0aXBsZSBzaGlmdHMgb2YgdGhlXG4gICAqIHJlcHJlc2VudGF0aXZlcyBmcm9tICRcXEdhbW1hXzEoTikkIChzaGlmdGVkIGJ5IDAgXFxsZXEgbiA8IE4pLlxuICAgKi9cbiAgR2FtbWEuX2Nvc2V0UmVwcmVzZW50YXRpdmVzID0gZnVuY3Rpb24qIChsZXZlbCkge1xuICAgIGxldCBnYW1tYV8xX2Nvc2V0ID0geWllbGQqIEdhbW1hXzEuX2Nvc2V0UmVwcmVzZW50YXRpdmVzKGxldmVsKTtcbiAgICBsZXQgY29zZXQ6IE1vZWJpdXNbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGV2ZWw7IGkrKykge1xuICAgICAgeWllbGQ7XG4gICAgICBsZXQgc2hpZnQgPSBuZXcgTW9lYml1cygxLCBpLCAwLCAxKTtcbiAgICAgIGNvc2V0LnB1c2goLi4uZ2FtbWFfMV9jb3NldC5tYXAoKG0pID0+IHNoaWZ0Lm11bChtKSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29zZXQ7XG4gIH07XG5cbiAgZXhwb3J0IHR5cGUgRnVuZGFtZW50YWxEb21haW4gPSB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBsZXggY29ybmVyIHBvaW50cyBvZiB0aGUgZG9tYWluLlxuICAgICAqIEJvdW5kYXJ5IGlzIGdpdmVuIGJ5IGh5cGVyYm9saWMgbGluZXMgYmV0d2VlbiB0aGVtLlxuICAgICAqL1xuICAgIGNvcm5lcnM6IChDb21wbGV4IHwgb28pW107XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgY29zZXQgdGhhdCBjb250YWlucyB0aGUgZ2l2ZW4gY29tcGxleCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmaW5kQ29zZXRPZjogKHZhbHVlOiBDb21wbGV4KSA9PiBNb2ViaXVzIHwgdW5kZWZpbmVkO1xuICB9O1xuXG4gIGNvbnN0IGVfcGlfMyA9IG5ldyBDb21wbGV4KE1hdGguY29zKE1hdGguUEkgLyAzKSwgTWF0aC5zaW4oTWF0aC5QSSAvIDMpKTtcbiAgLyoqXG4gICAqIEZ1bmRhbWVudGFsIGRvbWFpbiB3aXRoIHRoZSBmb2xsb3dpbmcgZGVmaW5pdGlvbi5cbiAgICogJFxce3ogXFxpbiBcXG1hdGhiYntDfSA6IHx6fCBcXGdlcSAxICYmIC0wLjUgPD0gXFxSZSB6IDw9IDAuNSBcXH0kXG4gICAqL1xuICBleHBvcnQgY29uc3QgRG9tYWluMTogRnVuZGFtZW50YWxEb21haW4gPSB7XG4gICAgY29ybmVyczogW1xuICAgICAgb28sXG4gICAgICBlX3BpXzMsXG4gICAgICBuZXcgQ29tcGxleCgwLjAsIDEuMCksXG4gICAgICBuZXcgQ29tcGxleCgtZV9waV8zLnJlYWwsIGVfcGlfMy5pbWFnKSxcbiAgICBdLFxuICAgIGZpbmRDb3NldE9mKHZhbHVlOiBDb21wbGV4LCBtYXhJdGVyOiBudW1iZXIgPSAxMDApIHtcbiAgICAgIGlmICh2YWx1ZS5pbWFnIDw9IDApIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgIGxldCByZXN1bHQgPSBuZXcgTW9lYml1cygxLCAwLCAwLCAxKTtcbiAgICAgIGxldCBjdXJyZW50ID0gdmFsdWU7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4SXRlcjsgaSsrKSB7XG4gICAgICAgIGlmIChjdXJyZW50ID09IG9vKSByZXR1cm4gcmVzdWx0LmludigpO1xuXG4gICAgICAgIHZhciBuID0gTWF0aC5mbG9vcihjdXJyZW50LnJlYWwgKyAwLjUpO1xuICAgICAgICByZXN1bHQgPSBuZXcgTW9lYml1cygxLCAtbiwgMCwgMSkubXVsKHJlc3VsdCk7XG4gICAgICAgIGN1cnJlbnQgPSByZXN1bHQudHJhbnNmb3JtKHZhbHVlKSBhcyBDb21wbGV4O1xuXG4gICAgICAgIGlmIChjdXJyZW50LmFiczIoKSA+PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5pbnYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdCA9IG5ldyBNb2ViaXVzKDAsIDEsIC0xLCAwKS5tdWwocmVzdWx0KTtcbiAgICAgICAgY3VycmVudCA9IHJlc3VsdC50cmFuc2Zvcm0odmFsdWUpIGFzIENvbXBsZXg7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcIk1heCBpdGVyYXRpb25zIGluICdmaW5kTW9lYmlvdXNUb0Z1bmQnIHJlYWNoZWRcIik7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgUmVuZGVyZXIyRCwgTWVhc3VyZVRleHQsIFRleHRBbGlnbiB9IGZyb20gXCIuL1wiO1xuXG5jb25zdCBQSV8yID0gMiAqIE1hdGguUEk7XG5jb25zdCBfUElfMiA9IDAuNSAvIE1hdGguUEk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyBpbXBsZW1lbnRzIFJlbmRlcmVyMkQsIE1lYXN1cmVUZXh0IHtcbiAgcHJpdmF0ZSBfY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgcHJpdmF0ZSBfbGluZVdpZHRoID0gMTtcbiAgcHJpdmF0ZSBfZm9udFNpemUgPSAxMztcbiAgcHJpdmF0ZSBfZmlsbENvbG9yID0gXCIjMDAwMDAwXCI7XG4gIHByaXZhdGUgX3N0cm9rZUNvbG9yID0gXCIjMDAwMDAwXCI7XG5cbiAgcHJpdmF0ZSBmb250QXNjZW50OiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBmb250RGVzY2VudDogbnVtYmVyID0gLTE7XG5cbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpIHtcbiAgICB0aGlzLl9jdHggPSBjdHg7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoID09PSB1bmRlZmluZWQgPyBjdHguY2FudmFzLndpZHRoIDogd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgPT09IHVuZGVmaW5lZCA/IGN0eC5jYW52YXMuaGVpZ2h0IDogaGVpZ2h0O1xuICAgIHRoaXMuZm9udFNpemUgPSAxMztcbiAgfVxuXG4gIGdldCBsaW5lV2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVXaWR0aDtcbiAgfVxuICBzZXQgbGluZVdpZHRoKGxpbmVXaWR0aDogbnVtYmVyKSB7XG4gICAgdGhpcy5fY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICB0aGlzLl9saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gIH1cblxuICBnZXQgZm9udFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xuICB9XG4gIHNldCBmb250U2l6ZShmb250U2l6ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5fY3R4LnRleHRCYXNlbGluZSA9IFwiYWxwaGFiZXRpY1wiO1xuICAgIHRoaXMuX2N0eC5mb250ID0gZm9udFNpemUgKyBcInB4IFRpbWVzIE5ldyBSb21hblwiO1xuICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgY29uc3QgdG0gPSB0aGlzLl9jdHgubWVhc3VyZVRleHQoXCIxQVRPZ2pwXCIpO1xuICAgIHRoaXMuZm9udEFzY2VudCA9IHRtLmZvbnRCb3VuZGluZ0JveEFzY2VudCB8fCB0bS5hY3R1YWxCb3VuZGluZ0JveEFzY2VudDtcbiAgICB0aGlzLmZvbnREZXNjZW50ID0gdG0uZm9udEJvdW5kaW5nQm94RGVzY2VudCB8fCB0bS5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQ7XG4gIH1cblxuICBnZXQgZmlsbFN0eWxlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGxDb2xvcjtcbiAgfVxuICBzZXQgZmlsbFN0eWxlKGZpbGxTdHlsZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICB0aGlzLl9maWxsQ29sb3IgPSBmaWxsU3R5bGU7XG4gIH1cblxuICBnZXQgc3Ryb2tlU3R5bGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fc3Ryb2tlQ29sb3I7XG4gIH1cbiAgc2V0IHN0cm9rZVN0eWxlKHN0cm9rZVN0eWxlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9jdHguc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgICB0aGlzLl9zdHJva2VDb2xvciA9IHN0cm9rZVN0eWxlO1xuICB9XG5cbiAgbWVhc3VyZVRleHQodGV4dDogc3RyaW5nKSB7XG4gICAgdGhpcy5fY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgY29uc3QgdG0gPSB0aGlzLl9jdHgubWVhc3VyZVRleHQodGV4dCk7XG4gICAgbGV0IGMgPSAodGhpcy5mb250QXNjZW50ICsgdGhpcy5mb250RGVzY2VudCkgLyAyO1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IGMgKiAxLjMsXG4gICAgICBib3Q6IGMgKiAxLFxuICAgICAgbGVmdDogdG0uYWN0dWFsQm91bmRpbmdCb3hMZWZ0LFxuICAgICAgcmlnaHQ6IHRtLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQsXG4gICAgfTtcbiAgfVxuXG4gIHRleHROb2RlKHRleHQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGFsaWduOiBUZXh0QWxpZ24pIHtcbiAgICBsZXQgYmw6IENhbnZhc1RleHRCYXNlbGluZSA9IFwibWlkZGxlXCIsXG4gICAgICBhbDogQ2FudmFzVGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICBzd2l0Y2ggKGFsaWduICYgMGIxMTAwKSB7XG4gICAgICBjYXNlIFRleHRBbGlnbi5UOlxuICAgICAgICBibCA9IFwidG9wXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUZXh0QWxpZ24uQjpcbiAgICAgICAgYmwgPSBcImJvdHRvbVwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgc3dpdGNoIChhbGlnbiAmIDBiMDAxMSkge1xuICAgICAgY2FzZSBUZXh0QWxpZ24uTDpcbiAgICAgICAgYWwgPSBcImxlZnRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRleHRBbGlnbi5SOlxuICAgICAgICBhbCA9IFwicmlnaHRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuX2N0eC50ZXh0QmFzZWxpbmUgPSBibDtcbiAgICB0aGlzLl9jdHgudGV4dEFsaWduID0gYWw7XG4gICAgdGhpcy5fY3R4LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYmVnaW5QYXRoKCkge1xuICAgIHRoaXMuX2N0eC5iZWdpblBhdGgoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIG1vdmVUbyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMuX2N0eC5tb3ZlVG8oeCwgeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaW5lVG8oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLl9jdHgubGluZVRvKHgsIHkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcXVhZHJhdGljVG8oY3BYOiBudW1iZXIsIGNwWTogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMuX2N0eC5xdWFkcmF0aWNDdXJ2ZVRvKGNwWCwgY3BZLCB4LCB5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGN1YmljVG8oXG4gICAgY3AxWDogbnVtYmVyLFxuICAgIGNwMVk6IG51bWJlcixcbiAgICBjcDJYOiBudW1iZXIsXG4gICAgY3AyWTogbnVtYmVyLFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXJcbiAgKSB7XG4gICAgdGhpcy5fY3R4LmJlemllckN1cnZlVG8oY3AxWCwgY3AxWSwgY3AyWCwgY3AyWSwgeCwgeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjbG9zZVBhdGgoKSB7XG4gICAgdGhpcy5fY3R4LmNsb3NlUGF0aCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICB0aGlzLl9jdHgucmVjdCh4LCB5LCB3LCBoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFyYyhcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHJhZGl1czogbnVtYmVyLFxuICAgIHN0YXJ0QW5nbGU6IG51bWJlcixcbiAgICBlbmRBbmdsZTogbnVtYmVyLFxuICAgIGN3PzogYm9vbGVhblxuICApIHtcbiAgICB0aGlzLl9jdHguYXJjKFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICByYWRpdXMsXG4gICAgICBzdGFydEFuZ2xlIC0gUElfMiAqIE1hdGguZmxvb3IoX1BJXzIgKiBzdGFydEFuZ2xlKSxcbiAgICAgIGVuZEFuZ2xlIC0gUElfMiAqIE1hdGguZmxvb3IoX1BJXzIgKiBlbmRBbmdsZSksXG4gICAgICAhY3dcbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc3Ryb2tlKCkge1xuICAgIHRoaXMuX2N0eC5zdHJva2UoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZpbGwoKSB7XG4gICAgdGhpcy5fY3R4LmZpbGwoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZpbGxBbmRTdHJva2UoKSB7XG4gICAgdGhpcy5maWxsKCk7XG4gICAgdGhpcy5zdHJva2UoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwgImV4cG9ydCBjbGFzcyBYTUwge1xuICBjaGlsZHJlbjogKFhNTCB8IHN0cmluZylbXTtcbiAgYXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxuICAgIGF0dHJpYnV0ZXM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB9LFxuICAgIC4uLmNoaWxkcmVuOiAoWE1MIHwgc3RyaW5nKVtdXG4gICkge1xuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzIHx8IHt9O1xuICB9XG5cbiAgcHJpdmF0ZSBhdHRyU3RyaW5nKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLmF0dHJpYnV0ZXMpXG4gICAgICAubWFwKChbaywgdl0pID0+IGAke2t9PVwiJHt2fVwiYClcbiAgICAgIC5qb2luKFwiIFwiKTtcbiAgfVxuXG4gIHByaXZhdGUgY2hTdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5tYXAoKHYpID0+IHYudG9TdHJpbmcoKSkuam9pbihcIlwiKTtcbiAgfVxuXG4gIGFwcGVuZChjaGlsZDogWE1MIHwgc3RyaW5nKSB7XG4gICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgbGV0IG5hbWUgPSB0aGlzLm5hbWU7XG4gICAgaWYgKG5hbWUgPT09IFwiXCIpIHJldHVybiB0aGlzLmNoU3RyaW5nKCk7XG4gICAgcmV0dXJuIGA8JHtuYW1lfSAke3RoaXMuYXR0clN0cmluZygpfT4ke3RoaXMuY2hTdHJpbmcoKX08LyR7bmFtZX0+YDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24ganN4KFxuICBuYW1lOiBzdHJpbmcgfCAoKHByb3BzOiBhbnksIC4uLmNoaWxkcmVuOiBhbnkpID0+IFhNTCksXG4gIHByb3BzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB9LFxuICAuLi5jaGlsZHJlbjogYW55W11cbik6IFhNTCB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbmFtZShwcm9wcywgLi4uY2hpbGRyZW4pO1xuICByZXR1cm4gbmV3IFhNTChuYW1lLCBwcm9wcywgLi4uY2hpbGRyZW4pO1xufVxuanN4LkZyYWdtZW50ID0gXCJcIjtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIGpzeC5KU1gge1xuICB0eXBlIEVsZW1lbnQgPSBYTUw7XG4gIHR5cGUgSW50cmluc2ljRWxlbWVudHMgPSB7XG4gICAgW2tleTogTG93ZXJjYXNlPHN0cmluZz5dOiB7XG4gICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXI7XG4gICAgfTtcbiAgfTtcbn1cbiIsICIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IGpzeCwgWE1MIH0gZnJvbSBcIi4uL1Vuc2FmZVhNTFwiO1xuaW1wb3J0IHsgUmVuZGVyZXIyRCwgVGV4dEFsaWduIH0gZnJvbSBcIi5cIjtcblxuY29uc3QgUjJEID0gMTgwLjAgLyBNYXRoLlBJO1xuY29uc3QgUEkyID0gMiAqIE1hdGguUEk7XG5jb25zdCBfUEkyID0gMC41IC8gTWF0aC5QSTtcblxudHlwZSBTVkdTdHlsZSA9IHtcbiAgc3Ryb2tlOiB7XG4gICAgc3Ryb2tlOiBzdHJpbmc7XG4gICAgXCJzdHJva2Utd2lkdGhcIjogbnVtYmVyO1xuICAgIFwic3Ryb2tlLW9wYWNpdHlcIj86IG51bWJlcjtcbiAgfTtcbiAgZmlsbDoge1xuICAgIGZpbGw6IHN0cmluZztcbiAgICBcImZpbGwtb3BhY2l0eVwiPzogbnVtYmVyO1xuICB9O1xuICBmb250U2l6ZTogbnVtYmVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU1ZHIGltcGxlbWVudHMgUmVuZGVyZXIyRCB7XG4gIHN2ZzogWE1MO1xuXG4gIHByaXZhdGUgX3BhdGg6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBzdHlsZTogU1ZHU3R5bGUgPSB7XG4gICAgc3Ryb2tlOiB7XG4gICAgICBzdHJva2U6IFwiIzAwMDAwMFwiLFxuICAgICAgXCJzdHJva2Utd2lkdGhcIjogMSxcbiAgICB9LFxuICAgIGZpbGw6IHtcbiAgICAgIGZpbGw6IFwiIzAwMDAwMFwiLFxuICAgIH0sXG4gICAgZm9udFNpemU6IDEzLFxuICB9O1xuXG4gIHByaXZhdGUgcm91bmQoeDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoeCAqIDEwMDApIC8gMTAwMDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5zdmcgPSAoXG4gICAgICA8c3ZnXG4gICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgICB2ZXJzaW9uPVwiMS4xXCJcbiAgICAgICAgdmlld0JveD17YDAgMCAke3dpZHRofSAke2hlaWdodH1gfVxuICAgICAgPjwvc3ZnPlxuICAgICk7XG4gIH1cblxuICBnZXQgZmlsbFN0eWxlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGUuZmlsbC5maWxsO1xuICB9XG4gIHNldCBmaWxsU3R5bGUoZmlsbFN0eWxlOiBzdHJpbmcpIHtcbiAgICBsZXQgeyBmaWxsIH0gPSB0aGlzLnN0eWxlO1xuICAgIC8vIE9wYWNpdHkgb25seSBmb3IgOCBkaWdpdCBoZXhcbiAgICBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PSA5KSB7XG4gICAgICBsZXQgb3AgPSBwYXJzZUludChcIjB4XCIgKyBmaWxsU3R5bGUuc2xpY2UoNywgOSkpIC8gMjU1LjA7XG4gICAgICBmaWxsU3R5bGUgPSBmaWxsU3R5bGUuc2xpY2UoMCwgNyk7XG5cbiAgICAgIGlmIChvcCA9PT0gMS4wKSBkZWxldGUgZmlsbFtcImZpbGwtb3BhY2l0eVwiXTtcbiAgICAgIGVsc2UgZmlsbFtcImZpbGwtb3BhY2l0eVwiXSA9IE1hdGgucm91bmQoMTAwMCAqIG9wKSAvIDEwMDA7XG4gICAgfSBlbHNlIGRlbGV0ZSBmaWxsW1wiZmlsbC1vcGFjaXR5XCJdO1xuICAgIGZpbGwuZmlsbCA9IGZpbGxTdHlsZTtcbiAgfVxuXG4gIGdldCBzdHJva2VTdHlsZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnN0eWxlLnN0cm9rZS5zdHJva2U7XG4gIH1cbiAgc2V0IHN0cm9rZVN0eWxlKHN0cm9rZVN0eWxlOiBzdHJpbmcpIHtcbiAgICBsZXQgeyBzdHJva2UgfSA9IHRoaXMuc3R5bGU7XG4gICAgLy8gcGFyc2Ugb3BhY2l0eSBpZiBzdHlsZSBpcyA4IGRpZ2l0IGhleFxuICAgIGlmIChzdHJva2VTdHlsZS5sZW5ndGggPT0gOSkge1xuICAgICAgbGV0IG9wYWNpdHkgPSBwYXJzZUludChcIjB4XCIgKyBzdHJva2VTdHlsZS5zbGljZSg3LCA5KSkgLyAyNTUuMDtcbiAgICAgIHN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGUuc2xpY2UoMCwgNyk7XG5cbiAgICAgIGlmIChvcGFjaXR5ID09PSAxLjApIGRlbGV0ZSBzdHJva2VbXCJzdHJva2Utb3BhY2l0eVwiXTtcbiAgICAgIGVsc2Ugc3Ryb2tlW1wic3Ryb2tlLW9wYWNpdHlcIl0gPSBNYXRoLnJvdW5kKDEwMDAgKiBvcGFjaXR5KSAvIDEwMDA7XG4gICAgfSBlbHNlIGRlbGV0ZSBzdHJva2VbXCJzdHJva2Utb3BhY2l0eVwiXTtcbiAgICBzdHJva2Uuc3Ryb2tlID0gc3Ryb2tlU3R5bGU7XG4gIH1cblxuICBnZXQgbGluZVdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLnN0eWxlLnN0cm9rZVtcInN0cm9rZS13aWR0aFwiXTtcbiAgfVxuICBzZXQgbGluZVdpZHRoKGxpbmVXaWR0aDogbnVtYmVyKSB7XG4gICAgdGhpcy5zdHlsZS5zdHJva2VbXCJzdHJva2Utd2lkdGhcIl0gPSBsaW5lV2lkdGg7XG4gIH1cblxuICBnZXQgZm9udFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGUuZm9udFNpemU7XG4gIH1cbiAgc2V0IGZvbnRTaXplKGZvbnRTaXplOiBudW1iZXIpIHtcbiAgICB0aGlzLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7XG4gIH1cblxuICB0ZXh0Tm9kZSh0ZXh0OiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBhbGlnbjogVGV4dEFsaWduID0gMCkge1xuICAgIGxldCBibDogXCJ0ZXh0LWFmdGVyLWVkZ2VcIiB8IFwiaGFuZ2luZ1wiIHwgXCJtaWRkbGVcIiA9IFwibWlkZGxlXCIsXG4gICAgICBhbDogXCJzdGFydFwiIHwgXCJlbmRcIiB8IFwibWlkZGxlXCIgPSBcIm1pZGRsZVwiO1xuICAgIHN3aXRjaCAoYWxpZ24gJiAwYjExMDApIHtcbiAgICAgIGNhc2UgVGV4dEFsaWduLlQ6XG4gICAgICAgIGJsID0gXCJoYW5naW5nXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUZXh0QWxpZ24uQjpcbiAgICAgICAgYmwgPSBcInRleHQtYWZ0ZXItZWRnZVwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgc3dpdGNoIChhbGlnbiAmIDBiMDAxMSkge1xuICAgICAgY2FzZSBUZXh0QWxpZ24uTDpcbiAgICAgICAgYWwgPSBcInN0YXJ0XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUZXh0QWxpZ24uUjpcbiAgICAgICAgYWwgPSBcImVuZFwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgbGV0IHJvdW5kZWQgPSB0aGlzLnJvdW5kO1xuXG4gICAgdGhpcy5zdmcuYXBwZW5kKFxuICAgICAgPHRleHRcbiAgICAgICAgeD17cm91bmRlZCh4KX1cbiAgICAgICAgeT17cm91bmRlZCh5KX1cbiAgICAgICAgZm9udC1zaXplPXt0aGlzLnN0eWxlLmZvbnRTaXplfVxuICAgICAgICBmb250LWZhbWlseT1cIlRpbWVzIE5ldyBSb21hblwiXG4gICAgICAgIGRvbWluYW50LWJhc2VsaW5lPXtibH1cbiAgICAgICAgdGV4dC1hbmNob3I9e2FsfVxuICAgICAgPlxuICAgICAgICB7dGV4dH1cbiAgICAgIDwvdGV4dD5cbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYmVnaW5QYXRoKCkge1xuICAgIHRoaXMuX3BhdGggPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgbW92ZVRvKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgbGV0IHJvdW5kZWQgPSB0aGlzLnJvdW5kO1xuICAgIHRoaXMuX3BhdGggPSAodGhpcy5fcGF0aCB8fCBcIlwiKSArIGBNJHtyb3VuZGVkKHgpfSAke3JvdW5kZWQoeSl9YDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBsaW5lVG8oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICBpZiAoIXRoaXMuX3BhdGgpIHJldHVybiB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICBsZXQgcm91bmRlZCA9IHRoaXMucm91bmQ7XG4gICAgdGhpcy5fcGF0aCArPSBgTCR7cm91bmRlZCh4KX0gJHtyb3VuZGVkKHkpfWA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcXVhZHJhdGljVG8oY3BYOiBudW1iZXIsIGNwWTogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IHRoaXMge1xuICAgIGlmICghdGhpcy5fcGF0aCkgcmV0dXJuIHRoaXMubW92ZVRvKHgsIHkpO1xuICAgIGxldCByb3VuZGVkID0gdGhpcy5yb3VuZDtcbiAgICB0aGlzLl9wYXRoICs9IGBRJHtyb3VuZGVkKGNwWCl9ICR7cm91bmRlZChjcFkpfSAke3JvdW5kZWQoeCl9ICR7cm91bmRlZChcbiAgICAgIHlcbiAgICApfWA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY3ViaWNUbyhcbiAgICBjcDFYOiBudW1iZXIsXG4gICAgY3AxWTogbnVtYmVyLFxuICAgIGNwMlg6IG51bWJlcixcbiAgICBjcDJZOiBudW1iZXIsXG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlclxuICApOiB0aGlzIHtcbiAgICBpZiAoIXRoaXMuX3BhdGgpIHJldHVybiB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICBsZXQgcm91bmRlZCA9IHRoaXMucm91bmQ7XG4gICAgdGhpcy5fcGF0aCArPSBgQyR7cm91bmRlZChjcDFYKX0gJHtyb3VuZGVkKGNwMVkpfSAke3JvdW5kZWQoXG4gICAgICBjcDJYXG4gICAgKX0gJHtyb3VuZGVkKGNwMlkpfSAke3JvdW5kZWQoeCl9ICR7cm91bmRlZCh5KX1gO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGNsb3NlUGF0aCgpIHtcbiAgICB0aGlzLl9wYXRoID0gKHRoaXMuX3BhdGggfHwgXCJcIikgKyBcIlpcIjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZWN0KHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlcikge1xuICAgIHRoaXMubW92ZVRvKHgsIHkpO1xuICAgIHRoaXMubGluZVRvKHggKyB3LCB5KTtcbiAgICB0aGlzLmxpbmVUbyh4ICsgdywgeSArIGgpO1xuICAgIHRoaXMubGluZVRvKHgsIHkgKyBoKTtcbiAgICB0aGlzLmxpbmVUbyh4LCB5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBhcmMoXG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICByYWRpdXM6IG51bWJlcixcbiAgICBzdGFydEFuZ2xlOiBudW1iZXIsXG4gICAgZW5kQW5nbGU6IG51bWJlcixcbiAgICBjdz86IGJvb2xlYW5cbiAgKSB7XG4gICAgbGV0IGRlbHRhID0gKGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSkgKiBfUEkyO1xuICAgIGRlbHRhID0gZGVsdGEgLSBNYXRoLmZsb29yKGRlbHRhKTtcbiAgICBpZiAoZGVsdGEgPj0gMC40OTkgJiYgZGVsdGEgPD0gMC41MTEpIHtcbiAgICAgIC8vIEhhbGYgYXJjcyBhcmUgYW1iaWdvdXMgaW4gc3ZnIGZpbGVzLlxuICAgICAgLy8gU3BsaXQgdGhlIGFyYyBpbnRvIHR3byBoYWxmIGNpcmNsZXMuXG4gICAgICBsZXQgbWlkQW5nbGUgPSBzdGFydEFuZ2xlICsgKGN3ID8gKzAuNSAqIGRlbHRhIDogLTAuNSAqIGRlbHRhKTtcbiAgICAgIHRoaXMuYXJjKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSwgbWlkQW5nbGUsIGN3KTtcbiAgICAgIHRoaXMuYXJjKHgsIHksIHJhZGl1cywgbWlkQW5nbGUsIGVuZEFuZ2xlLCBjdyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBsZXQgc3ggPSB4ICsgcmFkaXVzICogTWF0aC5jb3Moc3RhcnRBbmdsZSksXG4gICAgICBzeSA9IHkgKyByYWRpdXMgKiBNYXRoLnNpbihzdGFydEFuZ2xlKTtcbiAgICBsZXQgZXggPSB4ICsgcmFkaXVzICogTWF0aC5jb3MoZW5kQW5nbGUpLFxuICAgICAgZXkgPSB5ICsgcmFkaXVzICogTWF0aC5zaW4oZW5kQW5nbGUpO1xuXG4gICAgbGV0IHNob3J0ID0gZGVsdGEgPD0gMC41ID09IGN3O1xuXG4gICAgbGV0IHJvdW5kZWQgPSB0aGlzLnJvdW5kO1xuICAgIHRoaXMubGluZVRvKHN4LCBzeSk7XG5cbiAgICB0aGlzLl9wYXRoICs9IGBBICR7cm91bmRlZChyYWRpdXMpfSAke3JvdW5kZWQocmFkaXVzKX0gMCAke3Nob3J0ID8gMCA6IDF9ICR7XG4gICAgICBjdyA/IDEgOiAwXG4gICAgfSAke3JvdW5kZWQoZXgpfSAke3JvdW5kZWQoZXkpfWA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc3Ryb2tlKCkge1xuICAgIGlmICh0aGlzLl9wYXRoKVxuICAgICAgdGhpcy5zdmcuYXBwZW5kKFxuICAgICAgICA8cGF0aCBkPXt0aGlzLl9wYXRofSBmaWxsPVwibm9uZVwiIHsuLi50aGlzLnN0eWxlLnN0cm9rZX0gLz5cbiAgICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZmlsbCgpIHtcbiAgICBpZiAodGhpcy5fcGF0aClcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZCg8cGF0aCBkPXt0aGlzLl9wYXRofSB7Li4udGhpcy5zdHlsZS5maWxsfSAvPik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZmlsbEFuZFN0cm9rZSgpIHtcbiAgICBpZiAodGhpcy5fcGF0aClcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZChcbiAgICAgICAgPHBhdGggZD17dGhpcy5fcGF0aH0gey4uLnRoaXMuc3R5bGUuZmlsbH0gey4uLnRoaXMuc3R5bGUuc3Ryb2tlfSAvPlxuICAgICAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0b1hNTCgpIHtcbiAgICByZXR1cm4gYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cIm5vXCI/PlxcbiR7dGhpcy5zdmcudG9TdHJpbmcoKX1gO1xuICB9XG4gIHRvRmlsZVN0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy50b1hNTCgpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgUmVuZGVyZXIyRCwgVGV4dEFsaWduIH0gZnJvbSBcIi5cIjtcblxudHlwZSBQaWNTdHlsZSA9IHtcbiAgc3Ryb2tlOiB7XG4gICAgY29sb3I6IHN0cmluZztcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIG9wYWNpdHk6IG51bWJlcjtcbiAgfTtcbiAgZmlsbDoge1xuICAgIGNvbG9yOiBzdHJpbmc7XG4gICAgb3BhY2l0eTogbnVtYmVyO1xuICB9O1xuICBmb250U2l6ZTogbnVtYmVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlrWiBpbXBsZW1lbnRzIFJlbmRlcmVyMkQge1xuICBwcml2YXRlIFRlWDogc3RyaW5nO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgcGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBwb3M6IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgc3R5bGU6IFBpY1N0eWxlID0ge1xuICAgIHN0cm9rZToge1xuICAgICAgY29sb3I6IFwiYmxhY2tcIixcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICB3aWR0aDogMSxcbiAgICB9LFxuICAgIGZpbGw6IHtcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBjb2xvcjogXCJibGFja1wiLFxuICAgIH0sXG4gICAgZm9udFNpemU6IDEzLFxuICB9O1xuXG4gIHByaXZhdGUgcm91bmQoeDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoeCAqIDEwMDApIC8gMTAwMDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuVGVYID1cbiAgICAgIGBcXFxcYmVnaW57dGlrenBpY3R1cmV9W3g9MXB0LHk9LTFwdCxldmVyeSBub2RlLy5zdHlsZT17aW5uZXIgc2VwPTAsb3V0ZXIgc2VwPTB9XSVcXG5gICtcbiAgICAgIGBcXFxcZm9udGZhbWlseXtwdG19XFxcXHNlbGVjdGZvbnQlXFxuYCArXG4gICAgICBgXFxcXHVzZWFzYm91bmRpbmdib3ggKDAsMCkgcmVjdGFuZ2xlICgke3dpZHRofSwke2hlaWdodH0pOyVcXG5gICtcbiAgICAgIGBcXFxcY2xpcCAoMCwwKSByZWN0YW5nbGUgKCR7d2lkdGh9LCR7aGVpZ2h0fSk7JVxcbmA7XG4gIH1cblxuICBwcml2YXRlIF9wYXRoQXR0cihkb0ZpbGw6IGJvb2xlYW4sIGRvU3Ryb2tlOiBib29sZWFuKSB7XG4gICAgbGV0IHsgZmlsbCwgc3Ryb2tlIH0gPSB0aGlzLnN0eWxlO1xuICAgIGxldCBhdHRyO1xuICAgIGlmIChkb0ZpbGwpXG4gICAgICBhdHRyID0gYGZpbGw9JHtmaWxsLmNvbG9yfSR7XG4gICAgICAgIGZpbGwub3BhY2l0eSA9PSAxID8gXCJcIiA6IFwiLGZpbGwgb3BhY2l0eT1cIiArIGZpbGwub3BhY2l0eVxuICAgICAgfWA7XG4gICAgaWYgKGRvU3Ryb2tlKVxuICAgICAgYXR0ciA9XG4gICAgICAgIChhdHRyID8gYXR0ciArIFwiLFwiIDogXCJcIikgK1xuICAgICAgICBgZHJhdz0ke3N0cm9rZS5jb2xvcn0sbGluZSB3aWR0aD0ke3N0cm9rZS53aWR0aH0ke1xuICAgICAgICAgIHN0cm9rZS5vcGFjaXR5ID09IDEgPyBcIlwiIDogXCIsZHJhdyBvcGFjaXR5PVwiICsgc3Ryb2tlLm9wYWNpdHlcbiAgICAgICAgfWA7XG4gICAgcmV0dXJuIGF0dHI7XG4gIH1cblxuICBnZXQgZmlsbFN0eWxlKCk6IHN0cmluZyB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpO1xuICB9XG4gIHNldCBmaWxsU3R5bGUoZmlsbFN0eWxlOiBzdHJpbmcpIHtcbiAgICBsZXQgeyBmaWxsIH0gPSB0aGlzLnN0eWxlO1xuICAgIGxldCBjID0gcGFyc2VJbnQoXCIweFwiICsgZmlsbFN0eWxlLnN1YnN0cmluZygxKSk7XG5cbiAgICBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PT0gOSkge1xuICAgICAgZmlsbC5vcGFjaXR5ID0gKGMgJiAweGZmKSAvIDI1NS4wO1xuICAgICAgYyA+Pj0gODtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsbC5vcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICBsZXQgYiA9IDB4ZmYgJiBjLFxuICAgICAgZyA9IDB4ZmYgJiAoYyA+PiA4KSxcbiAgICAgIHIgPSAweGZmICYgKGMgPj4gMTYpO1xuXG4gICAgaWYgKHIgPT0gMCAmJiBnID09IDAgJiYgYiA9PSAwKSBmaWxsLmNvbG9yID0gXCJibGFja1wiO1xuICAgIGVsc2UgZmlsbC5jb2xvciA9IGB7cmdiLDI1NTpyZWQsJHtyfTsgZ3JlZW4sJHtnfTsgYmx1ZSwke2J9fWA7XG4gIH1cblxuICBnZXQgc3Ryb2tlU3R5bGUoKTogc3RyaW5nIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgSW1wbGVtZW50ZWRcIik7XG4gIH1cbiAgc2V0IHN0cm9rZVN0eWxlKHN0cm9rZVN0eWxlOiBzdHJpbmcpIHtcbiAgICBsZXQgeyBzdHJva2UgfSA9IHRoaXMuc3R5bGU7XG4gICAgbGV0IGMgPSBwYXJzZUludChcIjB4XCIgKyBzdHJva2VTdHlsZS5zdWJzdHJpbmcoMSkpO1xuXG4gICAgaWYgKHN0cm9rZVN0eWxlLmxlbmd0aCA9PT0gOSkge1xuICAgICAgc3Ryb2tlLm9wYWNpdHkgPSAoYyAmIDB4ZmYpIC8gMjU1LjA7XG4gICAgICBjID4+PSA4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJva2Uub3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgbGV0IGIgPSAweGZmICYgYyxcbiAgICAgIGcgPSAweGZmICYgKGMgPj4gOCksXG4gICAgICByID0gMHhmZiAmIChjID4+IDE2KTtcblxuICAgIGlmIChyID09IDAgJiYgZyA9PSAwICYmIGIgPT0gMCkgc3Ryb2tlLmNvbG9yID0gXCJibGFja1wiO1xuICAgIGVsc2Ugc3Ryb2tlLmNvbG9yID0gYHtyZ2IsMjU1OnJlZCwke3J9OyBncmVlbiwke2d9OyBibHVlLCR7Yn19YDtcbiAgfVxuXG4gIGdldCBsaW5lV2lkdGgoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IEltcGxlbWVudGVkXCIpO1xuICB9XG4gIHNldCBsaW5lV2lkdGgobGluZVdpZHRoOiBudW1iZXIpIHtcbiAgICB0aGlzLnN0eWxlLnN0cm9rZS53aWR0aCA9IGxpbmVXaWR0aDtcbiAgfVxuXG4gIGdldCBmb250U2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZS5mb250U2l6ZTtcbiAgfVxuICBzZXQgZm9udFNpemUoZm9udFNpemU6IG51bWJlcikge1xuICAgIHRoaXMuc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZTtcbiAgfVxuXG4gIHRleHROb2RlKHRleHQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGFsaWduOiBUZXh0QWxpZ24gPSAwKSB7XG4gICAgbGV0IGFuY2hvcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIHN3aXRjaCAoYWxpZ24gJiAwYjExMDApIHtcbiAgICAgIGNhc2UgVGV4dEFsaWduLlQ6XG4gICAgICAgIGFuY2hvciA9IFwibm9ydGhcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRleHRBbGlnbi5COlxuICAgICAgICBhbmNob3IgPSBcInNvdXRoXCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzd2l0Y2ggKGFsaWduICYgMGIwMDExKSB7XG4gICAgICBjYXNlIFRleHRBbGlnbi5MOlxuICAgICAgICBhbmNob3IgPSAoYW5jaG9yID8gYW5jaG9yICsgXCIgXCIgOiBcIlwiKSArIFwid2VzdFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVGV4dEFsaWduLlI6XG4gICAgICAgIGFuY2hvciA9IChhbmNob3IgPyBhbmNob3IgKyBcIiBcIiA6IFwiXCIpICsgXCJlYXN0XCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBhbmNob3IgPSBhbmNob3IgfHwgXCJjZW50ZXJcIjtcblxuICAgIGxldCByb3VuZGVkID0gdGhpcy5yb3VuZDtcblxuICAgIHRoaXMuVGVYICs9IGBcXFxcbm9kZSBhdCgke3JvdW5kZWQoeCl9LCR7cm91bmRlZChcbiAgICAgIHlcbiAgICApfSkgW2FuY2hvcj0ke2FuY2hvcn1de1xcXFxmb250c2l6ZXske3RoaXMuc3R5bGUuZm9udFNpemV9cHR9eyR7XG4gICAgICB0aGlzLnN0eWxlLmZvbnRTaXplXG4gICAgfXB0fVxcXFxzZWxlY3Rmb250XFxcXHZwaGFudG9te09nfSR7dGV4dC5yZXBsYWNlKFwiXFxcXFwiLCBcIlxcXFx0ZXh0YmFja3NsYXNoe31cIil9fTtgO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYmVnaW5QYXRoKCkge1xuICAgIHRoaXMucGF0aCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnBvcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBtb3ZlVG8oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICBsZXQgcm91bmRlZCA9IHRoaXMucm91bmQ7XG4gICAgdGhpcy5wYXRoID0gKHRoaXMucGF0aCB8fCBcIlwiKSArIGAgKCR7cm91bmRlZCh4KX0sJHtyb3VuZGVkKHkpfSlgO1xuICAgIHRoaXMucG9zID0gW3gsIHldO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGxpbmVUbyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIGlmICghdGhpcy5wYXRoKSByZXR1cm4gdGhpcy5tb3ZlVG8oeCwgeSk7XG4gICAgbGV0IHJvdW5kZWQgPSB0aGlzLnJvdW5kO1xuICAgIHRoaXMucGF0aCArPSBgIC0tICgke3JvdW5kZWQoeCl9LCR7cm91bmRlZCh5KX0pYDtcbiAgICB0aGlzLnBvcyA9IFt4LCB5XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBxdWFkcmF0aWNUbyhjcFg6IG51bWJlciwgY3BZOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogdGhpcyB7XG4gICAgaWYgKCF0aGlzLnBhdGgpIHJldHVybiB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICBsZXQgW3BYLCBwWV0gPSB0aGlzLnBvcyBhcyBbbnVtYmVyLCBudW1iZXJdO1xuICAgIC8vIFRpa3ogb25seSBzdXBwb3J0cyBjdWJpYyBjdXJ2ZXMuIENvbnZlcnQgcXVhZHJhdGljIHRvIGN1YmljLlxuICAgIHJldHVybiB0aGlzLmN1YmljVG8oXG4gICAgICBwWCArICgyIC8gMykgKiAoY3BYIC0gcFgpLFxuICAgICAgcFkgKyAoMiAvIDMpICogKGNwWSAtIHBZKSxcbiAgICAgIHggKyAoMiAvIDMpICogKGNwWCAtIHgpLFxuICAgICAgeSArICgyIC8gMykgKiAoY3BZIC0geSksXG4gICAgICB4LFxuICAgICAgeVxuICAgICk7XG4gIH1cbiAgY3ViaWNUbyhcbiAgICBjcDFYOiBudW1iZXIsXG4gICAgY3AxWTogbnVtYmVyLFxuICAgIGNwMlg6IG51bWJlcixcbiAgICBjcDJZOiBudW1iZXIsXG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlclxuICApOiB0aGlzIHtcbiAgICBpZiAoIXRoaXMucGF0aCkgcmV0dXJuIHRoaXMubW92ZVRvKHgsIHkpO1xuICAgIGxldCByb3VuZGVkID0gdGhpcy5yb3VuZDtcbiAgICB0aGlzLnBhdGggKz0gYCAuLiBjb250cm9scyAoJHtyb3VuZGVkKGNwMVgpfSwke3JvdW5kZWQoXG4gICAgICBjcDFZXG4gICAgKX0pIGFuZCAoJHtyb3VuZGVkKGNwMlgpfSwke3JvdW5kZWQoY3AyWSl9KSAuLiAoJHtyb3VuZGVkKHgpfSwke3JvdW5kZWQoXG4gICAgICB5XG4gICAgKX0pYDtcbiAgICB0aGlzLnBvcyA9IFt4LCB5XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjbG9zZVBhdGgoKSB7XG4gICAgdGhpcy5wYXRoICs9IFwiIC0tIGN5Y2xlXCI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICB0aGlzLmxpbmVUbyh4ICsgdywgeSk7XG4gICAgdGhpcy5saW5lVG8oeCArIHcsIHkgKyBoKTtcbiAgICB0aGlzLmxpbmVUbyh4LCB5ICsgaCk7XG4gICAgdGhpcy5saW5lVG8oeCwgeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYXJjKFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgcmFkaXVzOiBudW1iZXIsXG4gICAgc3RhcnRBbmdsZTogbnVtYmVyLFxuICAgIGVuZEFuZ2xlOiBudW1iZXIsXG4gICAgY3c/OiBib29sZWFuXG4gICkge1xuICAgIGxldCBzeCA9IHggKyByYWRpdXMgKiBNYXRoLmNvcyhzdGFydEFuZ2xlKSxcbiAgICAgIHN5ID0geSArIHJhZGl1cyAqIE1hdGguc2luKHN0YXJ0QW5nbGUpO1xuICAgIGxldCBleCA9IHggKyByYWRpdXMgKiBNYXRoLmNvcyhlbmRBbmdsZSksXG4gICAgICBleSA9IHkgKyByYWRpdXMgKiBNYXRoLnNpbihlbmRBbmdsZSk7XG4gICAgc3RhcnRBbmdsZSAvPSAyICogTWF0aC5QSTtcbiAgICBlbmRBbmdsZSAvPSAyICogTWF0aC5QSTtcbiAgICBzdGFydEFuZ2xlIC09IE1hdGguZmxvb3Ioc3RhcnRBbmdsZSk7XG4gICAgZW5kQW5nbGUgLT0gTWF0aC5mbG9vcihlbmRBbmdsZSk7XG5cbiAgICAvLyBDbG9ja3dpc2UgYW5kIGNvdW50ZXJjbG9ja3dpc2UgYXJlIGludmVydGVkIHNpbmNlIHVuaXRzIGFyZSB0b28uXG4gICAgaWYgKGN3ICYmIGVuZEFuZ2xlIDwgc3RhcnRBbmdsZSkgZW5kQW5nbGUgKz0gMTtcbiAgICBpZiAoIWN3ICYmIHN0YXJ0QW5nbGUgPCBlbmRBbmdsZSkgZW5kQW5nbGUgLT0gMTtcblxuICAgIHRoaXMubGluZVRvKHN4LCBzeSk7XG4gICAgbGV0IHJvdW5kZWQgPSB0aGlzLnJvdW5kO1xuICAgIHRoaXMucGF0aCArPSBgIGFyYygke3JvdW5kZWQoc3RhcnRBbmdsZSAqIDM2MCl9OiR7cm91bmRlZChcbiAgICAgIGVuZEFuZ2xlICogMzYwXG4gICAgKX06JHtyb3VuZGVkKHJhZGl1cyl9KWA7XG4gICAgdGhpcy5wb3MgPSBbZXgsIGV5XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzdHJva2UoKSB7XG4gICAgbGV0IGRyYXcgPSBgXFxcXHBhdGggWyR7dGhpcy5fcGF0aEF0dHIoZmFsc2UsIHRydWUpfV0ke3RoaXMucGF0aH07JVxcbmA7XG4gICAgdGhpcy5UZVggKz0gZHJhdztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBmaWxsKCkge1xuICAgIGxldCBkcmF3ID0gYFxcXFxwYXRoIFske3RoaXMuX3BhdGhBdHRyKHRydWUsIGZhbHNlKX1dJHt0aGlzLnBhdGh9OyVcXG5gO1xuICAgIHRoaXMuVGVYICs9IGRyYXc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZmlsbEFuZFN0cm9rZSgpIHtcbiAgICBsZXQgZHJhdyA9IGBcXFxccGF0aCBbJHt0aGlzLl9wYXRoQXR0cih0cnVlLCB0cnVlKX1dJHt0aGlzLnBhdGh9OyVcXG5gO1xuICAgIHRoaXMuVGVYICs9IGRyYXc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB0b1RlWCgpIHtcbiAgICByZXR1cm4gdGhpcy5UZVggKyBcIlxcXFxlbmR7dGlrenBpY3R1cmV9XCI7XG4gIH1cbiAgdG9GaWxlU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnRvVGVYKCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIFRleHQgYWxpZ24gZ2l2ZW4gYXMgYSBiaW5hcnkgcmVwcmVzZW50YXRpb24uXG4gKiBCeSBgYWxpZ24gJiAwYjExMDBgIG9uZSBvYnRhaW5zIHRoZSB2ZXJ0aWNhbCBhbGlnbiAoVCAvIEMgLyBCKS5cbiAqIFNpbWlsYXJseSBmb3IgYGFsaWduICYgMGIwMDExYCBvbmUgb2J0YWlucyB0aGUgaG9yaXpvbnRhbCBhbGlnbiAoTCAvIEMgLyBSKS5cbiAqL1xuZXhwb3J0IGVudW0gVGV4dEFsaWduIHtcbiAgQyA9IDBiMDAwMCxcbiAgVCA9IDBiMTAwMCxcbiAgTCA9IDBiMDAxMCxcbiAgUiA9IDBiMDAwMSxcbiAgQiA9IDBiMDEwMCxcbiAgVEwgPSAwYjEwMTAsXG4gIFRSID0gMGIxMDAxLFxuICBCTCA9IDBiMDExMCxcbiAgQlIgPSAwYjAxMDEsXG59XG5cbi8qKlxuICogQSB0eXBlIGZvciBkaWZmZXJlbnQgcmVuZGVyaW5nIGJhY2tlbmRzLlxuICogQnkgZGVmYXVsdCBhbGwgY29vcmRpbmF0ZXMgc2hvdWxkIGJlIHByb3ZpZGVkXG4gKiB3aXRoIHRoZSBvcmlnaW4gaW4gdGhlIHRvcCBsZWZ0IGNvcm5lci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJlcjJEIHtcbiAgZ2V0IGxpbmVXaWR0aCgpOiBudW1iZXI7XG4gIHNldCBsaW5lV2lkdGgobGluZVdpZHRoOiBudW1iZXIpO1xuXG4gIGdldCBmb250U2l6ZSgpOiBudW1iZXI7XG4gIHNldCBmb250U2l6ZShmb250U2l6ZTogbnVtYmVyKTtcblxuICBnZXQgZmlsbFN0eWxlKCk6IHN0cmluZztcbiAgc2V0IGZpbGxTdHlsZShmaWxsU3R5bGU6IHN0cmluZyk7XG5cbiAgZ2V0IHN0cm9rZVN0eWxlKCk6IHN0cmluZztcbiAgc2V0IHN0cm9rZVN0eWxlKHN0cm9rZVN0eWxlOiBzdHJpbmcpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gYWxpZ24gVGhlIGFsaWdubWVudCBvZiB0aGUgdGV4dC4gRGVmYXVsdHMgdG8gYEMgPSAwYC5cbiAgICovXG4gIHRleHROb2RlKHRleHQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGFsaWduPzogVGV4dEFsaWduKTogdGhpcztcblxuICAvKiogQmVnaW4gYSBuZXcgUGF0aC4gVGhpcyBjbGVhcnMgYWxsIHBvaW50cyBmcm9tIHRoZSBjdXJyZW50IHBhdGguICovXG4gIGJlZ2luUGF0aCgpOiB0aGlzO1xuXG4gIC8qKiBNb3ZlIHRoZSBwYXRoIHRvIGEgbG9jYXRpb24gd2l0aG91dCBkcmF3aW5nIGEgbGluZS4gKi9cbiAgbW92ZVRvKHg6IG51bWJlciwgeTogbnVtYmVyKTogdGhpcztcblxuICAvKiogRHJhdyBhIGxpbmUgZnJvbSB0aGUgY3VycmVudCB0byB0aGUgdGFyZ2V0IGxvY2F0aW9uLiAqL1xuICBsaW5lVG8oeDogbnVtYmVyLCB5OiBudW1iZXIpOiB0aGlzO1xuXG4gIC8qKiBEcmF3IGEgcXVhZHJhdGljIGN1cnZlIGZyb20gdGhlIGN1cnJlbnQgbG9jYXRpb24uICovXG4gIHF1YWRyYXRpY1RvKGNwWDogbnVtYmVyLCBjcFk6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiB0aGlzO1xuXG4gIC8qKiBEcmF3IGEgY3ViaWMgY3VydmUgKGJlemllciBjdXJ2ZSkgZnJvbSB0aGUgY3VycmVudCBsb2NhdGlvbi4gKi9cbiAgY3ViaWNUbyhcbiAgICBjcDFYOiBudW1iZXIsXG4gICAgY3AxWTogbnVtYmVyLFxuICAgIGNwMlg6IG51bWJlcixcbiAgICBjcDJZOiBudW1iZXIsXG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlclxuICApOiB0aGlzO1xuXG4gIC8qKiBDbG9zZSB0aGUgY3VycmVudCBwYXRoLiAqL1xuICBjbG9zZVBhdGgoKTogdGhpcztcblxuICAvKipcbiAgICogRHJhdyBhIGFyYyBvZiBhIGNpcmNsZSBjZW50ZXJlZCBhdCAoeCx5KS5cbiAgICogRHJhd2luZyBhIGZ1bGwgY2lyY2xlIGlzIG5vdCBwb3NzaWJsZS5cbiAgICogQHBhcmFtIHggY2VudGVyIHhcbiAgICogQHBhcmFtIHkgY2VudGVyIHlcbiAgICogQHBhcmFtIHJhZGl1cyByYWRpdXNcbiAgICogQHBhcmFtIHN0YXJ0QW5nbGUgVGhlIHN0YXJ0IGFuZ2xlIGluIHJhZGlhbnNcbiAgICogQHBhcmFtIGVuZEFuZ2xlIFRoZSBlbmQgYW5nbGUgaW4gcmFkaWFuc1xuICAgKiBAcGFyYW0gY3cgV2hldGhlciB0aGUgYXJjIHNob3VsZCBydW4gY2xvY2t3aXNlLiBEZWZhdWx0cyB0byBmYWxzZS5cbiAgICovXG4gIGFyYyhcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHJhZGl1czogbnVtYmVyLFxuICAgIHN0YXJ0QW5nbGU6IG51bWJlcixcbiAgICBlbmRBbmdsZTogbnVtYmVyLFxuICAgIGN3PzogYm9vbGVhblxuICApOiB0aGlzO1xuXG4gIC8qKiBTdHJva2UgdGhlIGN1cnJlbnQgcGF0aCAqL1xuICBzdHJva2UoKTogdGhpcztcbiAgLyoqIEZpbGwgdGhlIGN1cnJlbnQgcGF0aCAqL1xuICBmaWxsKCk6IHRoaXM7XG4gIC8qKiBTdHJva2UgYW5kIEZpbGwgdGhlIGN1cnJlbnQgcGF0aCAqL1xuICBmaWxsQW5kU3Ryb2tlKCk6IHRoaXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVhc3VyZVRleHQge1xuICBtZWFzdXJlVGV4dCh0ZXh0OiBzdHJpbmcpOiB7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgYm90OiBudW1iZXI7XG4gICAgbGVmdDogbnVtYmVyO1xuICAgIHJpZ2h0OiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FudmFzIH0gZnJvbSBcIi4vQ2FudmFzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNWRyB9IGZyb20gXCIuL1NWR1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUaWtaIH0gZnJvbSBcIi4vVGlrWlwiO1xuIiwgImNvbnN0IENIQVJTID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLFxuICBCQl9DSEFSUyA9IFtcbiAgICAuLi5cIlx1RDgzNVx1REQzOFx1RDgzNVx1REQzOVx1MjEwMlx1RDgzNVx1REQzQlx1RDgzNVx1REQzQ1x1RDgzNVx1REQzRFx1RDgzNVx1REQzRVx1MjEwRFx1RDgzNVx1REQ0MFx1RDgzNVx1REQ0MVx1RDgzNVx1REQ0Mlx1RDgzNVx1REQ0M1x1RDgzNVx1REQ0NFx1MjExNVx1RDgzNVx1REQ0Nlx1MjExOVx1MjExQVx1MjExRFx1RDgzNVx1REQ0QVx1RDgzNVx1REQ0Qlx1RDgzNVx1REQ0Q1x1RDgzNVx1REQ0RFx1RDgzNVx1REQ0RVx1RDgzNVx1REQ0Rlx1RDgzNVx1REQ1MFx1MjEyNFx1RDgzNVx1REQ1Mlx1RDgzNVx1REQ1M1x1RDgzNVx1REQ1NFx1RDgzNVx1REQ1NVx1RDgzNVx1REQ1Nlx1RDgzNVx1REQ1N1x1RDgzNVx1REQ1OFx1RDgzNVx1REQ1OVx1RDgzNVx1REQ1QVx1RDgzNVx1REQ1Qlx1RDgzNVx1REQ1Q1x1RDgzNVx1REQ1RFx1RDgzNVx1REQ1RVx1RDgzNVx1REQ1Rlx1RDgzNVx1REQ2MFx1RDgzNVx1REQ2MVx1RDgzNVx1REQ2Mlx1RDgzNVx1REQ2M1x1RDgzNVx1REQ2NFx1RDgzNVx1REQ2NVx1RDgzNVx1REQ2Nlx1RDgzNVx1REQ2N1x1RDgzNVx1REQ2OFx1RDgzNVx1REQ2OVx1RDgzNVx1REQ2QVx1RDgzNVx1REQ2Qlx1RDgzNVx1REZEOFx1RDgzNVx1REZEOVx1RDgzNVx1REZEQVx1RDgzNVx1REZEQlx1RDgzNVx1REZEQ1x1RDgzNVx1REZERFx1RDgzNVx1REZERVx1RDgzNVx1REZERlx1RDgzNVx1REZFMFx1RDgzNVx1REZFMVwiLFxuICBdLFxuICBGUkFLX0NIQVJTID0gWy4uLlwiXHVEODM1XHVERDZDXHVEODM1XHVERDZEXHVEODM1XHVERDZFXHVEODM1XHVERDZGXHVEODM1XHVERDcwXHVEODM1XHVERDcxXHVEODM1XHVERDcyXHVEODM1XHVERDczXHVEODM1XHVERDc0XHVEODM1XHVERDc1XHVEODM1XHVERDc2XHVEODM1XHVERDc3XHVEODM1XHVERDc4XHVEODM1XHVERDc5XHVEODM1XHVERDdBXHVEODM1XHVERDdCXHVEODM1XHVERDdDXHVEODM1XHVERDdEXHVEODM1XHVERDdFXHVEODM1XHVERDdGXHVEODM1XHVERDgwXHVEODM1XHVERDgxXHVEODM1XHVERDgyXHVEODM1XHVERDgzXHVEODM1XHVERDg0XHVEODM1XHVERDg1XHVEODM1XHVERDg2XHVEODM1XHVERDg3XHVEODM1XHVERDg4XHVEODM1XHVERDg5XHVEODM1XHVERDhBXHVEODM1XHVERDhCXHVEODM1XHVERDhDXHVEODM1XHVERDhEXHVEODM1XHVERDhFXHVEODM1XHVERDhGXHVEODM1XHVERDkwXHVEODM1XHVERDkxXHVEODM1XHVERDkyXHVEODM1XHVERDkzXHVEODM1XHVERDk0XHVEODM1XHVERDk1XHVEODM1XHVERDk2XHVEODM1XHVERDk3XHVEODM1XHVERDk4XHVEODM1XHVERDk5XHVEODM1XHVERDlBXHVEODM1XHVERDlCXHVEODM1XHVERDlDXHVEODM1XHVERDlEXHVEODM1XHVERDlFXHVEODM1XHVERDlGXCJdO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIEFscGhhOiBcIlx1MDM5MVwiLFxuICBhbHBoYTogXCJcdTAzQjFcIixcbiAgQmV0YTogXCJcdTAzOTJcIixcbiAgYmV0YTogXCJcdTAzQjJcIixcbiAgR2FtbWE6IFwiXHUwMzkzXCIsXG4gIGdhbW1hOiBcIlx1MDNCM1wiLFxuICBEZWx0YTogXCJcdTAzOTRcIixcbiAgZGVsdGE6IFwiXHUwM0I0XCIsXG4gIEVwc2lsb246IFwiXHUwMzk1XCIsXG4gIGVwc2lsb246IFwiXHUwM0I1XCIsXG4gIFpldGE6IFwiXHUwMzk2XCIsXG4gIHpldGE6IFwiXHUwM0I2XCIsXG4gIEV0YTogXCJcdTAzOTdcIixcbiAgZXRhOiBcIlx1MDNCN1wiLFxuICBUaGV0YTogXCJcdTAzOThcIixcbiAgdGhldGE6IFwiXHUwM0I4XCIsXG4gIElvdGE6IFwiXHUwMzk5XCIsXG4gIGlvdGE6IFwiXHUwM0I5XCIsXG4gIEthcHBhOiBcIlx1MDM5QVwiLFxuICBrYXBwYTogXCJcdTAzQkFcIixcbiAgTGFtYmRhOiBcIlx1MDM5QlwiLFxuICBsYW1iZGE6IFwiXHUwM0JCXCIsXG4gIE11OiBcIlx1MDM5Q1wiLFxuICBtdTogXCJcdTAzQkNcIixcbiAgTnU6IFwiXHUwMzlEXCIsXG4gIG51OiBcIlx1MDNCRFwiLFxuICBYaTogXCJcdTAzOUVcIixcbiAgeGk6IFwiXHUwM0JFXCIsXG4gIE9taWNyb246IFwiXHUwMzlGXCIsXG4gIG9taWNyb246IFwiXHUwM0JGXCIsXG4gIFBpOiBcIlx1MDNBMFwiLFxuICBwaTogXCJcdTAzQzBcIixcbiAgUmhvOiBcIlx1MDNBMVwiLFxuICByaG86IFwiXHUwM0MxXCIsXG4gIFNpZ21hOiBcIlx1MDNBM1wiLFxuICBzaWdtYTogXCJcdTAzQzNcIixcbiAgVGF1OiBcIlx1MDNBNFwiLFxuICB0YXU6IFwiXHUwM0M0XCIsXG4gIFVwc2lsb246IFwiXHUwM0E1XCIsXG4gIHVwc2lsb246IFwiXHUwM0M1XCIsXG4gIFBoaTogXCJcdTAzQTZcIixcbiAgcGhpOiBcIlx1MDNDNlwiLFxuICBDaGk6IFwiXHUwM0E3XCIsXG4gIGNoaTogXCJcdTAzQzdcIixcbiAgUHNpOiBcIlx1MDNBOFwiLFxuICBwc2k6IFwiXHUwM0M4XCIsXG4gIE9tZWdhOiBcIlx1MDNBOVwiLFxuICBvbWVnYTogXCJcdTAzQzlcIixcbiAgbWF0aEJCOiBmdW5jdGlvbiAoY2hhcmFjdGVyOiBzdHJpbmcpIHtcbiAgICBpZiAoY2hhcmFjdGVyLmxlbmd0aCA9PSAxKSB7XG4gICAgICBsZXQgaSA9IENIQVJTLmluZGV4T2YoY2hhcmFjdGVyKTtcbiAgICAgIHJldHVybiBCQl9DSEFSU1tpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlcyA9IFwiXCI7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJhY3Rlci5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXMgPSByZXMgKyBCQl9DSEFSU1tDSEFSUy5pbmRleE9mKGNoYXJhY3Rlci5jaGFyQXQoaSkpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICB9LFxuICBtYXRoRnJhazogZnVuY3Rpb24gKGNoYXJhY3Rlcjogc3RyaW5nKSB7XG4gICAgaWYgKGNoYXJhY3Rlci5sZW5ndGggPT0gMSkge1xuICAgICAgbGV0IGkgPSBDSEFSUy5pbmRleE9mKGNoYXJhY3Rlcik7XG4gICAgICByZXR1cm4gRlJBS19DSEFSU1tpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlcyA9IFwiXCI7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJhY3Rlci5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXMgPSByZXMgKyBGUkFLX0NIQVJTW0NIQVJTLmluZGV4T2YoY2hhcmFjdGVyLmNoYXJBdChpKSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gIH0sXG59O1xuIiwgImltcG9ydCB7IENvbXBsZXggfSBmcm9tIFwiLi4vbW9kdWxlcy9tYXRoXCI7XG5pbXBvcnQgKiBhcyByZW5kZXIgZnJvbSBcIi4uL3JlbmRlcmVyXCI7XG5pbXBvcnQgKiBhcyBzcHJpdGVzIGZyb20gXCIuL3Nwcml0ZXNcIjtcbmltcG9ydCBUZVggZnJvbSBcIi4vVGVYXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21wbGV4U2NUciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBvcmlnaW46IFtudW1iZXIsIG51bWJlcl0sIHB1YmxpYyBzY2FsZTogbnVtYmVyKSB7fVxuXG4gIHByb2plY3QoejogQ29tcGxleCB8IFtudW1iZXIsIG51bWJlcl0pOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh6KSkgeiA9IG5ldyBDb21wbGV4KHpbMF0sIHpbMV0pO1xuICAgIHJldHVybiBbXG4gICAgICB6LnJlYWwgKiB0aGlzLnNjYWxlICsgdGhpcy5vcmlnaW5bMF0sXG4gICAgICAtei5pbWFnICogdGhpcy5zY2FsZSArIHRoaXMub3JpZ2luWzFdLFxuICAgIF07XG4gIH1cblxuICBpbnZlcnQocDogW251bWJlciwgbnVtYmVyXSk6IENvbXBsZXgge1xuICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgIChwWzBdIC0gdGhpcy5vcmlnaW5bMF0pIC8gdGhpcy5zY2FsZSxcbiAgICAgIC0ocFsxXSAtIHRoaXMub3JpZ2luWzFdKSAvIHRoaXMuc2NhbGVcbiAgICApO1xuICB9XG5cbiAgYWRkVHJhbnNsYXRpb24oZDogW251bWJlciwgbnVtYmVyXSkge1xuICAgIHRoaXMub3JpZ2luID0gW3RoaXMub3JpZ2luWzBdICsgZFswXSwgdGhpcy5vcmlnaW5bMV0gKyBkWzFdXTtcbiAgfVxuXG4gIGFkZFpvb20oZmFjOiBudW1iZXIsIGM6IFtudW1iZXIsIG51bWJlcl0pIHtcbiAgICBjb25zdCBbb3gsIG95XSA9IHRoaXMub3JpZ2luO1xuICAgIHRoaXMub3JpZ2luID0gW294ICogZmFjICsgY1swXSAqICgxIC0gZmFjKSwgb3kgKiBmYWMgKyBjWzFdICogKDEgLSBmYWMpXTtcbiAgICB0aGlzLnNjYWxlICo9IGZhYztcbiAgfVxufVxuXG4vKipcbiAqIERyYXcgYW4gYXJyb3cgd2l0aCBpbmZpbml0ZSBsZW5ndGguXG4gKiBAcGFyYW0gY3R4IFJlbmRlciBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGggU2NyZWVuIHdpZHRoXG4gKiBAcGFyYW0gaGVpZ2h0IFNjcmVlbiBoZWlnaHRcbiAqIEBwYXJhbSBwIFBvaW50IG9uIGxpbmVcbiAqIEBwYXJhbSBkIERpcmVjdGlvbiBvZiBhcnJvd1xuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgc3R1ZmZcbiAqIEByZXR1cm5zIFtzeCwgc3ksIGV4LCBleV0gVGhlIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIG9mIHRoZSBkcmF3biBhcnJvdy5cbiAqL1xuZnVuY3Rpb24gaW5mQXJyb3coXG4gIGN0eDogcmVuZGVyLlJlbmRlcmVyMkQsXG4gIHdpZHRoOiBudW1iZXIsXG4gIGhlaWdodDogbnVtYmVyLFxuICBwOiBbbnVtYmVyLCBudW1iZXJdLFxuICBkOiBbbnVtYmVyLCBudW1iZXJdLFxuICB7IGFycm93U2l6ZSA9IDkgfSA9IHt9XG4pOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSB7XG4gIGNvbnN0IGRhYnMgPSBNYXRoLnNxcnQoZFswXSAqIGRbMF0gKyBkWzFdICogZFsxXSk7XG4gIGQgPSBbZFswXSAvIGRhYnMsIGRbMV0gLyBkYWJzXTtcbiAgY29uc3QgdDogbnVtYmVyW10gPSBbXG4gICAgZFswXSA9PT0gMCA/IC1JbmZpbml0eSA6ICgwIC0gcFswXSkgLyBkWzBdLFxuICAgIGRbMF0gPT09IDAgPyBJbmZpbml0eSA6ICh3aWR0aCAtIHBbMF0pIC8gZFswXSxcbiAgICBkWzFdID09PSAwID8gLUluZmluaXR5IDogKDAgLSBwWzFdKSAvIGRbMV0sXG4gICAgZFsxXSA9PT0gMCA/IEluZmluaXR5IDogKGhlaWdodCAtIHBbMV0pIC8gZFsxXSxcbiAgXS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG5cbiAgLy8gc3RhcnQgYW5kIGVuZC4gbWF5IHN0aWxsIGJlIG91dCBvZiBib3VuZHNcbiAgY29uc3QgcyA9IFtwWzBdICsgdFsxXSAqIGRbMF0sIHBbMV0gKyB0WzFdICogZFsxXV07XG4gIGNvbnN0IGUgPSBbcFswXSArICh0WzJdIC0gMSkgKiBkWzBdLCBwWzFdICsgKHRbMl0gLSAxKSAqIGRbMV1dO1xuXG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbyhzWzBdLCBzWzFdKTtcbiAgY3R4LmxpbmVUbyhlWzBdIC0gMiAqIGRbMF0sIGVbMV0gLSAyICogZFsxXSk7XG4gIGN0eC5zdHJva2UoKTtcblxuICBsZXQgYSA9IGFycm93U2l6ZTtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKGVbMF0sIGVbMV0pO1xuICBjdHgubGluZVRvKFxuICAgIGVbMF0gLSBhICogZFswXSArIDAuNSAqIGEgKiBkWzFdLFxuICAgIGVbMV0gLSBhICogZFsxXSAtIDAuNSAqIGEgKiBkWzBdXG4gICk7XG4gIGN0eC5saW5lVG8oXG4gICAgZVswXSAtIGEgKiBkWzBdIC0gMC41ICogYSAqIGRbMV0sXG4gICAgZVsxXSAtIGEgKiBkWzFdICsgMC41ICogYSAqIGRbMF1cbiAgKTtcbiAgY3R4LmxpbmVUbyhlWzBdLCBlWzFdKTtcbiAgY3R4LmZpbGwoKTtcblxuICByZXR1cm4gW3NbMF0sIHNbMV0sIGVbMF0sIGVbMV1dO1xufVxuXG4vKipcbiAqIERyYXcgdGhlIGF4ZXMgb2YgdGhlIGNvbXBsZXggcGxhbmUgdW5kZXIgYSBsaW5lYXIgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSBjdHggVGhlIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGggV2lkdGggb2YgdGhlIGNvbnRleHRcbiAqIEBwYXJhbSBoZWlnaHQgSGVpZ2h0IG9mIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0gcHJvamVjdGlvbiBUaGUgcHJvamVjdGlvbiB0byB1c2UgZm9yIHRoZSBjb29yZGluYXRlc1xuICogQHBhcmFtIHByb2plY3Rpb24ub3JpZ2luIFRoZSBvcmlnaW4gcG9zaXRpb24gb24gc2NyZWVuXG4gKiBAcGFyYW0gcHJvamVjdGlvbi5zY2FsZSBUaGUgc2NhbGUgb2YgdGhlIHBsYW5lXG4gKiBAcGFyYW0gb3B0aW9ucyBvcHRpb25zIGZvciBkcmF3aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmF3Q2FydGhlc2lhbjJEQXhpcyhcbiAgY3R4OiByZW5kZXIuUmVuZGVyZXIyRCAmIHtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICB9ICYgcmVuZGVyLk1lYXN1cmVUZXh0LFxuICBwcm9qZWN0aW9uOiB7IG9yaWdpbjogW251bWJlciwgbnVtYmVyXTsgc2NhbGU6IG51bWJlciB9LFxuICB7XG4gICAgbm9YID0gZmFsc2UsXG4gICAgbm9ZID0gZmFsc2UsXG4gICAgYXJyb3dTaXplOiBhcyA9IDcsXG4gICAgZm9udFNpemU6IGZzID0gMTMsXG4gICAgbGFiZWxYID0gVGVYLm1hdGhCQihcIlJcIiksXG4gICAgbGFiZWxZID0gXCJpXCIgKyBUZVgubWF0aEJCKFwiUlwiKSxcbiAgfSA9IHt9XG4pIHtcbiAgbGV0IHsgb3JpZ2luLCBzY2FsZSB9ID0gcHJvamVjdGlvbjtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjdHg7XG5cbiAgY3R4LmZvbnRTaXplID0gZnM7XG5cbiAgY29uc3QgcHJvamVjdCA9IGZ1bmN0aW9uIChcbiAgICB0aGlzOiB7IG94OiBudW1iZXI7IG95OiBudW1iZXI7IHBzOiBudW1iZXIgfSxcbiAgICByOiBudW1iZXIsXG4gICAgaTogbnVtYmVyID0gMFxuICApOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICBsZXQgeyBwcywgb3gsIG95IH0gPSB0aGlzO1xuICAgIHJldHVybiBbciAqIHBzICsgb3gsIC1pICogcHMgKyBveV07XG4gIH0uYmluZCh7IG94OiBvcmlnaW5bMF0sIG95OiBvcmlnaW5bMV0sIHBzOiBzY2FsZSB9KTtcblxuICBjb25zdCBwb3MxID0gcHJvamVjdCgxKTtcbiAgY29uc3QgcG9zaSA9IHByb2plY3QoMCwgMSk7XG5cbiAgY29uc3QgZHggPSBbcG9zMVswXSAtIG9yaWdpblswXSwgcG9zMVsxXSAtIG9yaWdpblsxXV0gYXMgW251bWJlciwgbnVtYmVyXTtcbiAgY29uc3QgZHkgPSBbcG9zaVswXSAtIG9yaWdpblswXSwgcG9zaVsxXSAtIG9yaWdpblsxXV0gYXMgW251bWJlciwgbnVtYmVyXTtcblxuICBpZiAoIW5vWCkge1xuICAgIGNvbnN0IFssICwgcngsIHJ5XSA9IGluZkFycm93KGN0eCwgd2lkdGgsIGhlaWdodCwgb3JpZ2luLCBkeCwge1xuICAgICAgYXJyb3dTaXplOiBhcyxcbiAgICB9KTtcbiAgICBpZiAobGFiZWxYKVxuICAgICAgY3R4LnRleHROb2RlKFxuICAgICAgICBsYWJlbFgsXG4gICAgICAgIHJ4IC0gMC4yICogZnMsXG4gICAgICAgIHJ5ICsgMC4yICogZnMgKyBhcyAvIDIsXG4gICAgICAgIHJlbmRlci5UZXh0QWxpZ24uVFJcbiAgICAgICk7XG4gIH1cbiAgaWYgKCFub1kpIHtcbiAgICBjb25zdCBbLCAsIGl4LCBpeV0gPSBpbmZBcnJvdyhjdHgsIHdpZHRoLCBoZWlnaHQsIG9yaWdpbiwgZHksIHtcbiAgICAgIGFycm93U2l6ZTogYXMsXG4gICAgfSk7XG4gICAgaWYgKCFub1kgJiYgbGFiZWxZKVxuICAgICAgY3R4LnRleHROb2RlKFxuICAgICAgICBsYWJlbFksXG4gICAgICAgIGl4IC0gMC4yICogZnMgLSBhcyAvIDIsXG4gICAgICAgIGl5ICsgMC4yICogZnMsXG4gICAgICAgIHJlbmRlci5UZXh0QWxpZ24uVFJcbiAgICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFubm90YXRlQ2FydGhlc2lhbjJEQXhpcyhcbiAgY3R4OiByZW5kZXIuUmVuZGVyZXIyRCxcbiAgYXhpczogXCJ4XCIsXG4gIHsgb3JpZ2luOiBwMCwgc2NhbGU6IHBzIH06IHsgb3JpZ2luOiBbbnVtYmVyLCBudW1iZXJdOyBzY2FsZTogbnVtYmVyIH0sXG4gIGFubm90YXRpb25zOiB7IHNwcml0ZTogc3ByaXRlcy5CQlNwcml0ZTsgYXQ6IG51bWJlciB9W10sXG4gIHsgZ2FwID0gNSB9ID0ge31cbikge1xuICB2YXIgd2lkdGg6IG51bWJlciA9IChjdHggYXMgYW55KS53aWR0aCB8fCAwO1xuICB2YXIgaGVpZ2h0OiBudW1iZXIgPSAoY3R4IGFzIGFueSkuaGVpZ2h0IHx8IDA7XG5cbiAgaWYgKGF4aXMgPT0gXCJ4XCIpIHtcbiAgICBsZXQgeDAgPSBwMFswXTtcbiAgICBsZXQgeTAgPSBwMFsxXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5ub3RhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB7IGF0LCBzcHJpdGUgfSA9IGFubm90YXRpb25zW2ldO1xuICAgICAgbGV0IHggPSBhdCAqIHBzICsgeDA7XG5cbiAgICAgIGlmICh4ICsgc3ByaXRlLnJpZ2h0ID49IDAgJiYgeCAtIHNwcml0ZS5sZWZ0IDw9IHdpZHRoKSB7XG4gICAgICAgIGxldCB0ID0geTAsXG4gICAgICAgICAgbCA9IHggLSAwLjUsXG4gICAgICAgICAgciA9IHggKyAwLjUsXG4gICAgICAgICAgYiA9IHkwICsgMztcbiAgICAgICAgY3R4XG4gICAgICAgICAgLmJlZ2luUGF0aCgpXG4gICAgICAgICAgLm1vdmVUbyhsLCB0KVxuICAgICAgICAgIC5saW5lVG8ociwgdClcbiAgICAgICAgICAubGluZVRvKHIsIGIpXG4gICAgICAgICAgLmxpbmVUbyhsLCBiKVxuICAgICAgICAgIC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgc3ByaXRlLmRyYXcoY3R4LCB4LCB5MCArIHNwcml0ZS50b3AgKyBnYXApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB0eXBlICogYXMgcmVuZGVyIGZyb20gXCIuLi9yZW5kZXJlclwiO1xuXG5leHBvcnQgdHlwZSBTcHJpdGUgPSB7XG4gIGRyYXcoY3R4OiByZW5kZXIuUmVuZGVyZXIyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiB1bmtub3duO1xufTtcblxuZXhwb3J0IHR5cGUgQkJTcHJpdGUgPSBTcHJpdGUgJiB7XG4gIHRvcDogbnVtYmVyO1xuICBib3Q6IG51bWJlcjtcbiAgbGVmdDogbnVtYmVyO1xuICByaWdodDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0cm9rZUJvdW5kcyhcbiAgY3R4OiByZW5kZXIuUmVuZGVyZXIyRCxcbiAgc3ByaXRlOiBCQlNwcml0ZSxcbiAgeDogbnVtYmVyLFxuICB5OiBudW1iZXJcbikge1xuICBsZXQgbCA9IHggLSBzcHJpdGUubGVmdCxcbiAgICB0ID0geSAtIHNwcml0ZS50b3AsXG4gICAgciA9IHggKyBzcHJpdGUucmlnaHQsXG4gICAgYiA9IHkgKyBzcHJpdGUuYm90O1xuICBjdHguYmVnaW5QYXRoKCkubGluZVRvKGwsIHQpLmxpbmVUbyhyLCB0KS5saW5lVG8ociwgYikubGluZVRvKGwsIGIpO1xuICBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5zdHJva2UoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzcHJpdGUgb2JqZWN0IGZvciB0ZXh0LlxuICogQHBhcmFtIGN0eCBSZW5kZXJpbmcgY29udGV4dCB1c2VkIGZvciBtZWFzdXJpbmcgZm9udC5cbiAqIEBwYXJhbSB0ZXh0IFRoZSB0ZXh0XG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnMgU3ByaXRlIG9mIHRoZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUZXh0U3ByaXRlKFxuICBtZWFzdXJlOiByZW5kZXIuTWVhc3VyZVRleHQsXG4gIHRleHQ6IHN0cmluZyxcbiAgb3B0aW9ucz86IHsgY2VudGVyPzogYm9vbGVhbiB9XG4pOiBCQlNwcml0ZSB7XG4gIGNvbnN0IHsgY2VudGVyID0gZmFsc2UgfSA9IG9wdGlvbnMgfHwge307XG4gIGxldCB7IHRvcCwgYm90LCBsZWZ0LCByaWdodCB9ID0gbWVhc3VyZS5tZWFzdXJlVGV4dCh0ZXh0KTtcbiAgbGV0IGR4ID0gMDtcbiAgaWYgKGNlbnRlcikge1xuICAgIGR4ID0gKHJpZ2h0IC0gbGVmdCkgLyAyO1xuICAgIGxlZnQgKz0gZHg7XG4gICAgcmlnaHQgLT0gZHg7XG4gIH1cblxuICBjb25zdCBzcHJpdGUgPSB7XG4gICAgdGV4dDogdGV4dCxcbiAgICBkeCxcbiAgICB0b3AsXG4gICAgYm90LFxuICAgIGxlZnQsXG4gICAgcmlnaHQsXG4gICAgZHJhdzogZnVuY3Rpb24gKGN0eDogcmVuZGVyLlJlbmRlcmVyMkQsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICBjdHgudGV4dE5vZGUodGhpcy50ZXh0LCB4IC0gdGhpcy5keCwgeSwgMCBhcyByZW5kZXIuVGV4dEFsaWduKTtcbiAgICB9LFxuICB9O1xuICByZXR1cm4gc3ByaXRlO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHNwcml0ZSB0aGF0IGRyYXdzIGEgZnJhY3Rpb24uIEZvbnRzaXplIGFuZCBsaW5lV2lkdGggZnJvbSB0aGUgY29udGV4dCBhcmUgdXNlZC5cbiAqIEBwYXJhbSB0b3AgVG9wIHNwcml0ZVxuICogQHBhcmFtIGJvdCBCb3R0b20gc3ByaXRlXG4gKiBAcmV0dXJucyBUaGUgc3ByaXRlIHRoYXQgZHJhd3MgZnJhY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZyYWNTcHJpdGUodG9wOiBCQlNwcml0ZSwgYm90OiBCQlNwcml0ZSk6IEJCU3ByaXRlIHtcbiAgLy8gMC4yIGF2ZXJhZ2UgaGVpZ2h0IGFzIGdhcFxuICBjb25zdCBmcmFjdGlvbkdhcCA9IDAuMDUgKiAodG9wLnRvcCArIHRvcC5ib3QgKyBib3QudG9wICsgYm90LmJvdCk7XG5cbiAgLy8gU2hpZnQgdG8gY2VudGVyIHRvcCAvIGJvdCB0ZXh0IGFsb25nIHhcbiAgY29uc3QgdG9wT2Zmc2V0WCA9IDAuNSAqICh0b3AubGVmdCAtIHRvcC5yaWdodCk7XG4gIGNvbnN0IGJvdE9mZnNldFggPSAwLjUgKiAoYm90LmxlZnQgLSBib3QucmlnaHQpO1xuICAvLyBTaGlmdFxuICBjb25zdCB0b3BPZmZzZXRZID0gLXRvcC5ib3QgLSBmcmFjdGlvbkdhcDtcbiAgY29uc3QgYm90T2Zmc2V0WSA9IGJvdC50b3AgKyBmcmFjdGlvbkdhcDtcblxuICAvLyBBbW91bnQgb2YgbGluZSByZXF1aXJlZCBvbiBlYWNoIHNpZGVcbiAgY29uc3QgaGFsZkxpbmVMZW5ndGggPSBNYXRoLm1heChcbiAgICAwLjUgKiAodG9wLmxlZnQgKyB0b3AucmlnaHQpLFxuICAgIDAuNSAqIChib3QubGVmdCArIGJvdC5yaWdodClcbiAgKTtcblxuICBjb25zdCBzcHJpdGUgPSB7XG4gICAgZGF0YTogW1xuICAgICAgdG9wT2Zmc2V0WCxcbiAgICAgIHRvcE9mZnNldFksXG4gICAgICBib3RPZmZzZXRYLFxuICAgICAgYm90T2Zmc2V0WSxcbiAgICAgIGhhbGZMaW5lTGVuZ3RoLFxuICAgIF0gYXMgY29uc3QsXG4gICAgdG9wOiAtdG9wT2Zmc2V0WSArIHRvcC50b3AsXG4gICAgYm90OiBib3RPZmZzZXRZICsgYm90LmJvdCxcbiAgICBsZWZ0OiBoYWxmTGluZUxlbmd0aCxcbiAgICByaWdodDogaGFsZkxpbmVMZW5ndGgsXG5cbiAgICBkcmF3OiBmdW5jdGlvbiAoY3R4OiByZW5kZXIuUmVuZGVyZXIyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgIGxldCBbdG9wT2Zmc2V0WCwgdG9wT2Zmc2V0WSwgYm90T2Zmc2V0WCwgYm90T2Zmc2V0WSwgaGFsZkxpbmVMZW5ndGhdID1cbiAgICAgICAgdGhpcy5kYXRhO1xuXG4gICAgICB0b3AuZHJhdyhjdHgsIHggKyB0b3BPZmZzZXRYLCB5ICsgdG9wT2Zmc2V0WSk7XG4gICAgICBib3QuZHJhdyhjdHgsIHggKyBib3RPZmZzZXRYLCB5ICsgYm90T2Zmc2V0WSk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8oeCAtIGhhbGZMaW5lTGVuZ3RoLCB5KTtcbiAgICAgIGN0eC5saW5lVG8oeCArIGhhbGZMaW5lTGVuZ3RoLCB5KTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9LFxuICB9O1xuICByZXR1cm4gc3ByaXRlO1xufVxuIiwgIi8qKlxuICogQSBjbGFzcyB0aGF0IGFsbG93cyBlYXN5IGludGVyYWN0aW9uIHdpdGggYW4gY2FudmFzIG9yIG90aGVyIEhUTUwgZWxlbWVudC5cbiAqIFdoZW4gcmVnaXN0ZXJlZCBvbiBhbiBlbGVtZW50LCB0aGUgbGlzdGVuZXJzIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IgYXJlXG4gKiBjYWxsZWQgd2hlbiB0aGUgcmVzcGVjdGl2ZSBldmVudCB0YWtlcyBwbGFjZS5cbiAqL1xuZXhwb3J0IGNsYXNzIERyYWdab29tSG92ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIHdpdGggbGlzdGVuZXJzLlxuICAgKiBBbGwgdmFsdWVzIGFyZSBtZXN1cmVkIGluIENTUyBwaXhlbHMgbWVhc3VyZWRcbiAgICogYXMgb2Zmc2V0IGZyb20gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgKiBAcGFyYW0gb25EcmFnIGRyYWcgbGlzdGVuZXJcbiAgICogQHBhcmFtIG9uWm9vbSB6b29tIGxpc3RlbmVyXG4gICAqIEBwYXJhbSBvbkhvdmVyIGhvdmVyIGxpc3RlbmVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgb25EcmFnOiAoZGVsdGE6IFtudW1iZXIsIG51bWJlcl0pID0+IGFueSxcbiAgICBwdWJsaWMgb25ab29tOiAoZmFjdG9yOiBudW1iZXIsIGNlbnRlcjogW251bWJlciwgbnVtYmVyXSkgPT4gYW55LFxuICAgIHB1YmxpYyBvbkhvdmVyOiAocG9zOiBbbnVtYmVyLCBudW1iZXJdIHwgbnVsbCkgPT4gYW55XG4gICkge31cblxuICBwcml2YXRlIHN0YXRlOiBBcnJheTx7XG4gICAgaWQ6IG51bWJlcjtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICB9PiA9IG5ldyBBcnJheSgpO1xuXG4gIHByaXZhdGUgZG93biA9IChlOiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSA9PSBcIm1vdXNlXCIgJiYgZS5idXR0b24gIT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyBwb2ludGVySWQsIG9mZnNldFg6IHgsIG9mZnNldFk6IHkgfSA9IGU7XG4gICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZS5maW5kKCh7IGlkIH0pID0+IGlkID09PSBwb2ludGVySWQpO1xuICAgIGlmIChzdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdGF0ZSA9IHsgaWQ6IHBvaW50ZXJJZCwgeCwgeSB9O1xuICAgICAgdGhpcy5zdGF0ZS5wdXNoKHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUubGVuZ3RoIDw9IDEpIHRoaXMub25Ib3ZlcihbeCwgeV0pO1xuICAgIGVsc2UgdGhpcy5vbkhvdmVyKG51bGwpO1xuICAgIChlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQpLnNldFBvaW50ZXJDYXB0dXJlKHBvaW50ZXJJZCk7XG4gIH07XG4gIHByaXZhdGUgbW92ZSA9IChlOiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IHBvaW50ZXJJZCwgb2Zmc2V0WDogeCwgb2Zmc2V0WTogeSB9ID0gZTtcblxuICAgIGlmICh0aGlzLnN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5vbkhvdmVyKFt4LCB5XSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5kID0gdGhpcy5zdGF0ZS5maW5kSW5kZXgoKHsgaWQgfSkgPT4gaWQgPT09IHBvaW50ZXJJZCk7XG4gICAgaWYgKGluZCA9PT0gLTEpIHJldHVybjtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGVbaW5kXTtcblxuICAgIGlmICh0aGlzLnN0YXRlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGhpcy5vbkhvdmVyKFt4LCB5XSk7XG4gICAgICB0aGlzLm9uRHJhZyhbeCAtIHN0YXRlLngsIHkgLSBzdGF0ZS55XSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8gRHJhZyBhbmQgem9vbSBzbyB0aGF0IGJvdGggcG9pbnRlcnNcbiAgICAgIC8vIGhhdmUgdGhlIHNhbWUgY2VudGVyIGFuZCBkaXN0YW5jZVxuXG4gICAgICBjb25zdCBzMSA9IHN0YXRlO1xuICAgICAgY29uc3QgczIgPSB0aGlzLnN0YXRlWzEgLSBpbmRdO1xuXG4gICAgICBjb25zdCBkT2xkID0gKHMxLnggLSBzMi54KSAqKiAyICsgKHMxLnkgLSBzMi55KSAqKiAyLFxuICAgICAgICBkTmV3ID0gKHggLSBzMi54KSAqKiAyICsgKHkgLSBzMi55KSAqKiAyO1xuICAgICAgY29uc3QgZHJhZyA9IFswLjUgKiAoeCAtIHMxLngpLCAwLjUgKiAoeSAtIHMxLnkpXSBhcyBbbnVtYmVyLCBudW1iZXJdO1xuXG4gICAgICB0aGlzLm9uSG92ZXIobnVsbCk7XG4gICAgICB0aGlzLm9uRHJhZyhkcmFnKTtcbiAgICAgIHRoaXMub25ab29tKGROZXcgLyBkT2xkLCBbMC41ICogKHggKyBzMi54KSwgMC41ICogKHkgKyBzMi55KV0pO1xuICAgIH1cblxuICAgIHN0YXRlLnggPSB4O1xuICAgIHN0YXRlLnkgPSB5O1xuICB9O1xuICBwcml2YXRlIHVwID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgIGlmIChlLnBvaW50ZXJUeXBlID09IFwibW91c2VcIiAmJiBlLmJ1dHRvbiAhPSAwKSByZXR1cm47XG4gICAgY29uc3QgeyBwb2ludGVySWQsIG9mZnNldFg6IHgsIG9mZnNldFk6IHkgfSA9IGU7XG4gICAgbGV0IGluZCA9IHRoaXMuc3RhdGUuZmluZEluZGV4KCh7IGlkIH0pID0+IGlkID09PSBwb2ludGVySWQpO1xuICAgIHRoaXMuc3RhdGUuc3BsaWNlKGluZCwgMSk7XG5cbiAgICAoZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5yZWxlYXNlUG9pbnRlckNhcHR1cmUocG9pbnRlcklkKTtcbiAgfTtcbiAgcHJpdmF0ZSBjYW5jZWwgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT0gXCJtb3VzZVwiICYmIGUuYnV0dG9uICE9IDApIHJldHVybjtcblxuICAgIGNvbnN0IHsgcG9pbnRlcklkLCBvZmZzZXRYOiB4LCBvZmZzZXRZOiB5IH0gPSBlO1xuICAgIGxldCBpbmQgPSB0aGlzLnN0YXRlLmZpbmRJbmRleCgoeyBpZCB9KSA9PiBpZCA9PT0gcG9pbnRlcklkKTtcbiAgICB0aGlzLnN0YXRlLnNwbGljZShpbmQsIDEpO1xuXG4gICAgKGUuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCkucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHBvaW50ZXJJZCk7XG4gIH07XG4gIHByaXZhdGUgbGVhdmUgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT0gXCJtb3VzZVwiICYmIHRoaXMuc3RhdGUubGVuZ3RoID09PSAwKSB0aGlzLm9uSG92ZXIobnVsbCk7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT0gXCJtb3VzZVwiICYmIGUuYnV0dG9uICE9IDApIHJldHVybjtcbiAgICAvLyBSZWxlYXNlIHBvaW50ZXIgaWYgbm8gY2FwdHVyZSBpcyBwcmVzZW50XG5cbiAgICBpZiAoKGUuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCkuaGFzUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpKSByZXR1cm47XG5cbiAgICBjb25zdCB7IHBvaW50ZXJJZCwgb2Zmc2V0WDogeCwgb2Zmc2V0WTogeSB9ID0gZTtcbiAgICBsZXQgaW5kID0gdGhpcy5zdGF0ZS5maW5kSW5kZXgoKHsgaWQgfSkgPT4gaWQgPT09IHBvaW50ZXJJZCk7XG4gICAgdGhpcy5zdGF0ZS5zcGxpY2UoaW5kLCAxKTtcblxuICAgIChlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQpLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShwb2ludGVySWQpO1xuICB9O1xuICBwcml2YXRlIHdoZWVsID0gKGU6IFdoZWVsRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5vblpvb20oTWF0aC5leHAoLWUuZGVsdGFZICogKGUuZGVsdGFNb2RlID09IDEgPyAwLjAzMzMzIDogMC4wMDEpKSwgW1xuICAgICAgZS5vZmZzZXRYLFxuICAgICAgZS5vZmZzZXRZLFxuICAgIF0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgdGhlIGxpc3RlbmVycyB0byBhbiBIVE1MRWxlbWVudC5cbiAgICovXG4gIHJlZ2lzdGVyTGlzdGVuZXJzKGU6IEhUTUxFbGVtZW50KSB7XG4gICAgZS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMudXApO1xuICAgIGUuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMuZG93bik7XG4gICAgZS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5tb3ZlKTtcbiAgICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyY2FuY2VsXCIsIHRoaXMuY2FuY2VsKTtcbiAgICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIiwgdGhpcy5sZWF2ZSk7XG4gICAgZS5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy53aGVlbCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgZnJvbSBhbiBIVE1MRWxlbWVudC5cbiAgICovXG4gIHJlbW92ZUxpc3RlcmVzKGU6IEhUTUxFbGVtZW50KSB7XG4gICAgZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMudXApO1xuICAgIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMuZG93bik7XG4gICAgZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5tb3ZlKTtcbiAgICBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyY2FuY2VsXCIsIHRoaXMuY2FuY2VsKTtcbiAgICBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCB0aGlzLndoZWVsKTtcbiAgfVxufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBFbGVtZW50PEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXA+KFxuICBuYW1lOiBLLFxuICBjaGlsZHJlbjogKHN0cmluZyB8IE5vZGUpW10gfCB7IF9faHRtbDogc3RyaW5nIH0gPSBbXSxcbiAgYXR0cnM6IHtcbiAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXI7XG4gIH0gPSB7fSxcbiAgZXZlbnRzOiB7XG4gICAgW2tleSBpbiBrZXlvZiBHbG9iYWxFdmVudEhhbmRsZXJzXT86IEdsb2JhbEV2ZW50SGFuZGxlcnNba2V5XTtcbiAgfSA9IHt9XG4pOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbS10ge1xuICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xuXG4gIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhhdHRycykpXG4gICAgZWwuc2V0QXR0cmlidXRlKGssIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gdiA6IHYgKyBcIlwiKTtcbiAgZm9yIChsZXQgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50cykpIChlbCBhcyBhbnkpW2tdID0gdjtcblxuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpXG4gICAgZm9yICh2YXIgYyBvZiBjaGlsZHJlbikge1xuICAgICAgaWYgKHR5cGVvZiBjID09PSBcInN0cmluZ1wiKSBjID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYyk7XG4gICAgICBlbC5hcHBlbmQoYyk7XG4gICAgfVxuICBlbHNlIGVsLmlubmVySFRNTCA9IGNoaWxkcmVuLl9faHRtbDtcbiAgcmV0dXJuIGVsO1xufVxuXG5mdW5jdGlvbiBkZWVwQ2hpbGRyZW4oZWw6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCwgY2hpbGRyZW46IGFueVtdKSB7XG4gIGZvciAodmFyIGMgb2YgY2hpbGRyZW4pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjKSkgZGVlcENoaWxkcmVuKGVsLCBjKTtcbiAgICBlbHNlIGVsLmFwcGVuZChjIGluc3RhbmNlb2YgTm9kZSA/IGMgOiBcIlwiICsgYyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGpzeChcbiAgbmFtZTogc3RyaW5nLFxuICBhdHRyczoganN4LkpTWC5JbnRyaW5zaWNFbGVtZW50c1tcIlwiXSxcbiAgLi4uY2hpbGRyZW46IGFueVtdXG4pOiBIVE1MRWxlbWVudDtcbmV4cG9ydCBmdW5jdGlvbiBqc3goXG4gIG5hbWU6IHN0cmluZyxcbiAgYXR0cnM6IGpzeC5KU1guSW50cmluc2ljRWxlbWVudHNbXCJcIl0sXG4gIC4uLmNoaWxkcmVuOiBhbnlbXVxuKTogSFRNTEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50IHtcbiAgaWYgKG5hbWUgPT09IGpzeC5GcmFnbWVudCkge1xuICAgIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBkZWVwQ2hpbGRyZW4oZWwsIGNoaWxkcmVuKTtcbiAgICByZXR1cm4gZWw7XG4gIH1cbiAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbiAgYXR0cnMgPSBhdHRycyB8fCB7fTtcblxuICBpZiAoXCJfX2h0bWxcIiBpbiBhdHRycykge1xuICAgIGVsLmlubmVySFRNTCA9IFwiXCIgKyBhdHRycy5fX2h0bWw7XG4gICAgZGVsZXRlIGF0dHJzLl9faHRtbDtcbiAgfVxuXG4gIGZvciAodmFyIFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhhdHRycykpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgKGVsIGFzIGFueSlba10gPSB2O1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoaywgXCJcIiArIHYpO1xuICAgIH1cbiAgfVxuXG4gIGRlZXBDaGlsZHJlbihlbCwgY2hpbGRyZW4pO1xuICByZXR1cm4gZWw7XG59XG5qc3guRnJhZ21lbnQgPSBcIlwiO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UganN4LkpTWCB7XG4gIHR5cGUgRWxlbWVudCA9IEhUTUxFbGVtZW50O1xuICB0eXBlIEludHJpbnNpY0VsZW1lbnRzID0ge1xuICAgIFtrZXk6IHN0cmluZ106IHtcbiAgICAgIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8ICgoLi4uYXJnczogYW55KSA9PiBhbnkpIHwgdW5kZWZpbmVkO1xuICAgIH0gJiB7XG4gICAgICBba2V5IGluIGtleW9mIEdsb2JhbEV2ZW50SGFuZGxlcnNdPzpcbiAgICAgICAgfCBHbG9iYWxFdmVudEhhbmRsZXJzW2tleV1cbiAgICAgICAgfCBzdHJpbmdcbiAgICAgICAgfCBudW1iZXI7XG4gICAgfSAmIHsgX19odG1sPzogc3RyaW5nIH07XG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBMYXllcmVkQ29uZmlnLCBMYXllck9iamVjdCB9IGZyb20gXCIuL1wiO1xuaW1wb3J0ICogYXMgZG9tIGZyb20gXCJAbGliL0RvbUVsZW1lbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG9wdGlvbnM6IHtcbiAgdXBkYXRlOiAoY29uZmlnOiBMYXllcmVkQ29uZmlnLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gdW5rbm93bjtcbn0pOiBMYXllck9iamVjdDxIVE1MQ2FudmFzRWxlbWVudD4ge1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZShjb25maWc6IExheWVyZWRDb25maWcsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICAgIGNvbnN0IGRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgaWYgKFxuICAgICAgICBNYXRoLmZsb29yKGNvbmZpZy53aWR0aCAqIGRwcikgIT09IGNhbnZhcy53aWR0aCB8fFxuICAgICAgICBNYXRoLmZsb29yKGNvbmZpZy5oZWlnaHQgKiBkcHIpICE9PSBjYW52YXMuaGVpZ2h0XG4gICAgICApIHtcbiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihjb25maWcud2lkdGggKiBkcHIpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihjb25maWcuaGVpZ2h0ICogZHByKTtcbiAgICAgIH1cbiAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oZHByLCAwLCAwLCBkcHIsIDAsIDApO1xuICAgICAgb3B0aW9ucy51cGRhdGUoY29uZmlnLCBjdHgpO1xuICAgIH0sXG4gICAgcmVzaXplZChjb25maWc6IExheWVyZWRDb25maWcpIHtcbiAgICAgIGNvbmZpZy51cGRhdGUodGhpcyk7XG4gICAgfSxcbiAgICBjb25uZWN0ZWQoY29uZmlnOiBMYXllcmVkQ29uZmlnKSB7XG4gICAgICBsZXQgY2FudmFzID0gZG9tLkVsZW1lbnQoXCJjYW52YXNcIiwgW10sIHsgY2xhc3M6IFwiY2FudmFzLWxheWVyXCIgfSk7XG4gICAgICByZXR1cm4geyBub2RlczogY2FudmFzIH07XG4gICAgfSxcbiAgfTtcbn1cbiIsICIvKiogQGpzeCBqc3ggKi9cbi8qKiBAanN4RnJhZyBqc3guRnJhZ21lbnQgKi9cbmltcG9ydCB7IGpzeCB9IGZyb20gXCJAbGliL0RvbUVsZW1lbnRcIjtcbmltcG9ydCB0eXBlIHsgTGF5ZXJlZENvbmZpZywgTGF5ZXIgfSBmcm9tIFwiLlwiO1xuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi9PcHRpb25zLmNzc1wiO1xuXG5jb25zdCBPUFRJT05fVFlQRVMgPSB7XG4gIHNlY3Rpb246IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcsIG9wdGlvbnM/OiB7IGxldmVsPzogXCJoMVwiIHwgXCJoMlwiIHwgXCJoM1wiIH0pIHtcbiAgICByZXR1cm4geyBpbnB1dDoganN4KG9wdGlvbnM/LmxldmVsID8/IFwiaDJcIiwge30sIG5hbWUpIH07XG4gIH0sXG4gIG51bWJlcjogZnVuY3Rpb24gKG9wdGlvbnM6IHtcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIG9uQ2hhbmdlPzogKG46IG51bWJlcikgPT4gYW55O1xuICAgIGRlZmF1bHQ/OiBudW1iZXI7XG4gIH0pIHtcbiAgICBjb25zdCBjaGFuZ2VkID0gb3B0aW9ucy5vbkNoYW5nZTtcbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6IDxsYWJlbD57b3B0aW9ucy5sYWJlbH08L2xhYmVsPixcbiAgICAgIGlucHV0OiAoXG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgIG9uaW5wdXQ9eyhldjogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNoYW5nZWQ/LihwYXJzZUludCgoZXYgYXMgYW55KS50YXJnZXQudmFsdWUpKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIHsuLi4ob3B0aW9ucy5kZWZhdWx0ID8geyB2YWx1ZTogb3B0aW9ucy5kZWZhdWx0IH0gOiB7fSl9XG4gICAgICAgID48L2lucHV0PlxuICAgICAgKSxcbiAgICB9O1xuICB9LFxuICBjb2xvcjogZnVuY3Rpb24gKG9wdGlvbnM6IHtcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIG9uQ2hhbmdlPzogKG46IHN0cmluZykgPT4gYW55O1xuICAgIGRlZmF1bHQ/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBsZXQgY2hhbmdlZCA9IG9wdGlvbnMub25DaGFuZ2U7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiA8bGFiZWw+e29wdGlvbnMubGFiZWx9PC9sYWJlbD4sXG4gICAgICBpbnB1dDogKFxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwiY29sb3JcIlxuICAgICAgICAgIG9uaW5wdXQ9eyhldjogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNoYW5nZWQ/LigoZXYgYXMgYW55KS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgey4uLihvcHRpb25zLmRlZmF1bHQgPyB7IHZhbHVlOiBvcHRpb25zLmRlZmF1bHQgfSA6IHt9KX1cbiAgICAgICAgPjwvaW5wdXQ+XG4gICAgICApLFxuICAgIH07XG4gIH0sXG4gIHJhZGlvOiBmdW5jdGlvbiAob3B0aW9uczoge1xuICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgdmFsdWVzOiB7IG5hbWU6IHN0cmluZzsgbGFiZWw6IHN0cmluZyB8IE5vZGUgfVtdO1xuICAgIG9uQ2hhbmdlPzogKG5hbWU6IHN0cmluZykgPT4gYW55O1xuICAgIGRlZmF1bHQ/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBsZXQgY2hhbmdlZCA9IG9wdGlvbnMub25DaGFuZ2U7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiA8bGFiZWw+e29wdGlvbnMubGFiZWx9PC9sYWJlbD4sXG5cbiAgICAgIGlucHV0OiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgey4uLm9wdGlvbnMudmFsdWVzLm1hcCgob3B0KSA9PiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAge29wdC5sYWJlbH1cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPXtvcHRpb25zLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e29wdC5uYW1lfVxuICAgICAgICAgICAgICAgICAgb25pbnB1dD17KGV2OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkPy4oKGV2IGFzIGFueSkudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICB7Li4uKG9wdC5uYW1lID09PSBvcHRpb25zLmRlZmF1bHQgPyB7IGNoZWNrZWQ6IFwiXCIgfSA6IHt9KX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjFlbTtcIiAvPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvPlxuICAgICAgKSxcbiAgICB9O1xuICB9LFxuICBtdWx0aUJ1dHRvbjogZnVuY3Rpb24gKG9wdGlvbnM6IHtcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIHZhbHVlczogeyBuYW1lOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmcgfCBOb2RlIH1bXTtcbiAgICBvbkNsaWNrPzogKG5hbWU6IHN0cmluZykgPT4gYW55O1xuICAgIGRlZmF1bHQ/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBsZXQgY2xpY2tlZCA9IG9wdGlvbnMub25DbGljaztcbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6IDxsYWJlbD57b3B0aW9ucy5sYWJlbH08L2xhYmVsPixcblxuICAgICAgaW5wdXQ6IChcbiAgICAgICAgPD5cbiAgICAgICAgICB7Li4ub3B0aW9ucy52YWx1ZXMubWFwKChvcHQpID0+IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdmFsdWU9e29wdC5uYW1lfVxuICAgICAgICAgICAgICBvbmNsaWNrPXsoZXY6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY2xpY2tlZD8uKChldiBhcyBhbnkpLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtvcHQubGFiZWx9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC8+XG4gICAgICApLFxuICAgIH07XG4gIH0sXG4gIGN1c3RvbTogZnVuY3Rpb24gKG9wdGlvbnM6IHsgbGFiZWw/OiBOb2RlIHwgc3RyaW5nOyBpbnB1dD86IE5vZGUgfSkge1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDpcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMubGFiZWwgPT09IFwic3RyaW5nXCIgPyAoXG4gICAgICAgICAgPHNwYW4+e29wdGlvbnMubGFiZWx9PC9zcGFuPlxuICAgICAgICApIDogKFxuICAgICAgICAgIG9wdGlvbnMubGFiZWxcbiAgICAgICAgKSxcbiAgICAgIGlucHV0OiBvcHRpb25zLmlucHV0LFxuICAgIH07XG4gIH0sXG59O1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICBhZGRPcHRpb24ob3B0aW9uOiB7IGxhYmVsOiBOb2RlOyBpbnB1dDogTm9kZSB9KTogdW5rbm93bjtcbiAgYWRkPEsgZXh0ZW5kcyBrZXlvZiB0eXBlb2YgT1BUSU9OX1RZUEVTPihcbiAgICBvcHRpb246IHsgdHlwZTogSyB9ICYgUGFyYW1ldGVyczx0eXBlb2YgT1BUSU9OX1RZUEVTW0tdPlswXVxuICApOiBcImhhbmRsZVwiIGV4dGVuZHMga2V5b2YgUmV0dXJuVHlwZTx0eXBlb2YgT1BUSU9OX1RZUEVTW0tdPlxuICAgID8gUmV0dXJuVHlwZTx0eXBlb2YgT1BUSU9OX1RZUEVTW0tdPltcImhhbmRsZVwiXVxuICAgIDogdm9pZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpOiBMYXllcjx1bmRlZmluZWQsIE9wdGlvblBhbmU+IHtcbiAgcmV0dXJuIChjb25maWc6IExheWVyZWRDb25maWcpID0+IHtcbiAgICBsZXQgb3B0aW9uc0ZyYW1lID0gKFxuICAgICAgPGRpdiBjbGFzcz17c3R5bGVzLmNsYXNzLmNvbnRhaW5lcn0+XG4gICAgICAgIDxoMT5PcHRpb25zPC9oMT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG5cbiAgICBsZXQgb3B0aW9uc0J1dHRvbiA9IChcbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYWwtbGFiZWw9XCJPcHRpb25zIFRvZ2dsZVwiXG4gICAgICAgIGNsYXNzPXtzdHlsZXMuY2xhc3MuYnV0dG9ufVxuICAgICAgICB0aXRsZT1cIlNob3cgYWxsIG9wdGlvbnNcIlxuICAgICAgICBfX2h0bWw9e2A8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzcz1cIiR7c3R5bGVzLmNsYXNzLmljb259XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0eWxlPVwiZmlsbDpjdXJyZW50Q29sb3I7XCI+PHBhdGggZD1cIk0xOS45LDEzLjNDMjAsMTIuOCwyMCwxMi40LDIwLDEyczAtMC44LTAuMS0xLjNMMjEuOCw5bC0yLjMtNGwtMi40LDAuOGMtMC43LTAuNS0xLjQtMS0yLjItMS4zTDE0LjMsMkg5LjdMOS4yLDQuNVx0QzguMyw0LjgsNy42LDUuMyw2LjksNS44TDQuNSw1TDIuMiw5bDEuOSwxLjdDNCwxMS4yLDQsMTEuNiw0LDEyYzAsMC40LDAsMC44LDAuMSwxLjNMMi4yLDE1bDIuMyw0bDIuNC0wLjhsMCwwXHRjMC43LDAuNSwxLjQsMSwyLjIsMS4zTDkuNywyMmg0LjdsMC41LTIuNWMwLjgtMC4zLDEuNi0wLjcsMi4yLTEuM2wwLDBsMi40LDAuOGwyLjMtNEwxOS45LDEzLjNMMTkuOSwxMy4zeiBNMTIsMTZcdGMtMi4yLDAtNC0xLjgtNC00YzAtMi4yLDEuOC00LDQtNGMyLjIsMCw0LDEuOCw0LDRDMTYsMTQuMiwxNC4yLDE2LDEyLDE2elwiPjwvcGF0aD48L3N2Zz48c3ZnIGNsYXNzPVwiJHtzdHlsZXMuY2xhc3MuaWNvbl94fVwiIHZlcnNpb249XCIxLjFcIiB2aWV3Qm94PVwiMCAwIDQ2MC43OCA0NjAuNzhcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIm0yODUuMDggMjMwLjQgMTcxLjE0LTE3MS4xM2M2LjA3Ni02LjA3NyA2LjA3Ni0xNS45MTEgMC0yMS45ODZsLTMyLjcwNy0zMi43MTljLTIuOTEzLTIuOTExLTYuODY2LTQuNTUtMTAuOTkyLTQuNTUtNC4xMjcgMC04LjA4IDEuNjM5LTEwLjk5MyA0LjU1bC0xNzEuMTQgMTcxLjE0LTE3MS4xNC0xNzEuMTRjLTIuOTEzLTIuOTExLTYuODY2LTQuNTUtMTAuOTkzLTQuNTUtNC4xMjYgMC04LjA4IDEuNjM5LTEwLjk5MiA0LjU1bC0zMi43MDcgMzIuNzE5Yy02LjA3NyA2LjA3NS02LjA3NyAxNS45MDkgMCAyMS45ODZsMTcxLjE0IDE3MS4xMy0xNzEuMTIgMTcxLjExYy02LjA3NCA2LjA3Ny02LjA3NCAxNS45MTEgMCAyMS45ODZsMzIuNzA5IDMyLjcxOWMyLjkxMSAyLjkxMSA2Ljg2NSA0LjU1IDEwLjk5MiA0LjU1czguMDgtMS42MzkgMTAuOTk0LTQuNTVsMTcxLjEyLTE3MS4xMiAxNzEuMTIgMTcxLjEyYzIuOTEzIDIuOTExIDYuODY2IDQuNTUgMTAuOTkzIDQuNTUgNC4xMjggMCA4LjA4MS0xLjYzOSAxMC45OTItNC41NWwzMi43MDktMzIuNzE5YzYuMDc0LTYuMDc1IDYuMDc0LTE1LjkwOSAwLTIxLjk4NmwtMTcxLjEyLTE3MS4xMXpcIi8+PC9zdmc+YH1cbiAgICAgICAgb25jbGljaz17KCkgPT4ge1xuICAgICAgICAgIGxldCBoaWRkZW4gPSBvcHRpb25zRnJhbWUuc3R5bGUuZGlzcGxheSA9PSBcImJsb2NrXCI7XG4gICAgICAgICAgb3B0aW9uc0ZyYW1lLnN0eWxlLmRpc3BsYXkgPSBoaWRkZW4gPyBcIlwiIDogXCJibG9ja1wiO1xuICAgICAgICAgIGlmIChoaWRkZW4pIG9wdGlvbnNCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgICBlbHNlIG9wdGlvbnNCdXR0b24uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgfX1cbiAgICAgID48L2J1dHRvbj5cbiAgICApO1xuXG4gICAgbGV0IHBhbmUgPSBuZXcgT3B0aW9uUGFuZSgpO1xuICAgIHBhbmUuY29udGFpbmVyLmNsYXNzTmFtZSA9IHN0eWxlcy5jbGFzcy5saXN0O1xuICAgIG9wdGlvbnNGcmFtZS5hcHBlbmQocGFuZS5jb250YWluZXIpO1xuXG4gICAgY29uZmlnLmF0dGFjaFRvU2hhZGRvdyhcbiAgICAgIDxzdHlsZSBfX2h0bWw9e3N0eWxlcy5jc3N9IC8+LFxuICAgICAgb3B0aW9uc0ZyYW1lLFxuICAgICAgb3B0aW9uc0J1dHRvblxuICAgICk7XG5cbiAgICByZXR1cm4geyBub2RlczogdW5kZWZpbmVkLCBoYW5kbGU6IHBhbmUgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hbnVhbFNpemluZyhjb25maWc6IExheWVyZWRDb25maWcpOiB7XG4gIGxhYmVsOiBOb2RlO1xuICBpbnB1dDogTm9kZTtcbn0ge1xuICBsZXQgd2lkdGhJbnB1dDogSFRNTElucHV0RWxlbWVudCA9IChcbiAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3R5bGU9XCJ3aWR0aDo2ZW07XCIgLz5cbiAgICApIGFzIGFueSxcbiAgICBoZWlnaHRJbnB1dDogSFRNTElucHV0RWxlbWVudCA9IChcbiAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3R5bGU9XCJ3aWR0aDo2ZW07XCIgLz5cbiAgICApIGFzIGFueTtcbiAgbGV0IGN1cnJlbnRTaXppbmc6IEhUTUxFbGVtZW50ID0gPHNwYW4+YXV0byBzaXppbmc8L3NwYW4+O1xuXG4gIGxldCBmaXhlZFNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICBpZiAoY29uZmlnLmNvbnRhaW5lckVsZW1lbnQuc3R5bGUud2lkdGggPT09IFwiXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHBhcmVudCA9IGNvbmZpZy5ob3N0RWxlbWVudDtcbiAgICAgIGlmICghcGFyZW50KSByZXR1cm47XG4gICAgICBsZXQgeyBjbGllbnRXaWR0aDogY3csIGNsaWVudEhlaWdodDogY2ggfSA9IGNvbmZpZy5jb250YWluZXJFbGVtZW50O1xuICAgICAgbGV0IHsgY2xpZW50V2lkdGg6IHd3LCBjbGllbnRIZWlnaHQ6IHdoIH0gPSBwYXJlbnQ7XG4gICAgICBsZXQgc2NhbGUgPSBNYXRoLm1pbih3dyAvIGN3LCB3aCAvIGNoKTtcbiAgICAgIGNvbmZpZy5jb250YWluZXJFbGVtZW50LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IFwidG9wIGxlZnRcIjtcbiAgICAgIGNvbmZpZy5jb250YWluZXJFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtcbiAgICAgICAgKHd3IC0gY3cgKiBzY2FsZSkgLyAyXG4gICAgICB9cHgsICR7KHdoIC0gY2ggKiBzY2FsZSkgLyAyfXB4KSBzY2FsZSgke3NjYWxlfSwgJHtzY2FsZX0pYDtcbiAgICB9KSxcbiAgICBvYnNlcnZpbmcgPSBmYWxzZTtcblxuICBsZXQgc2V0U2l6ZSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGxldCBhdXRvID0gd2lkdGggPCAwIHx8IGhlaWdodCA8IDAgfHwgaXNOYU4od2lkdGgpIHx8IGlzTmFOKGhlaWdodCk7XG5cbiAgICAvLyBPbmx5IG9ic2VydmUgd2hlbiB1c2luZyBmaXhlZCB3aWR0aCAvIGhlaWdodFxuICAgIGlmIChhdXRvICYmIG9ic2VydmluZykge1xuICAgICAgZml4ZWRTaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGNvbmZpZy5jb250YWluZXJFbGVtZW50KTtcbiAgICAgIGZpeGVkU2l6ZU9ic2VydmVyLnVub2JzZXJ2ZShjb25maWcuaG9zdEVsZW1lbnQpO1xuICAgICAgb2JzZXJ2aW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICghb2JzZXJ2aW5nICYmICFhdXRvKSB7XG4gICAgICBmaXhlZFNpemVPYnNlcnZlci5vYnNlcnZlKGNvbmZpZy5jb250YWluZXJFbGVtZW50KTtcbiAgICAgIGZpeGVkU2l6ZU9ic2VydmVyLm9ic2VydmUoY29uZmlnLmhvc3RFbGVtZW50KTtcbiAgICAgIG9ic2VydmluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGF1dG8pIHtcbiAgICAgIGNvbmZpZy5jb250YWluZXJFbGVtZW50LnN0eWxlLndpZHRoID0gXCJcIjtcbiAgICAgIGNvbmZpZy5jb250YWluZXJFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgICBjb25maWcuY29udGFpbmVyRWxlbWVudC5zdHlsZS5vdXRsaW5lID0gXCJcIjtcbiAgICAgIGNvbmZpZy5jb250YWluZXJFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwiXCI7XG4gICAgICBjb25maWcuY29udGFpbmVyRWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBcIlwiO1xuXG4gICAgICBjdXJyZW50U2l6aW5nLnRleHRDb250ZW50ID0gXCJhdXRvIHNpemluZ1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcuY29udGFpbmVyRWxlbWVudC5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xuICAgICAgY29uZmlnLmNvbnRhaW5lckVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgICAgY29uZmlnLmNvbnRhaW5lckVsZW1lbnQuc3R5bGUub3V0bGluZSA9IFwiMXB4IGRhc2hlZCBibGFja1wiO1xuXG4gICAgICBjdXJyZW50U2l6aW5nLnRleHRDb250ZW50ID0gd2lkdGggKyBcIiB4IFwiICsgaGVpZ2h0O1xuICAgIH1cblxuICAgIChkaWFsb2cgYXMgYW55KS5jbG9zZSgpO1xuICB9O1xuXG4gIGxldCBkaWFsb2c6IEhUTUxEaWFsb2dFbGVtZW50ID0gKFxuICAgIDxkaWFsb2c+XG4gICAgICA8Zm9ybVxuICAgICAgICBvbnN1Ym1pdD17KCkgPT4ge1xuICAgICAgICAgIHNldFNpemUocGFyc2VJbnQod2lkdGhJbnB1dC52YWx1ZSksIHBhcnNlSW50KGhlaWdodElucHV0LnZhbHVlKSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8cD5DaG9vc2UgbmV3IHNpemU6PC9wPlxuICAgICAgICB7d2lkdGhJbnB1dH1cbiAgICAgICAge1wiIHggXCJ9XG4gICAgICAgIHtoZWlnaHRJbnB1dH1cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJBcHBseVwiIC8+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIHZhbHVlPVwiUmVzZXRcIlxuICAgICAgICAgIG9uY2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIHNldFNpemUoLTEsIC0xKTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZGlhbG9nPlxuICApIGFzIGFueTtcblxuICBsZXQgaW5wdXRzOiBIVE1MRWxlbWVudCwgYXV0bzogSFRNTEVsZW1lbnQ7XG5cbiAgaW5wdXRzID0gKFxuICAgIDxzcGFuPlxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICB2YWx1ZT1cIkNoYW5nZVwiXG4gICAgICAgIG9uY2xpY2s9eygpID0+IHtcbiAgICAgICAgICAoZGlhbG9nIGFzIGFueSkuc2hvd01vZGFsKCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAge2RpYWxvZ31cbiAgICA8L3NwYW4+XG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBsYWJlbDogPHNwYW4+Q2FudmFzIHNpemUgKHtjdXJyZW50U2l6aW5nfSk8L3NwYW4+LFxuICAgIGlucHV0OiBpbnB1dHMsXG4gIH07XG59XG5cbmV4cG9ydCB0eXBlIE9wdGlvbjxLIGV4dGVuZHMga2V5b2YgdHlwZW9mIE9QVElPTl9UWVBFUz4gPSBbXG4gIHR5cGU6IEssXG4gIC4uLmFyZ3M6IFBhcmFtZXRlcnM8dHlwZW9mIE9QVElPTl9UWVBFU1tLXT5cbl07XG5cbnR5cGUgT3B0aW9uUmV0dXJuPEYgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IHsgW2tleTogc3RyaW5nXTogYW55IH0+ID1cbiAgXCJoYW5kbGVcIiBleHRlbmRzIGtleW9mIFJldHVyblR5cGU8Rj4gPyBSZXR1cm5UeXBlPEY+W1wiaGFuZGxlXCJdIDogdm9pZDtcblxuZXhwb3J0IGNsYXNzIE9wdGlvblBhbmUge1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50ID0gKDxkaXY+PC9kaXY+KTtcblxuICBhZGQ8SyBleHRlbmRzIGtleW9mIHR5cGVvZiBPUFRJT05fVFlQRVM+KFxuICAgIGFyZ3M6IFt0eXBlOiBLLCAuLi5hcmdzOiBQYXJhbWV0ZXJzPHR5cGVvZiBPUFRJT05fVFlQRVNbS10+XVxuICApOiBPcHRpb25SZXR1cm48dHlwZW9mIE9QVElPTl9UWVBFU1tLXT47XG5cbiAgYWRkPEsgZXh0ZW5kcyBrZXlvZiB0eXBlb2YgT1BUSU9OX1RZUEVTPihcbiAgICB0eXBlOiBLLFxuICAgIC4uLmFyZ3M6IFBhcmFtZXRlcnM8dHlwZW9mIE9QVElPTl9UWVBFU1tLXT5cbiAgKTogT3B0aW9uUmV0dXJuPHR5cGVvZiBPUFRJT05fVFlQRVNbS10+O1xuXG4gIGFkZDxGIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuICAgIGZhY3Rvcnk6IEYsXG4gICAgLi4uYXJnczogUGFyYW1ldGVyczxGPlxuICApOiBPcHRpb25SZXR1cm48Rj47XG5cbiAgYWRkPEYgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG4gICAgYXJnczogW2ZhY3Rvcnk6IEYsIC4uLmFyZ3M6IFBhcmFtZXRlcnM8Rj5dXG4gICk6IE9wdGlvblJldHVybjxGPjtcblxuICBhZGQodHlwZU9yRmFjdG9yeTogYW55LCAuLi5hcmdzOiBhbnlbXSk6IGFueSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZU9yRmFjdG9yeSkpIHtcbiAgICAgIGFyZ3MgPSB0eXBlT3JGYWN0b3J5LnNsaWNlKDEpO1xuICAgICAgdHlwZU9yRmFjdG9yeSA9IHR5cGVPckZhY3RvcnlbMF07XG4gICAgfVxuICAgIGxldCBmYWN0b3J5OiAoLi4uYXJnczogYW55W10pID0+IGFueSA9XG4gICAgICB0eXBlb2YgdHlwZU9yRmFjdG9yeSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gdHlwZU9yRmFjdG9yeVxuICAgICAgICA6IChPUFRJT05fVFlQRVMgYXMgYW55KVt0eXBlT3JGYWN0b3J5XTtcbiAgICB2YXIgb3B0ID0gZmFjdG9yeSguLi5hcmdzKTtcbiAgICBjb25zb2xlLmxvZyhvcHQpO1xuICAgIHRoaXMuYWRkT3B0aW9uKG9wdCk7XG4gICAgaWYgKFwiaGFuZGxlXCIgaW4gb3B0KSByZXR1cm4gKG9wdCBhcyBhbnkpLmhhbmRsZTtcbiAgICByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcbiAgfVxuXG4gIGFkZE9wdGlvbihvcHRpb246IHsgbGFiZWw/OiBOb2RlOyBpbnB1dD86IE5vZGUgfSkge1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKFxuICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDEwcHg7XCI+XG4gICAgICAgIHtvcHRpb24ubGFiZWwgPyAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxiPntvcHRpb24ubGFiZWx9OjwvYj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICBbXVxuICAgICAgICApfVxuICAgICAgICA8ZGl2PntvcHRpb24uaW5wdXR9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0ICogYXMgZG9tIGZyb20gXCJAbGliL0RvbUVsZW1lbnRcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vaW5kZXguY3NzXCI7XG5cbmV4cG9ydCB0eXBlIExheWVySGFuZGxlciA9IHtcbiAgLyoqXG4gICAqIFNldHVwIGZvciB0aGUgTGF5ZXJlZEVsZW1lbnRcbiAgICovXG4gIGNvbm5lY3RlZD86IChjb25maWc6IExheWVyZWRDb25maWcpID0+IGFueTtcbiAgZGlzY29ubmVjdGVkPzogKGNvbmZpZzogTGF5ZXJlZENvbmZpZykgPT4gYW55O1xuICByZXNpemVkPzogKGNvbmZpZzogTGF5ZXJlZENvbmZpZykgPT4gYW55O1xufTtcblxuLyoqXG4gKiBDb25maWcgT2JqZWN0IGZvciBhIExheWVyZWRFbGVtZW50LlxuICovXG5leHBvcnQgdHlwZSBMYXllcmVkQ29uZmlnID0ge1xuICAvKiogVGhlIGN1cnJlbnQgd2lkdGggaW4gQ1NTUGl4ZWxzICovXG4gIHJlYWRvbmx5IHdpZHRoOiBudW1iZXI7XG4gIC8qKiBUaGUgY3VycmVudCBoZWlnaHQgaW4gQ1NTUGl4ZWxzICovXG4gIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyO1xuICAvKiogVGhlIGVsZW1lbnQgdGhhdCBjb250YWlucyBhbGwgbGF5ZXJzICovXG4gIHJlYWRvbmx5IGNvbnRhaW5lckVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuICAvKiogVGhlIHdlYmNvbXBvbmVudCBob3N0IGVsZW1lbnQgKi9cbiAgcmVhZG9ubHkgaG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAvKiogUmVkcmF3IGEgc2luZ2xlIGxheWVyLiBJbXByb3ZlZCBwZXJmb3JtYW5jZSB3aGVuIHVzaW5nIHN0cmluZy4gKi9cbiAgdXBkYXRlKGxheWVyPzogc3RyaW5nIHwgTGF5ZXJPYmplY3Q8YW55Pik6IHVua25vd247XG4gIC8qKiBBZGQgQ1NTIHRvIHRoZSBzdHlsZXNoZWV0IGluIHRoZSBzaGFkZG93IGRvbSAqL1xuICBhZGRTdHlsZXMoY3NzOiBzdHJpbmcpOiB1bmtub3duO1xuICAvKiogQWRkIGEgbGF5ZXIgdG8gdGhlIGVsZW1lbnQuICovXG4gIGFkZExheWVyKG5hbWU6IHN0cmluZywgbGF5ZXI6IE5vZGUpOiB1bmtub3duO1xuICBhZGRMYXllcjxPPihuYW1lOiBzdHJpbmcsIGxheWVyOiBMYXllcjxhbnksIE8+KTogTGF5ZXJIYW5kbGU8Tz47XG4gIC8qKiBBdHRhY2ggYSBub2RlIGRpcmVjdGx5IHRvIHRoZSBzaGFkZG93IGRvbSAqL1xuICBhdHRhY2hUb1NoYWRkb3coLi4ubm9kZTogTm9kZVtdKTogdW5rbm93bjtcbn07XG5cbi8qKlxuICogTzogVGhlIGZpZWxkcyB0aGF0IHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIExheWVySGFuZGxlXG4gKiBOOiBUeXBlIG9mIG5vZGVzIHRvIGF0dGFjaFxuICovXG5leHBvcnQgdHlwZSBMYXllck9iamVjdDxcbiAgTiBleHRlbmRzIE5vZGUgfCBOb2RlW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gIE8gPSB1bmRlZmluZWRcbj4gPSB7XG4gIGNvbm5lY3RlZDogKFxuICAgIGNvbmZpZzogTGF5ZXJlZENvbmZpZ1xuICApID0+IE4gZXh0ZW5kcyB1bmRlZmluZWRcbiAgICA/IE8gZXh0ZW5kcyB1bmRlZmluZWRcbiAgICAgID8ge31cbiAgICAgIDogeyBoYW5kbGU6IE8gfVxuICAgIDogTyBleHRlbmRzIHVuZGVmaW5lZFxuICAgID8geyBub2RlczogTiB9XG4gICAgOiB7IG5vZGVzOiBOOyBoYW5kbGU6IE8gfTtcbiAgZGlzY29ubmVjdGVkPzogKGNvbmZpZzogTGF5ZXJlZENvbmZpZykgPT4gdW5rbm93bjtcblxuICB1cGRhdGU/OiAoY29uZmlnOiBMYXllcmVkQ29uZmlnLCBub2RlczogTikgPT4gdW5rbm93bjtcbiAgcmVzaXplZD86IChjb25maWc6IExheWVyZWRDb25maWcsIG5vZGVzOiBOKSA9PiB1bmtub3duO1xufTtcbmV4cG9ydCB0eXBlIExheWVyPE4gZXh0ZW5kcyBOb2RlIHwgTm9kZVtdIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBPID0ge30+ID1cbiAgfCAoKFxuICAgICAgY29uZmlnOiBMYXllcmVkQ29uZmlnXG4gICAgKSA9PiBOIGV4dGVuZHMgdW5kZWZpbmVkXG4gICAgICA/IE8gZXh0ZW5kcyB1bmRlZmluZWRcbiAgICAgICAgPyB7fVxuICAgICAgICA6IHsgaGFuZGxlOiBPIH1cbiAgICAgIDogTyBleHRlbmRzIHVuZGVmaW5lZFxuICAgICAgPyB7IG5vZGVzOiBOIH1cbiAgICAgIDogeyBub2RlczogTjsgaGFuZGxlOiBPIH0pXG4gIHwgTGF5ZXJPYmplY3Q8TiwgTz47XG5cbi8qKiBUaGUgaGFuZGxlIHJldHVybmVkIGJ5IGFkZExheWVyICovXG5leHBvcnQgdHlwZSBMYXllckhhbmRsZTxPPiA9IHtcbiAgW05hbWUgaW4gRXhjbHVkZTxrZXlvZiBPLCBcIm5vZGVzXCIgfCBcInVwZGF0ZVwiPl06IE9bTmFtZV07XG59ICYgeyB1cGRhdGUoKTogdW5rbm93biB9O1xuXG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbnZhcyB9IGZyb20gXCIuL0NhbnZhc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBPcHRpb25zIH0gZnJvbSBcIi4vT3B0aW9uc1wiO1xuXG5hYnN0cmFjdCBjbGFzcyBMYXllcmVkRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgLyoqIENvbnRhaW5lciBmb3IgdGhlIGNhbnZhc2VzICovXG4gIHByaXZhdGUgc2hhZG93OiBTaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coe1xuICAgIG1vZGU6IFwib3BlblwiLFxuICB9KTtcbiAgcHJpdmF0ZSBjbGVhbnVwOiAoKCkgPT4gYW55KVtdID0gW107XG4gIGFic3RyYWN0IGxheWVySGFuZGxlcjogTGF5ZXJIYW5kbGVyO1xuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuc2hhZG93O1xuICAgIHNoYWRvdy5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgY29uc3Qgc3R5bGUgPSBkb20uRWxlbWVudChcInN0eWxlXCIsIFtzdHlsZXMuY3NzXSk7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9tLkVsZW1lbnQoXCJkaXZcIiwgW10sIHtcbiAgICAgIGNsYXNzOiBzdHlsZXMuY2xhc3MuY29udGFpbmVyLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc2l6ZU9icyA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICB0aGlzLmxheWVySGFuZGxlci5yZXNpemVkPy4oY29uZmlnKTtcbiAgICAgIGZvciAodmFyIGxheWVyIG9mIGxheWVycy52YWx1ZXMoKSlcbiAgICAgICAgbGF5ZXIubGF5ZXI/LnJlc2l6ZWQ/Lihjb25maWcsIGxheWVyLm5vZGVzKTtcbiAgICB9KTtcbiAgICByZXNpemVPYnMub2JzZXJ2ZShjb250YWluZXIpO1xuICAgIHNoYWRvdy5hcHBlbmQoc3R5bGUsIGNvbnRhaW5lcik7XG5cbiAgICBjb25zdCBsYXllcnM6IE1hcDxcbiAgICAgIHN0cmluZyxcbiAgICAgIHsgbm9kZXM/OiBOb2RlIHwgTm9kZVtdOyBsYXllcj86IExheWVyT2JqZWN0PGFueSwgYW55PjsgdXBkYXRlOiBib29sZWFuIH1cbiAgICA+ID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqIFdoZW4gY2hhbmdpbmcgZnJvbSAwIGFuIGFuaW1hdGlvbiBmcmFtZVxuICAgICAqIGZvciB1cGRhdGVMYXllcnMgbmVlZHMgdG8gYmUgc2NoZWR1bGVkXG4gICAgICogMCBubyB1cGRhdGVzLCAxIHVwZGF0ZSBzb21lIGxheWVycywgMiB1cGRhdGUgYWxsXG4gICAgICovXG4gICAgbGV0IHVwZGF0ZVN0YXRlOiAwIHwgMSB8IDIgPSAwO1xuICAgIGNvbnN0IHVwZGF0ZUxheWVycyA9ICgpID0+IHtcbiAgICAgIGxldCBhbGwgPSB1cGRhdGVTdGF0ZSA9PT0gMjtcbiAgICAgIHVwZGF0ZVN0YXRlID0gMDtcbiAgICAgIGZvciAodmFyIGxheWVyIG9mIGxheWVycy52YWx1ZXMoKSkge1xuICAgICAgICBpZiAoYWxsIHx8IGxheWVyLnVwZGF0ZSlcbiAgICAgICAgICBsYXllci5sYXllcj8udXBkYXRlPy4oY29uZmlnLCBsYXllci5ub2RlcyBhcyBhbnkpO1xuICAgICAgICBsYXllci51cGRhdGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY29uZmlnOiBMYXllcmVkQ29uZmlnID0ge1xuICAgICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gY29udGFpbmVyLmNsaWVudFdpZHRoO1xuICAgICAgfSxcbiAgICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgfSxcbiAgICAgIGNvbnRhaW5lckVsZW1lbnQ6IGNvbnRhaW5lcixcbiAgICAgIGhvc3RFbGVtZW50OiB0aGlzLFxuICAgICAgdXBkYXRlOiBmdW5jdGlvbiAobGF5ZXI/OiBzdHJpbmcgfCBMYXllck9iamVjdDxhbnk+KTogdW5rbm93biB7XG4gICAgICAgIGlmICh1cGRhdGVTdGF0ZSA9PT0gMikgcmV0dXJuO1xuICAgICAgICBpZiAodXBkYXRlU3RhdGUgPT09IDApIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVMYXllcnMpO1xuICAgICAgICBpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwZGF0ZVN0YXRlID0gMjtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsYXllciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHVwZGF0ZVN0YXRlID0gMTtcbiAgICAgICAgICBsZXQgbCA9IGxheWVycy5nZXQobGF5ZXIpO1xuICAgICAgICAgIGlmIChsKSBsLnVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGwgb2YgbGF5ZXJzLnZhbHVlcygpKSB7XG4gICAgICAgICAgaWYgKGxheWVyID09PSBsLmxheWVyKSBsLnVwZGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhZGRTdHlsZXM6IGZ1bmN0aW9uIChjc3M6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBzdHlsZS5hcHBlbmQoY3NzKTtcbiAgICAgIH0sXG4gICAgICBhZGRMYXllcjogZnVuY3Rpb24gPE8+KG5hbWU6IHN0cmluZywgbGF5ZXI6IE5vZGUgfCBMYXllcjxhbnksIE8+KTogYW55IHtcbiAgICAgICAgLy8gTWFudWFsbHkgY2hlY2sgdGhhdCByZXR1cm4gdHlwZSBpcyBjb3JyZWN0XG4gICAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobGF5ZXIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXllck9iamVjdDogdW5kZWZpbmVkIHwgTGF5ZXJPYmplY3Q8YW55LCBhbnk+LFxuICAgICAgICAgIGluc3RhbmNlOiB7IG5vZGVzPzogTm9kZSB8IE5vZGVbXTsgaGFuZGxlPzogTyB9O1xuICAgICAgICBpZiAodHlwZW9mIGxheWVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBpbnN0YW5jZSA9IGxheWVyKGNvbmZpZyk7XG4gICAgICAgICAgbGF5ZXJPYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5zdGFuY2UgPSBsYXllci5jb25uZWN0ZWQoY29uZmlnKTtcbiAgICAgICAgICBsYXllck9iamVjdCA9IGxheWVyO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5vZGVzID0gaW5zdGFuY2Uubm9kZXM7XG4gICAgICAgIGlmIChub2Rlcykge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGVzKSkgY29udGFpbmVyLmFwcGVuZCguLi5ub2Rlcyk7XG4gICAgICAgICAgZWxzZSBjb250YWluZXIuYXBwZW5kKG5vZGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxheWVycy5zZXQobmFtZSwgeyBub2RlcywgbGF5ZXI6IGxheWVyT2JqZWN0LCB1cGRhdGU6IGZhbHNlIH0pO1xuICAgICAgICBjb25maWcudXBkYXRlKG5hbWUpO1xuXG4gICAgICAgIGxldCBoYW5kbGU6IExheWVySGFuZGxlPE8+ID0gaW5zdGFuY2UuaGFuZGxlIGFzIGFueTtcbiAgICAgICAgaWYgKCFoYW5kbGUpIGhhbmRsZSA9IHt9IGFzIGFueTtcbiAgICAgICAgaGFuZGxlLnVwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZShuYW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gaGFuZGxlO1xuICAgICAgfSxcbiAgICAgIGF0dGFjaFRvU2hhZGRvdyguLi5ub2RlczogTm9kZVtdKSB7XG4gICAgICAgIHNoYWRvdy5hcHBlbmQoLi4ubm9kZXMpO1xuICAgICAgfSxcbiAgICB9O1xuXG4gICAgdGhpcy5sYXllckhhbmRsZXIuY29ubmVjdGVkPy4oY29uZmlnKTtcblxuICAgIHRoaXMuY2xlYW51cC5wdXNoKCgpID0+IHtcbiAgICAgIHJlc2l6ZU9icy51bm9ic2VydmUoY29udGFpbmVyKTtcbiAgICAgIGZvciAodmFyIGxheWVyIG9mIGxheWVycy52YWx1ZXMoKSkge1xuICAgICAgICBsYXllci5sYXllcj8uZGlzY29ubmVjdGVkPy4oY29uZmlnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGF5ZXJIYW5kbGVyLmRpc2Nvbm5lY3RlZD8uKGNvbmZpZyk7XG4gICAgfSk7XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBmb3IgKHZhciBjbGVhbiBvZiB0aGlzLmNsZWFudXApIGNsZWFuKCk7XG4gICAgdGhpcy5jbGVhbnVwID0gW107XG4gICAgdGhpcy5zaGFkb3cuaW5uZXJIVE1MID0gXCJcIjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGF5ZXJlZENvbXBvbmVudChoYW5kbGVyOiBMYXllckhhbmRsZXIpIHtcbiAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgTGF5ZXJlZEVsZW1lbnQge1xuICAgIGxheWVySGFuZGxlciA9IGhhbmRsZXI7XG4gIH07XG59XG4iLCAiaW1wb3J0IHtcbiAgQ29tcGxleFNjVHIsXG4gIGRyYXdDYXJ0aGVzaWFuMkRBeGlzLFxuICBhbm5vdGF0ZUNhcnRoZXNpYW4yREF4aXMsXG59IGZyb20gXCIuLi9jYW52YXMvYXhpc1wiO1xuaW1wb3J0ICogYXMgcmVuZGVyIGZyb20gXCIuLi9yZW5kZXJlclwiO1xuaW1wb3J0IHsgQkJTcHJpdGUsIEZyYWNTcHJpdGUsIFRleHRTcHJpdGUgfSBmcm9tIFwiLi4vY2FudmFzL3Nwcml0ZXNcIjtcbmltcG9ydCB7IERyYWdab29tSG92ZXIgfSBmcm9tIFwiLi4vbW9kdWxlcy9JbnRlcmFjdFwiO1xuaW1wb3J0IHsgQ29tcGxleCB9IGZyb20gXCIuLi9tb2R1bGVzL21hdGhcIjtcbmltcG9ydCAqIGFzIGxheWVycyBmcm9tIFwiLi9sYXllcnNcIjtcbmltcG9ydCB7IHJ1bkluQ29udGV4dCB9IGZyb20gXCJ2bVwiO1xuaW1wb3J0ICogYXMgYXN5bmNMaWIgZnJvbSBcIkBsaWIvbW9kdWxlcy9Bc3luY1wiO1xuaW1wb3J0IHsgbWFudWFsU2l6aW5nIH0gZnJvbSBcIi4vbGF5ZXJzL09wdGlvbnNcIjtcblxuZnVuY3Rpb24gZG93bmxvYWQoXG4gIGNvbnRlbnQ6IHN0cmluZyxcbiAgbmFtZTogc3RyaW5nLFxuICBkYXRhVHlwZTogc3RyaW5nID0gXCJ0ZXh0L3BsYWluXCJcbikge1xuICBsZXQgZGF0YSA9IGBkYXRhOiR7ZGF0YVR5cGV9O2Jhc2U2NCwke3dpbmRvdy5idG9hKGNvbnRlbnQpfWA7XG4gIGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGxpbmsuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIiwgbmFtZSk7XG4gIGxpbmsuaHJlZiA9IGRhdGE7XG4gIGxpbmsuY2xpY2soKTtcbn1cblxuY29uc3QgZm9yZENpcmNsZXNJblVuaXRTcGhlcmUgPSBhc3luY0xpYi53cmFwLmFzeW5jKGZ1bmN0aW9uKiAoXG4gIHI6IHJlbmRlci5SZW5kZXJlcjJELFxuICBROiBudW1iZXIsXG4gIG9wdGlvbnM6IHsgcHJvamVjdGlvbjogeyBvcmlnaW46IFtudW1iZXIsIG51bWJlcl07IHNjYWxlOiBudW1iZXIgfSB9XG4pIHtcbiAgbGV0IG1lYXN1cmUgPSBuZXcgcmVuZGVyLkNhbnZhcyhcbiAgICBkb2N1bWVudFxuICAgICAgLmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIilcbiAgICAgIC5nZXRDb250ZXh0KFwiMmRcIikgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXG4gICk7XG4gIGxldCB7IHByb2plY3Rpb24gfSA9IG9wdGlvbnM7XG4gIGxldCB7IG9yaWdpbiwgc2NhbGUgfSA9IHByb2plY3Rpb247XG5cbiAgci5maWxsU3R5bGUgPSBcIiNBQUFBQUFcIjtcbiAgci5iZWdpblBhdGgoKTtcbiAgci5hcmMoLi4ub3JpZ2luLCBzY2FsZSwgMCwgMiAqIE1hdGguUEkgLSAwLjAxLCB0cnVlKTtcbiAgci5maWxsQW5kU3Ryb2tlKCk7XG4gIC8vZG9tYWluQ2lyY2xlKHIsIFswLCAwLjVdLCAwLjUsIHByKTtcbiAgLy9yLnN0cm9rZSgpO1xuXG4gIGxldCBmciA9IEZhcmV5RnJhY3Rpb25zKFEpO1xuXG4gIGxldCBmcyA9IDEyO1xuICByLmZvbnRTaXplID0gZnM7XG4gIGxldCB0ZXh0VXBUbyA9IFE7IC8vYmVzdFEocHIuc2NhbGUsIGZzKSArIDU7XG4gIGxldCBhbm5vdGF0aW9uczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdW11bXSA9IEFycmF5KHRleHRVcFRvKVxuICAgIC5maWxsKG51bGwpXG4gICAgLm1hcCgoKSA9PiBbXSk7XG5cbiAgci5maWxsU3R5bGUgPSBcIiNGRkZGRkZcIjtcbiAgZm9yIChsZXQgW2EsIGJdIG9mIGZyKSB7XG4gICAgeWllbGQ7XG5cbiAgICBsZXQgc2VnbWVudHMgPSAxMDtcbiAgICBpZiAoYSA9PSAwKSBjb250aW51ZTtcbiAgICBpZiAoYiA9PT0gMSkgc2VnbWVudHMgPSA0MDtcbiAgICBsZXQgeFBvc2l0aW9uID0gYSAvIGI7XG4gICAgbGV0IHJhZGl1cyA9IDAuNSAvIGIgLyBiO1xuICAgIGxldCBtaWRQID0gZG9tYWluQ2lyY2xlKFxuICAgICAgcixcbiAgICAgIFt4UG9zaXRpb24sIHJhZGl1c10sXG4gICAgICByYWRpdXMsXG4gICAgICBwcm9qZWN0aW9uLFxuICAgICAgc2VnbWVudHNcbiAgICApO1xuICAgIHIuZmlsbEFuZFN0cm9rZSgpO1xuICAgIGlmIChiIDw9IHRleHRVcFRvKSBhbm5vdGF0aW9uc1tiIC0gMV0ucHVzaChbYSwgbWlkUFswXSwgbWlkUFsxXV0pO1xuICB9XG5cbiAgci5maWxsU3R5bGUgPSBcIiM1NTU1NTVcIjtcbiAgZm9yIChsZXQgcTAgPSAwOyBxMCA8IGFubm90YXRpb25zLmxlbmd0aDsgcTArKykge1xuICAgIGxldCBxID0gcTAgKyAxO1xuXG4gICAgci5mb250U2l6ZSA9IHEgPT0gMSA/IHNjYWxlIC8gMiA6IHNjYWxlIC8gcSAvIHE7XG4gICAgbWVhc3VyZS5mb250U2l6ZSA9IHEgPT0gMSA/IHNjYWxlIC8gMiA6IHNjYWxlIC8gcSAvIHE7XG4gICAgbGV0IHFTcHJpdGU7XG4gICAgZm9yIChsZXQgW3AsIG0wLCBtMV0gb2YgYW5ub3RhdGlvbnNbcTBdKSB7XG4gICAgICBpZiAocSA9PSAxKSB7XG4gICAgICAgIFRleHRTcHJpdGUobWVhc3VyZSwgXCJcIiArIHApLmRyYXcociwgbTAsIG0xKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBxU3ByaXRlID8/PSBUZXh0U3ByaXRlKG1lYXN1cmUsIFwiXCIgKyBxKTtcbiAgICAgIEZyYWNTcHJpdGUoVGV4dFNwcml0ZShtZWFzdXJlLCBcIlwiICsgcCksIHFTcHJpdGUpLmRyYXcociwgbTAsIG0xKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5jb25zdCBmb3JkQ2lyY2xlc0luUGxhbmUgPSBhc3luY0xpYi53cmFwLmFzeW5jKGZ1bmN0aW9uKiAoXG4gIHI6IHJlbmRlci5SZW5kZXJlcjJELFxuICBROiBudW1iZXIsXG4gIG9wdGlvbnM6IHtcbiAgICBwcm9qZWN0aW9uOiB7IG9yaWdpbjogW251bWJlciwgbnVtYmVyXTsgc2NhbGU6IG51bWJlciB9O1xuICB9XG4pIHtcbiAgbGV0IG1lYXN1cmUgPSBuZXcgcmVuZGVyLkNhbnZhcyhcbiAgICBkb2N1bWVudFxuICAgICAgLmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIilcbiAgICAgIC5nZXRDb250ZXh0KFwiMmRcIikgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXG4gICk7XG5cbiAgci5maWxsU3R5bGUgPSBcIiNBQUFBQUFcIjtcbiAgbGV0IHsgd2lkdGgsIGhlaWdodCB9ID0gciBhcyBhbnk7XG4gIHIubW92ZVRvKDAsIDApXG4gICAgLmxpbmVUbygwLCBoZWlnaHQpXG4gICAgLmxpbmVUbyh3aWR0aCwgaGVpZ2h0KVxuICAgIC5saW5lVG8od2lkdGgsIDApXG4gICAgLmNsb3NlUGF0aCgpXG4gICAgLmZpbGwoKTtcbiAgci5maWxsU3R5bGUgPSBcIiMwMDAwMDBcIjtcbiAgbGV0IHsgcHJvamVjdGlvbiB9ID0gb3B0aW9ucztcbiAgbGV0IHsgb3JpZ2luLCBzY2FsZSB9ID0gcHJvamVjdGlvbjtcblxuICBsZXQgZnMgPSAxMjtcbiAgci5mb250U2l6ZSA9IGZzO1xuICBsZXQgdGV4dFVwVG8gPSBROyAvL2Jlc3RRKHByLnNjYWxlLCBmcykgKyA1O1xuICBsZXQgYW5ub3RhdGlvbnM6IG51bWJlcltdW10gPSBBcnJheSh0ZXh0VXBUbylcbiAgICAuZmlsbChudWxsKVxuICAgIC5tYXAoKCkgPT4gW10pO1xuXG4gIHIubGluZVdpZHRoID0gMS4yNTtcbiAgci5mb250U2l6ZSA9IDEwO1xuICBkcmF3Q2FydGhlc2lhbjJEQXhpcyhyIGFzIGFueSwgcHJvamVjdGlvbiwgeyBub1k6IHRydWUsIGxhYmVsWDogXCJcIiB9KTtcbiAgYW5ub3RhdGVDYXJ0aGVzaWFuMkRBeGlzKHIgYXMgYW55LCBcInhcIiwgcHJvamVjdGlvbiwgW1xuICAgIHsgc3ByaXRlOiBUZXh0U3ByaXRlKG1lYXN1cmUsIFwiMFwiKSwgYXQ6IDAgfSxcbiAgICB7IHNwcml0ZTogVGV4dFNwcml0ZShtZWFzdXJlLCBcIjFcIiksIGF0OiAxIH0sXG4gIF0pO1xuXG4gIGxldCBmcmFjdGlvbnMgPSBGYXJleUZyYWN0aW9ucyhRKTtcblxuICBmdW5jdGlvbiBtYXAocjogbnVtYmVyLCBpOiBudW1iZXIpIHtcbiAgICByZXR1cm4gW3IgKiBzY2FsZSArIG9yaWdpblswXSwgLWkgKiBzY2FsZSArIG9yaWdpblsxXV0gYXMgW251bWJlciwgbnVtYmVyXTtcbiAgfVxuXG4gIC8vIEZpbmQgYWxsIGZyYWNpb25zIG9uIHNjcmVlblxuXG4gIHIuZmlsbFN0eWxlID0gXCIjRkZGRkZGXCI7XG4gIGZvciAobGV0IFthLCBiXSBvZiBmcmFjdGlvbnMpIHtcbiAgICB5aWVsZDtcblxuICAgIGxldCB4UG9zaXRpb24gPSBhIC8gYjtcbiAgICBsZXQgcmFkaXVzID0gMC41IC8gYiAvIGI7XG5cbiAgICByLmJlZ2luUGF0aCgpO1xuICAgIHIuYXJjKFxuICAgICAgLi4ubWFwKHhQb3NpdGlvbiwgcmFkaXVzKSxcbiAgICAgIHJhZGl1cyAqIHNjYWxlLFxuICAgICAgMCxcbiAgICAgIDIgKiBNYXRoLlBJIC0gMC4wMSxcbiAgICAgIHRydWVcbiAgICApO1xuICAgIHIuY2xvc2VQYXRoKCk7XG4gICAgci5zdHJva2UoKTtcbiAgICByLmZpbGwoKTtcblxuICAgIGlmIChiIDwgdGV4dFVwVG8pIGFubm90YXRpb25zW2IgLSAxXS5wdXNoKGEpO1xuICB9XG4gIGxldCBkID0gMDtcbiAgci5maWxsU3R5bGUgPSBcIiMwMDAwMDBcIjtcbiAgZm9yIChsZXQgcTAgPSAwOyBxMCA8IGFubm90YXRpb25zLmxlbmd0aDsgcTArKykge1xuICAgIGxldCBxID0gcTAgKyAxO1xuXG4gICAgci5mb250U2l6ZSA9IChzY2FsZSAqIDAuMykgLyBxIC8gcTtcbiAgICBtZWFzdXJlLmZvbnRTaXplID0gKHNjYWxlICogMC4zKSAvIHEgLyBxO1xuICAgIGxldCBxU3ByaXRlO1xuICAgIGZvciAobGV0IHAgb2YgYW5ub3RhdGlvbnNbcTBdKSB7XG4gICAgICB5aWVsZDtcbiAgICAgIGxldCB4ID0gbWFwKHAgLyBxLCAwKVswXTtcbiAgICAgIGlmICh4IDwgLTIgKiBmcyB8fCB4ID4gd2lkdGggKyAyICogZnMpIGNvbnRpbnVlO1xuICAgICAgZCsrO1xuICAgICAgcVNwcml0ZSA/Pz0gVGV4dFNwcml0ZShtZWFzdXJlLCBcIlwiICsgcSk7XG4gICAgICBGcmFjU3ByaXRlKFRleHRTcHJpdGUobWVhc3VyZSwgXCJcIiArIHApLCBxU3ByaXRlKS5kcmF3KFxuICAgICAgICByLFxuICAgICAgICAuLi5tYXAocCAvIHEsIDAuNSAvIHEgLyBxKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBkb21haW5DaXJjbGUoXG4gIHI6IHJlbmRlci5SZW5kZXJlcjJELFxuICBjZW50ZXI6IFtudW1iZXIsIG51bWJlcl0sXG4gIHJhZGl1czogbnVtYmVyLFxuICBwcm9qZWN0aW9uOiB7IG9yaWdpbjogW251bWJlciwgbnVtYmVyXTsgc2NhbGU6IG51bWJlciB9LFxuICBzZWdtZW50cyA9IDIwXG4pIHtcbiAgbGV0IHsgb3JpZ2luID0gWzAsIDBdLCBzY2FsZSA9IDEgfSA9IHByb2plY3Rpb24gfHwge307XG4gIGZ1bmN0aW9uIG1hcChyOiBudW1iZXIsIGk6IG51bWJlcikge1xuICAgIGxldCBhYnMgPSBNYXRoLmV4cCgtMiAqIE1hdGguUEkgKiBpKTtcbiAgICByZXR1cm4gW1xuICAgICAgTWF0aC5jb3MoMiAqIE1hdGguUEkgKiByKSAqIGFicyAqIHNjYWxlICsgb3JpZ2luWzBdLFxuICAgICAgLU1hdGguc2luKDIgKiBNYXRoLlBJICogcikgKiBhYnMgKiBzY2FsZSArIG9yaWdpblsxXSxcbiAgICBdIGFzIFtudW1iZXIsIG51bWJlcl07XG4gIH1cblxuICBsZXQgc3RlcFNpemUgPSAoMiAqIE1hdGguUEkpIC8gc2VnbWVudHM7XG5cbiAgbGV0IGxlbiA9IDA7XG4gIGxldCBtaWRkbGVQID0gWzAsIDBdO1xuXG4gIHIuYmVnaW5QYXRoKCk7XG4gIGxldCBvbGRQID0gbWFwKGNlbnRlclswXSArIHJhZGl1cywgY2VudGVyWzFdKTtcbiAgci5tb3ZlVG8oLi4ub2xkUCk7XG4gIGZvciAobGV0IHMgPSAxOyBzIDwgc2VnbWVudHMgKyAxOyBzKyspIHtcbiAgICBsZXQgbmV3UCA9IG1hcChcbiAgICAgIGNlbnRlclswXSArIE1hdGguY29zKHN0ZXBTaXplICogcykgKiByYWRpdXMsXG4gICAgICBjZW50ZXJbMV0gKyBNYXRoLnNpbihzdGVwU2l6ZSAqIHMpICogcmFkaXVzXG4gICAgKTtcbiAgICBsZXQgbWlkUCA9IG1hcChcbiAgICAgIGNlbnRlclswXSArIE1hdGguY29zKHN0ZXBTaXplICogKHMgLSAwLjUpKSAqIHJhZGl1cyxcbiAgICAgIGNlbnRlclsxXSArIE1hdGguc2luKHN0ZXBTaXplICogKHMgLSAwLjUpKSAqIHJhZGl1c1xuICAgICk7XG4gICAgbGV0IGwgPSBNYXRoLnNxcnQoXG4gICAgICAobmV3UFswXSAtIG9sZFBbMF0pICogKG5ld1BbMF0gLSBvbGRQWzBdKSArXG4gICAgICAgIChuZXdQWzFdIC0gb2xkUFsxXSkgKiAobmV3UFsxXSAtIG9sZFBbMV0pXG4gICAgKTtcbiAgICBsZW4gKz0gbDtcbiAgICBtaWRkbGVQWzBdICs9IGwgKiBtaWRQWzBdO1xuICAgIG1pZGRsZVBbMV0gKz0gbCAqIG1pZFBbMV07XG4gICAgci5xdWFkcmF0aWNUbyhcbiAgICAgIDIgKiBtaWRQWzBdIC0gMC41ICogKG9sZFBbMF0gKyBuZXdQWzBdKSxcbiAgICAgIDIgKiBtaWRQWzFdIC0gMC41ICogKG9sZFBbMV0gKyBuZXdQWzFdKSxcbiAgICAgIC4uLm5ld1BcbiAgICApO1xuICAgIG9sZFAgPSBuZXdQO1xuICB9XG4gIHIuY2xvc2VQYXRoKCk7XG4gIHJldHVybiBbbWlkZGxlUFswXSAvIGxlbiwgbWlkZGxlUFsxXSAvIGxlbl07XG59XG5cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoXG4gIFwiZm9yZC1jaXJjbGVzXCIsXG4gIGxheWVycy5MYXllcmVkQ29tcG9uZW50KHtcbiAgICBjb25uZWN0ZWQoY29uZmlnKSB7XG4gICAgICBsZXQgYXN5bmNNYW5hZ2VyID0gbmV3IGFzeW5jTGliLkFzeW5jTWFuYWdlcjxcImRyYXdcIj4oKTtcblxuICAgICAgY29uc3QgcHIgPSBuZXcgQ29tcGxleFNjVHIoW2NvbmZpZy53aWR0aCAvIDIsIGNvbmZpZy5oZWlnaHQgLyAyXSwgMTAwKTtcblxuICAgICAgY29uc3QgZHpoID0gbmV3IERyYWdab29tSG92ZXIoXG4gICAgICAgIChkcmFnRGlyKSA9PiB7XG4gICAgICAgICAgcHIuYWRkVHJhbnNsYXRpb24oZHJhZ0Rpcik7XG4gICAgICAgICAgY29uZmlnLnVwZGF0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICAoem9vbUZhY3RvciwgY2VudGVyKSA9PiB7XG4gICAgICAgICAgbGV0IHAwID0gcHIucHJvamVjdChuZXcgQ29tcGxleCgwKSk7XG4gICAgICAgICAgbGV0IHAxID0gcHIucHJvamVjdChuZXcgQ29tcGxleCgxKSk7XG4gICAgICAgICAgbGV0IGQgPSBNYXRoLmFicyhwMFswXSAtIHAxWzBdKTtcbiAgICAgICAgICBpZiAoem9vbUZhY3RvciA8PSAoMC4xICogY29uZmlnLndpZHRoKSAvIGQpXG4gICAgICAgICAgICB6b29tRmFjdG9yID0gKDAuMSAqIGNvbmZpZy53aWR0aCkgLyBkO1xuICAgICAgICAgIHByLmFkZFpvb20oem9vbUZhY3RvciwgY2VudGVyKTtcblxuICAgICAgICAgIGNvbmZpZy51cGRhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge31cbiAgICAgICk7XG4gICAgICBkemgucmVnaXN0ZXJMaXN0ZW5lcnMoY29uZmlnLmNvbnRhaW5lckVsZW1lbnQpO1xuXG4gICAgICBsZXQgb3B0aW9ucyA9IGNvbmZpZy5hZGRMYXllcihcIk9wdGlvbnNcIiwgbGF5ZXJzLk9wdGlvbnMoKSk7XG4gICAgICBsZXQgUSA9IDMwO1xuICAgICAgbGV0IG1vZGU6IFwiSGFsZnBsYW5lXCIgfCBcIkNpcmNsZVwiID0gXCJIYWxmcGxhbmVcIjtcbiAgICAgIG9wdGlvbnMuYWRkKFwibnVtYmVyXCIsIHtcbiAgICAgICAgbGFiZWw6IFwiQ2lyY2xlcyB1cCB0byBkZW5vbWluYXRvclwiLFxuICAgICAgICBvbkNoYW5nZShxKSB7XG4gICAgICAgICAgUSA9IHEgPiAxID8gcSA6IDE7XG4gICAgICAgICAgY29uZmlnLnVwZGF0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0OiBRLFxuICAgICAgfSk7XG4gICAgICBvcHRpb25zLmFkZChcInJhZGlvXCIsIHtcbiAgICAgICAgbGFiZWw6IFwiU2hvdyBpbjpcIixcbiAgICAgICAgdmFsdWVzOiBbXG4gICAgICAgICAgeyBuYW1lOiBcIkhhbGZwbGFuZVwiLCBsYWJlbDogXCJVcHBlciBoYWxmcGxhbmVcIiB9LFxuICAgICAgICAgIHsgbmFtZTogXCJDaXJsY2VcIiwgbGFiZWw6IFwiVW5pdCBjaXJjbGVcIiB9LFxuICAgICAgICBdLFxuICAgICAgICBkZWZhdWx0OiBtb2RlLFxuICAgICAgICBvbkNoYW5nZShuYW1lKSB7XG4gICAgICAgICAgbW9kZSA9IG5hbWUgYXMgYW55O1xuICAgICAgICAgIGNvbmZpZy51cGRhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBvcHRpb25zLmFkZChtYW51YWxTaXppbmcsIGNvbmZpZyk7XG4gICAgICBvcHRpb25zLmFkZChcIm11bHRpQnV0dG9uXCIsIHtcbiAgICAgICAgbGFiZWw6IFwiRXhwb3J0IGFzXCIsXG4gICAgICAgIHZhbHVlczogW1xuICAgICAgICAgIHsgbmFtZTogXCJTVkdcIiwgbGFiZWw6IFwiU1ZHXCIgfSxcbiAgICAgICAgICB7IG5hbWU6IFwiVGlrWlwiLCBsYWJlbDogXCJUaWtaXCIgfSxcbiAgICAgICAgXSxcbiAgICAgICAgYXN5bmMgb25DbGljayhuYW1lKSB7XG4gICAgICAgICAgbGV0IHI6IHJlbmRlci5TVkcgfCByZW5kZXIuVGlrWjtcbiAgICAgICAgICBsZXQgZmlsZU5hbWU6IHN0cmluZyA9IFwiSHlwZXJib2xhXCI7XG4gICAgICAgICAgbGV0IGRhdGFUeXBlOiBzdHJpbmc7XG4gICAgICAgICAgaWYgKG5hbWUgPT0gXCJTVkdcIikge1xuICAgICAgICAgICAgciA9IG5ldyByZW5kZXIuU1ZHKGNvbmZpZy53aWR0aCwgY29uZmlnLmhlaWdodCk7XG4gICAgICAgICAgICBmaWxlTmFtZSArPSBcIi5zdmdcIjtcbiAgICAgICAgICAgIGRhdGFUeXBlID0gXCJpbWFnZS9zdmcreG1sXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09IFwiVGlrWlwiKSB7XG4gICAgICAgICAgICByID0gbmV3IHJlbmRlci5UaWtaKGNvbmZpZy53aWR0aCwgY29uZmlnLmhlaWdodCk7XG4gICAgICAgICAgICBmaWxlTmFtZSArPSBcIi50aWt6XCI7XG4gICAgICAgICAgICBkYXRhVHlwZSA9IFwidGV4dC9wbGFpblwiO1xuICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGZvcm1hdFwiKTtcblxuICAgICAgICAgIGxldCBwcm9taXNlO1xuICAgICAgICAgIGlmIChtb2RlID09IFwiSGFsZnBsYW5lXCIpXG4gICAgICAgICAgICBwcm9taXNlID0gZm9yZENpcmNsZXNJblBsYW5lKHIsIFEsIHsgcHJvamVjdGlvbjogcHIgfSk7XG4gICAgICAgICAgZWxzZSBwcm9taXNlID0gZm9yZENpcmNsZXNJblVuaXRTcGhlcmUociwgUSwgeyBwcm9qZWN0aW9uOiBwciB9KTtcblxuICAgICAgICAgIHByb21pc2UuY2F0Y2goKGUpID0+IGNvbnNvbGUubG9nKGUpKTtcblxuICAgICAgICAgIGF3YWl0IHByb21pc2U7XG5cbiAgICAgICAgICBkb3dubG9hZChyLnRvRmlsZVN0cmluZygpLCBmaWxlTmFtZSwgZGF0YVR5cGUpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbmZpZy5hZGRMYXllcihcbiAgICAgICAgXCJkcmF3XCIsXG4gICAgICAgIGxheWVycy5DYW52YXMoe1xuICAgICAgICAgIHVwZGF0ZShjb25maWcsIGN0eCkge1xuICAgICAgICAgICAgbGV0IHIgPSBuZXcgcmVuZGVyLkNhbnZhcyhjdHgpO1xuXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNvbmZpZy53aWR0aCwgY29uZmlnLmhlaWdodCk7XG5cbiAgICAgICAgICAgIGFzeW5jTWFuYWdlci5hYm9ydEFsbChcImRyYXdcIik7XG5cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcIkhhbGZwbGFuZVwiKVxuICAgICAgICAgICAgICBmb3JkQ2lyY2xlc0luUGxhbmUoXG4gICAgICAgICAgICAgICAgcixcbiAgICAgICAgICAgICAgICBRLFxuICAgICAgICAgICAgICAgIHsgcHJvamVjdGlvbjogcHIgfSxcbiAgICAgICAgICAgICAgICBhc3luY01hbmFnZXIuZ2V0TmV3KFwiZHJhd1wiLCAxMDApXG4gICAgICAgICAgICAgICkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZSAhPT0gXCJhYm9ydGVkXCIpIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgZm9yZENpcmNsZXNJblVuaXRTcGhlcmUoXG4gICAgICAgICAgICAgICAgcixcbiAgICAgICAgICAgICAgICBRLFxuICAgICAgICAgICAgICAgIHsgcHJvamVjdGlvbjogcHIgfSxcbiAgICAgICAgICAgICAgICBhc3luY01hbmFnZXIuZ2V0TmV3KFwiZHJhd1wiLCAxMDApXG4gICAgICAgICAgICAgICkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZSAhPT0gXCJhYm9ydGVkXCIpIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9LFxuICB9KVxuKTtcblxuZnVuY3Rpb24gYmVzdFEoc2NhbGU6IG51bWJlciwgZnM6IG51bWJlcikge1xuICBsZXQgUSA9IDA7XG4gIGxldCBQID0gMTtcbiAgbGV0IFAyID0gMDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoc2NhbGUgLyAoKFEgKyBQKSAqIChRICsgUCAtIDEpKSA8IDAuNzUgKiAoMSArIE1hdGgubG9nMTAoUSArIFApKSAqIGZzKSB7XG4gICAgICBpZiAoUDIgPT0gMCkgcmV0dXJuIFE7XG4gICAgICBRID0gUSArIFAyO1xuICAgICAgUCA9IDE7XG4gICAgICBQMiA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIFAyID0gUDtcbiAgICAgIFAgPSBQICogMjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gRmFyZXlGcmFjdGlvbnMoUTogbnVtYmVyKSB7XG4gIHJldHVybiB7XG4gICAgW1N5bWJvbC5pdGVyYXRvcl06IGZ1bmN0aW9uKiAoXG4gICAgICBzdGFydD86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdXG4gICAgKTogR2VuZXJhdG9yPFtudW1iZXIsIG51bWJlcl0sIHZvaWQsIHVua25vd24+IHtcbiAgICAgIGxldCBbYSwgYiwgYywgZF0gPSBzdGFydCA/PyBbMCwgMSwgMSwgUV07XG4gICAgICB5aWVsZCBbYSwgYl07XG4gICAgICB5aWVsZCBbYywgZF07XG4gICAgICB3aGlsZSAoZCAhPT0gMSkge1xuICAgICAgICBsZXQgayA9IE1hdGguZmxvb3IoKFEgKyBiKSAvIGQpO1xuICAgICAgICBbYSwgYiwgYywgZF0gPSBbYywgZCwgayAqIGMgLSBhLCBrICogZCAtIGJdO1xuICAgICAgICB5aWVsZCBbYywgZF07XG4gICAgICB9XG4gICAgfSxcbiAgICBhcHByb3hpbWF0ZSh2OiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSB7XG4gICAgICBsZXQgdl9pbnQgPSBNYXRoLmZsb29yKHYpO1xuICAgICAgdiA9IHYgLSB2X2ludDtcbiAgICAgIGxldCBhID0gMCxcbiAgICAgICAgYiA9IDEsXG4gICAgICAgIGMgPSAxLFxuICAgICAgICBkID0gMTtcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgbGV0IF90bXAgPSBjIC0gdiAqIGQ7IC8vIFRlbXBvcmFyeSBkZW5vbWluYXRvciBmb3IgMCBjaGVja1xuXG4gICAgICAgIC8vIEJhdGNoIGUxIHN0ZXBzIGluIGRpcmVjdGlvbiBjL2RcbiAgICAgICAgbGV0IGUxOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChfdG1wICE9IDApIGUxID0gTWF0aC5mbG9vcigodiAqIGIgLSBhKSAvIF90bXApO1xuICAgICAgICBpZiAoZTEgPT09IHVuZGVmaW5lZCB8fCBiICsgZTEgKiBkID4gUSkgZTEgPSBNYXRoLmZsb29yKChRIC0gYikgLyBkKTtcblxuICAgICAgICBhID0gYSArIGUxICogYztcbiAgICAgICAgYiA9IGIgKyBlMSAqIGQ7XG5cbiAgICAgICAgX3RtcCA9IGIgKiB2IC0gYTsgLy8gVGVtcG9yYXJ5IGRlbm9taW5hdG9yIGZvciAwIGNoZWNrXG5cbiAgICAgICAgLy8gQmF0Y2ggZTIgc3RlcHMgaW4gZGlyZWN0aW9uIGEvYlxuICAgICAgICBsZXQgZTI6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKF90bXAgIT0gMCkgZTIgPSBNYXRoLmZsb29yKChjIC0gdiAqIGQpIC8gX3RtcCk7XG4gICAgICAgIGlmIChlMiA9PT0gdW5kZWZpbmVkIHx8IGIgKiBlMiArIGQgPiBRKSBlMiA9IE1hdGguZmxvb3IoKFEgLSBkKSAvIGIpO1xuXG4gICAgICAgIGMgPSBhICogZTIgKyBjO1xuICAgICAgICBkID0gYiAqIGUyICsgZDtcblxuICAgICAgICAvLyBJZiBib3RoIHN0ZXBzIGRvIG5vdGhpbmcgd2UgYXJlIGRvbmVcbiAgICAgICAgaWYgKGUxID09IDAgJiYgZTIgPT0gMCkgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2EsIGIsIGMsIGRdO1xuICAgIH0sXG4gICAgc3RhcnRBdCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250aW51ZSguLi50aGlzLmFwcHJveGltYXRlKHZhbHVlKSk7XG4gICAgfSxcbiAgICBjb250aW51ZShhOiBudW1iZXIsIGI6IG51bWJlciwgYzogbnVtYmVyLCBkOiBudW1iZXIpIHtcbiAgICAgIGlmIChiICogYyAtIGEgKiBkICE9PSAxIHx8IGIgKyBkIDw9IFEpXG4gICAgICAgIHRocm93IGAke2F9LyR7Yn0gYW5kICR7Y30vJHtkfSBhcmUgbm90IGNvbnNlY3V0aXZlYDtcbiAgICAgIHJldHVybiB0aGlzW1N5bWJvbC5pdGVyYXRvcl0oW2EsIGIsIGMsIGRdKTtcbiAgICB9LFxuICB9O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjZqQkFJTyxXQUFzQixDQUczQixhQUFjLENBRk4sU0FBTSxHQUFJLEtBSWxCLE9BQU8sRUFBWSxFQUFxQyxDQUN0RCxNQUFPLENBQ0wsT0FBUSxJQUFNLENBQ1osR0FB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
</script><ford-circles ><div style="display:grid;justify-items:center;align-items:center;width:100%;height:100%;"><h2 >Javascript required!</h2></div></ford-circles>
</div>
</main>
  </body>
</html>
